!function e(t,n,r){function i(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return i(n||e)},p,p.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this,i.flUiFormRenderer=e()}}(function(){return function t(n,r,i){function a(o,l){if(!r[o]){if(!n[o]){var c="function"==typeof e&&e;if(!l&&c)return c(o,!0);if(s)return s(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var m=r[o]={exports:{}};n[o][0].call(m.exports,function(e){var t=n[o][1][e];return a(t||e)},m,m.exports,t,n,r,i)}return r[o].exports}for(var s="function"==typeof e&&e,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){"use strict";function r(e,t,n){var r=e.$eval(t),i=n.split("."),a=i.pop(),s=i.join("."),o=s?e.$eval(s):e;o[a]=JSON.parse(r),e.$watch(t,function(e){JSON.stringify(o[a])!==e&&(o[a]=JSON.parse(e))}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}function i(e){if(e._sensitive&&e.step){var t=null!=e.step.formFieldValues[e.id]&&""!==e.step.formFieldValues[e.id];return t&&e.sensitiveRedacted||t&&e.overrideVisibility&&!0===e.overrideVisibility}return!1}function a(){return s}n.fieldTemplateHlp=a,n.bindConfigObject=r;var s={getTag:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(e._fieldType&&e._fieldType.includes("read"))return n;if(i(e)&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),e._fieldType.startsWith("super-")){var r;if(n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"'),"super-digital-signature"===e._fieldType)r="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"');else if("super-input-radio"===e._fieldType){for(var a=t.findIndex(function(t){return t===e}),s=e.config.name||"",o=e;a--;)"super-input-radio"===t[a]._fieldType&&t[a].config.name===s&&(o=t[a]);r="field.step.formFieldValues['"+o.id+"']"}else r="field.step.formFieldValues['"+e.id+"']";if("super-input-radio"===e._fieldType&&(n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"')),!e.disabled){var l=e._required&&!e.disabled?"Required":"",c=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");if(e._validator){console.log("has validator"),console.log(e);(!e._validator.applyOnRequired||e._required&&e._validator.applyOnRequired)&&n.push('ss-validate="validator.'+e._validator.type+l+"("+r+", '"+c+"')\"")}else e._required&&n.push('ss-validate="ignoreValidations || validator.required('+r+", '"+c+"')\"")}n.push('model="'+r+'"')}return e._fieldType.startsWith("cmp-")&&n.push('field="field"'),"link"===e._fieldType&&(n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"')),n.join(" ")},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"instructions":case"readOnlyText":case"readOnlyCredentials":case"readOnlyDate":case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(e,t,n){var r,a="";switch(e._fieldType){case"heading":return"{{field._label}}";case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(e.step&&null!=e.step.formFieldValues[e.id])if(e._fieldTypeOptions&&"super-select-list"===e._fieldTypeOptions.edit){var s=e.step.formFieldValues[e.id],o=e.externalSourceOptions.find(function(e){return e.value===s});r=null!=o?o.name:"--"}else r=null!=e.step.formFieldValues[e.id]?e.step.formFieldValues[e.id]:"--";else r=null!=r?r:"--";return i(e)&&(a='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+a+">"+r+"</dd>";case"readOnlyDate":return e.step&&null!=e.step.formFieldValues[e.id]&&(r=e.step.formFieldValues[e.id]),r=null!=r?n("date")(r,"MM/dd/yyyy"):"--/--/--",i(e)&&(a='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+a+">"+r+"</dd>";case"readOnlyCredentials":return null==e.config.readOnly||null!=e.config.populate&&!e.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+e.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":return null!=e.externalSourceOptions?"<"+e._fieldType+'-item ng-repeat="option in field.externalSourceOptions track by $index" value="option.value" label="option.name"></'+e._fieldType+"-item>":"<"+e._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+e._fieldType+"-item>";default:return""}}}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-forms")},{"./includes":22,"./module":23,"./partials.compiled":24}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$stateParams",function(e,t){function n(e){null!=e&&(r.template="super-input-radio"===e?"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'\']"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tname="{{field.id}}"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">":"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'-\' + $index + \'\']"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tname="{{option}}"\n\t\t\t\t\trequired="field._required"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\t></'+e+">")}var r=e.vm={template:"",validate:function(){return!0},isDisabled:e.field.disabled};e.field._required&&!0===e.field.config.multiple&&(r.validate=function(t,n){for(var r=0;r<e.field._options.length;r++)if(!0===t[e.field.id+"-"+r])return!0;return n+" is required."});e.go={};e.$watch("field.config",function(t){e.$watch("field.config.selectType",function(e){n(e)})})}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":15}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpCredentialsList",function(){return new c(l,"credentials-list")})},{"base-component":15}],5:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",filter:"=",type:"@",endpoint:"&"},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$state","ssAsync","ssListSvc","$location","ssActiveUserSvc","ssFormInstancesApi","ssEmployeeApi","ssToastHlp","ssStorage","enumFormAdministratorType",function(e,t,n,i,a,s,o,l,c,p,m){function d(){h=0,v=0,T.formsAndPackets=[],u()}function u(){return null!=_&&(_.$abort(),_=null),_=n(regeneratorRuntime.mark(function t(){var n,i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h=T.isSorting?h:h+1,n=T.isSearching||T.isSorting?0:(h-1)*b,v=T.isSorting?v:v+b,i=e.endpoint(),i.config.limit=T.isSorting?v:b,i.config.offset=n,i.config=Object.assign(i.config,g(T.sortBy)),t.next=10,i.api(i.config);case 10:a=t.sent,y=parseInt(a.$headers["total-results"],10),a=f(a),a=a.filter(function(e){return"inactive"!==e.status}),T.formsAndPackets=T.isSorting?[].concat(r(a)):[].concat(r(T.formsAndPackets),r(a)),s=v-a.length,T.showInfScroll=a.length<y-s,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),T.showInfScroll=!1;case 22:return t.prev=22,T.isLoading=!1,T.isSearching=!1,T.isSorting=!1,_=null,t.finish(22);case 28:case"end":return t.stop()}},t,this,[[0,19,22,28]])}))()}function f(e){return e.forEach(function(e){null!==e._formAdministrator.employeeId?e.adminName=e._formAdministrator.name:e.adminName=m.byValue(e._formAdministrator.formAdministratorType)||"None"}),e}function g(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var y,b=50,h=0,v=0,_=null,w={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},T=e.vm={formsAndPackets:[],showInfScroll:!0,isLoading:!1,isSearching:!1,isSorting:!1,sortCriteria:[{name:"Form Category",value:{field:"categoryname",dir:"asc"}},{name:"Form Administrator Type",value:{field:"formadministratortype",dir:"desc"}},{name:"Form Name (A-Z)",value:{field:"name",dir:"asc"}}]};T.sortBy=T.sortCriteria[0].value;e.go={initiateForm:function(e){e.initiating=!0;var t=null;n(regeneratorRuntime.mark(function n(){var r,i,l,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.getIdentityByType("employee");case 3:if(r=n.sent,1!==e._formAdministrator.formAdministratorType){n.next=6;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 6:return i=angular.copy(w),i.attributes[0].formTemplate.formTemplateId=e.id,i.attributes[0].employee.employeeId=r,n.next=11,o.send(i,{isemployeeinitiated:!0});case 11:l=n.sent,p=l[0]._steps.filter(function(e){return null!=e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}),r===l[0].currentStep._stepParticipant.employeeIds[0]?t="/ec-forms/inbox/"+l[0].id+"?returnUrl=/ec-forms/inbox&activeTab=initiate":c.success('"'+l[0].name+'" has been sent',"Form Sent",!1),t&&a.url(t),e.initiating=!1,n.next=23;break;case 19:n.prev=19,n.t0=n.catch(0),e.initiating=!1,c.error(n.t0,"Error",!1);case 23:case"end":return n.stop()}},n,this,[[0,19]])}))()},setInboxDefaultTab:function(){p.save("inboxDefaultTab","EmployeeInitiated",{persistent:!0,expires:null})}};e.$on("$destroy",e.$watch("vm.sortBy",function(e,t){e!==t&&(T.formsAndPackets=[],T.isSorting=!0,T.isLoading=!1,T.isSearching=!1,T.sortBy=e,u())})),e.$on("$destroy",e.$watch("search",function(e,t){e!==t&&(T.isSearching=!0,T.isLoading=!1,T.isSorting=!1,d())})),e.scrollData=function(){T.isLoading=!0,e.filter!==e.type&&h<0||T.showInfScroll&&null==_&&u()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpEmpInitiatedTemplate",function(){return new p(c,"emp-initiated-template")})},{"base-component":15}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={group:"=",ignoreValidations:"=",org:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.group,e.vm={},e.go={}}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpFieldGroupRenderer",function(){return new c(l,"field-group-renderer")})},{"base-component":15}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l=e("fl-ui-form-renderer"),c={field:"=",group:"=",ignoreValidations:"=",org:"=?"},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$filter","ssValidationHlp","ssObjectHlp",function(e,t,n,r){function i(n){var r=(0,l.fieldTemplateHlp)().getTag(n),i=(0,l.fieldTemplateHlp)().getProperties(n,o),a=(0,l.fieldTemplateHlp)().getContent(n,e.$root,t);p.template="<"+r+i+">"+a+"</"+r+">"}var a=r.glean,s=e.field,o=e.group,c=function(e){return e+" is required"},p=e.vm={template:""};e.validator={required:n.required(),numeric:n.numeric(),numericRequired:n.numeric({required:!0}),numericString:n.string({},[function(e,t){return/^\d+$/.test(e)||t+" must be a string of numbers"}]),numericStringRequired:n.string({required:!0},[function(e,t){return/^\d+$/.test(e)||t+" must be a string of numbers"}]),phone:n.phone(),phoneRequired:n.phone({required:!0}),ssn:n.string({minLength:9,maxLength:9},[function(e,t){return/^\d+$/.test(e)||t+" must be a string of numbers"}]),ssnRequired:n.string({required:!0,minLength:9,maxLength:9},[function(e,t){return/^\d+$/.test(e)||t+" must be a string of numbers"}]),email:n.email(),emailRequired:n.email({required:!0}),zip:n.zip(),zipRequired:n.zip({required:!0}),digitalSignatureRequired:n.object({required:!0},[function(e,t){return a(e,function(e){return e.isSigned&&null!=e.name&&""!==e.name.trim()||c(t)},c(t))}]),fileUploadRequired:n.string({required:!0})},(0,l.bindConfigObject)(e,"field._configJson","field.config"),e.$watch("ignoreValidations",function(){return Object.assign(e.field,{ignoreValidations:e.ignoreValidations})}),e.$watchGroup(["field._fieldType","field.overrideVisibility"],function(){return i(s)}),e.$watch((0,l.fieldTemplateHlp)().getVisibility(s),function(e){return p.visibility=e})}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpFieldRenderer",function(){return new p(c,"field-renderer")})},{"base-component":15,"fl-ui-form-renderer":1}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$element","$document","ssAsync","ssEventSvc","ssToastHlp","ssFormTemplatesApi",function(e,t,n,r,i,a,s){function o(){e.$destroy(),e=null,t.remove(),t=null,p.removeClass(c),i.emit("fl-share-form-cancel")}var l=e.vm={formName:e.template._name,org:[],saving:!1},c="shown",p=angular.element(n[0].getElementById("modal-fade"));p.addClass(c);e.go={cancel:o,share:function(){l.saving=!0;var t=l.org[0];r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.shareToOrg(e.template.id,{destinationOrgId:t.Id,destinationTemplateName:l.formName}).then(function(e){if(-1===e.status||e.status>=400)return 422===e.status?a.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):a.error("",'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),void(l.saving=!1);a.success("",'"'+l.formName+'" has been shared to '+t.Name+" ("+t.Id+")"),o()}).catch(function(e){422===e.status?a.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):a.error(e,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),l.saving=!1});case 2:case"end":return n.stop()}},n,this)}))()}};angular.element(document.body).append(t)}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpFlShareForm",function(){return new c(l,"fl-share-form")})},{"base-component":15}],9:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",count:"=",filter:"=",type:"@",endpoint:"&"},p={0:"Complete Form",1:"Review Form",2:"Review & Approve",3:"View Form",4:"Review Profile"},m=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$filter","$state","rAF","enumStepAction","enumFormStatus","ssAsync","ssObjectHlp","ssDateHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,a,s,o,l,c,m,d){function u(){O=0,S=0,A.formsAndPackets=[],f()}function f(){return A.loading=!0,o(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,O=A.sorting?O:O+1,n=(O-1)*P,S=A.sorting?S:S+P,r=e.endpoint(),x=r.config.id,r.config.limit=A.sorting?S:P,r.config.offset=A.sorting?0:n,r.config=Object.assign(r.config,T(A.sortBy)),!r.config.id){t.next=15;break}return t.next=12,r.api(r.config);case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:a=t.t0,e.count=parseInt(a.$headers["total-results"],10),g(a),A.showInfScroll=S<e.count,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),A.showInfScroll=!1;case 25:return t.prev=25,A.loading=!1,A.sorting=!1,t.finish(25);case 29:i(function(){A.loading=!1,e.$emit("forms-inbox.data-loaded")},e);case 30:case"end":return t.stop()}},t,this,[[0,22,25,29]])}))()}function g(e){e.forEach(function(e){e.userIsPrimary=null!==e._employee.employeeId&&e._employee.employeeId===x,b(e),e.formStatus=y(e),e._dueDateUtc&&(e.dueDateStatus=d.dueStatus(e,D.org))});var t=w(e);A.formsAndPackets=A.sorting?[].concat(r(t)):[].concat(r(A.formsAndPackets),r(t))}function y(e){if(!e.currentStep)return"No Workflow";if(!e.isUserStep){if(e.isSubmitted){var t=h(e._steps);return"Submitted "+m.utcIsoToRelativeMoment(e._steps[t]._submittedDtUtc,D.org).format("MM/DD/YY")}if(e.isComplete){return"Completed "+m.utcIsoToRelativeMoment(e._completionDateUtc,D.org).format("MM/DD/YY")}return e.isPending?"Workflow Pending":""}if(e.isRejected){return"Denied "+m.utcIsoToRelativeMoment(e.currentStep._submittedDtUtc,D.org).format("MM/DD/YY")+" "+v(e)}if(e.currentStep._lastModifiedDtUtc&&!e.isSubmitted&&!e.isComplete){return"Progress Saved "+m.utcIsoToRelativeMoment(e.currentStep._lastModifiedDtUtc,D.org).format("MM/DD/YY")}}function b(e){if(e.isUserStep=!1,e.isPending=!1,e.isSubmitted=!1,e.isComplete=!1,e.isRejected=!1,e.rejectedByUser=!1,e.stepActionName="undefined",e.stepActionLabel=null,e.currentStep&&(e.stepActionLabel=null!==e.currentStep._stepAction?p[e.currentStep._stepAction]:p[3],e.currentStep._stepAction===a.formEntry?e.stepActionName="Fill Out Form":e.stepActionName=a.byValue(e.currentStep._stepAction),e.isComplete=e.currentStep._stepAction===a.formCompleted,!e.isComplete)){var t=l.glean(e,function(e){return e.currentStep._meta.permissions.permittedActions.edit},!1),n=e._steps.indexOf(e.currentStep),r=h(e._steps);e.isSubmitted=n>=r&&null!=e._steps[r]._submittedDtUtc&&!c.isForeverPast(e._steps[r]._submittedDtUtc),null!=e.currentStep._stepParticipant&&angular.isArray(e.currentStep._stepParticipant.employeeIds)&&(e.isUserStep=e.currentStep._stepParticipant.employeeIds[0]===x),e.isUserStep&&e._statusId===s.rejected&&(e.isRejected=!0,2===e.currentStep._stepAction&&(e.rejectedByUser=!0)),e.isPending=!e.isUserStep&&!e.isSubmitted&&!t}}function h(e){for(var t=e.length-1;t>=0;t--)if(null!=e[t]._stepParticipant&&angular.isArray(e[t]._stepParticipant.employeeIds)&&e[t]._stepParticipant.employeeIds[0]===x)return e.indexOf(e[t])}function v(e){if(!e.rejectedByUser&&e.isUserStep){var t=e._steps.indexOf(e.currentStep)+1;return"by "+e._steps[t]._stepParticipant.name}return""}function _(e){var t=e.reduce(function(e,t){return e._completionDateUtc>t._completionDateUtc?e:t});return m.utcIsoToRelativeMoment(t._completionDateUtc,D.org).format("MM/DD/YY")}function w(e){var t=new Map;return e.map(function(e,n,r){var i,a,s,o;return e.isPacket=!1,e.isInPacket?(t.has(e._packetInstance.instanceId)||t.set(e._packetInstance.instanceId,{name:e._packetInstance.name,isPacket:!0,isRejected:!1,showDetails:!1,content:[]}),a=e._packetInstance.completeFormInstanceIds.length,s=e._packetInstance.incompleteFormInstanceIds.length,o=a+s,i=t.get(e._packetInstance.instanceId),i.content.push(e),i.dueDateStatus=function(){var e=i.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=i.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),i.formStatus=function(){var e=i.content.filter(function(e){return e.isRejected});return e.length?(i.isRejected=!0,1===e.length?"form denied "+v(e[0]):e.length>1?e.length+" forms denied":void 0):0===s?"Completed "+_(i.content):a+"/"+o+" Forms Completed"}(),i.content.length>1?null:i):e}).filter(function(e){return null!=e})}function T(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var x,D=e.$root.utils.findInParentScope("routeVm",e),O=0,P=50,S=0,k=e.type,A=e.vm={formsAndPackets:[],showInfScroll:!0,loading:!1,refreshing:!1,sorting:!1,sortCriteria:[{name:"Most Recent",value:{field:"recentlysent",dir:"desc"}},{name:"Due Date",value:{field:"duedate",dir:"asc"}},{name:"Form/Packet Name (A-Z)",value:{field:"formname",dir:"asc"}}],type:k};A.sortBy=A.sortCriteria[1].value;e.go={complete:function(e){n.go("base.inboxFormInstance",{formInstanceId:e.id,activeTab:k})},toggleDetails:function(e){e.showDetails=!e.showDetails}};e.$watch("vm.sortBy",function(e,t){e!==t&&null!=A.formsAndPackets&&0!==A.formsAndPackets.length&&(A.sortBy=e,A.sorting=!0,f())}),e.$watch("search",function(e,t){e!==t&&u()}),e.scrollData=function(){e.filter!==e.type&&O<0||A.showInfScroll&&!A.loading&&f()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpFormListGroup",function(){return new m(c,"form-list-group")})},{"base-component":15}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={org:"=",form:"=",batch:"=",onComplete:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","ssAsync","$q","ssFormInstancesApi","$timeout","ssToastHlp","ssStorage","moment","$filter","$sce","ssDateByOrgHlp",function(e,t,n,r,i,a,s,o,l,c,p){function m(){d.inProgress=!1;var t=p.utcIsoToRelativeMoment(d.status._endedAtUtc,e.org),n=t.calendar(null,{sameDay:"[Sent Today at] LT",lastDay:"[Sent Yesterday at] LT",sameElse:"[Sent on] l [at] h:mm a"});d.statusHelperText=c.trustAsHtml(""+n),d.status._numFailed?(d.hasFailures=!0,d.sendStatusText=g+" sent to "+(d.numInBatch-d.numFailed)+" employees",d.progressMessage=d.numFailed+" failed to send",d.progressMessageClass="error",u||a.standard("",'"'+e.form._name+'" sent to '+d.numInBatch+" people, but only "+d.numComplete+" succeeded",!1)):(d.sendStatusText=g+" sent to "+d.numInBatch,d.progressMessage="Success!",d.progressMessageClass="success",u||a.success("",'"'+e.form._name+'" sent successfully to '+d.numInBatch+" "+(d.status._numInBatch>1?"people":"person"),!1),i(function(){y.removeBatch()},3e3))}var d=e.vm={progressMessage:"",status:"",sendStatusText:"",statusHelperText:"",percentComplete:"0%",loading:!0,inProgress:!1,showRemove:!0,loadingMessage:""},u=!1,f=!0,g="FormTemplate"===e.form._objectType?"Form":"Packet";d.formattedRecipientLength=l("number")(e.batch._includedEmployeeIds.length,0),d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.statusHelperText=c.trustAsHtml("<strong>This may take several minutes.</strong> Sender will be notified and emailed when complete.");var y=e.go={removeBatch:function(){e.onComplete({batch:e.batch})},archiveBatch:function(){d.loadingMessage="Archiving batch...",d.loading=!0,d.status._isArchived=!0,d.status.$save().then(function(){y.removeBatch(),a.success("","Batch successfully archived")}).catch(function(e){console.error(e),a.error("","There was a problem archiving the batch. Please try again")}).finally(function(){d.loadingMessage="",d.loading=!1})}};(function(){function t(){r.getBatchStatus({id:e.batch.id}).then(function(e){switch(d.loading=!1,d.loadingMessage="",d.status=e,d.numInBatch=l("number")(d.status._numInBatch,0),d.numFailed=l("number")(d.status._numFailed,0),d.numComplete=l("number")(d.status._numComplete,0),d.status._status){case 0:d.progressMessage="Preparing to send",d.progressMessageClass="waiting",d.sendStatusText="Preparing "+g+" for "+d.formattedRecipientLength;break;case 1:d.inProgress=!0,d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.percentComplete=d.status._percentComplete+"%";break;case 3:d.inProgress=!0,d.percentComplete="100%"}3===d.status._status||4===d.status._status||5===d.status._status?(u=f,i(function(){a.resolve()},3e3)):(f=!1,i(t,3e3))})}var a=n.defer();return d.loadingMessage="Preparing batch...",t(),a.promise})().then(function(){m()})}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpFormSendStatus",function(){return new c(l,"form-send-status")})
},{"base-component":15}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.checked=!1}function o(e,t){if(e.length>0){var n={};return n["filter["+t+"]"]=e.map(function(e){return e.id}).join(","),n}return null}function l(e,t){var n={};if(null!=e){var r=e.split(" ").join(",");return n["filter["+t+"]"]=r,n}return null}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=e("base-component"),m={label:"@",model:"=",exclusions:"="},d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"controller",value:["$scope","$rootScope","$document","$element","ssAsync","ssListSvc","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","enumEmployeeStatus","ssStringHlp","ssDateByOrgHlp","moment","ssToastHlp",function(e,t,n,r,i,a,c,p,m,d,u,f,g,y,b){function h(t){var n=e.exclusions.map(function(e){return{id:e.id}});return t.filter(function(e){return!n.find(function(t){return t.id===e.id})})}function v(e,t){var n=e.map(function(e){return e.id}),r=t.filter(function(e){return!n.includes(e.id)});r.forEach(function(e){t.splice(t.indexOf(e),1)}),r.length&&b.warn("One or more of the selected exclusions are not members of the current recipient group and have therefore been removed","")}e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var _=y().format("MM/DD/YYYY"),w=null,T=null,x={selected:{},exclusions:[]},D=e.vm={asOf:_,formOpened:!1,filtering:!1,attempted:!1,selected:{location:[],jobType:[],employmentGroup:[],department:[],status:null,hireDateStart:null,hireDateEnd:null},employmentGroupDisabled:!1};i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getAll();case 3:return D.locations=e.sent,e.next=6,p.getAll();case 6:return D.jobTypes=D.jobTypesAll=e.sent,e.next=9,a.getByExternalId("jobtype.employmentgroups");case 9:return D.employmentGroups=e.sent,D.employmentGroups=D.employmentGroups.map(function(e){return{_name:e.name,id:e.value}}),e.next=13,m.getAll();case 13:D.departments=e.sent,D.status=u.getEnums().map(function(e){return{_name:f.toProperCase(e.name.toLowerCase()),id:e.value}}),D.selected.status=[D.status.find(function(e){return e.id===u.active})],e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("ERROR",e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])}))();var O=e.go={cancel:function(){D.formOpened=!1,D.filtering=!1,e.model.length&&(D.selected=angular.copy(x.selected,D.selected),e.exclusions=angular.copy(x.exclusions,e.exclusions))},resetFilters:function(){D.status[1].checked=!0,D.selected.status.push(D.status[1])},clearAllFilters:function(){D.selected.location=[],D.selected.jobType=[],D.selected.employmentGroup=[],D.selected.department=[],D.selected.status=[],D.selected.hireDateStart="",D.selected.hireDateEnd="",D.locations.forEach(s),D.jobTypes.forEach(s),D.employmentGroups.forEach(s),D.departments.forEach(s),D.status.forEach(s),e.exclusions=[],D.attempted=!1,D.filtering=!1},toggleFilter:function(){e.model.length||(O.clearAllFilters(),O.resetFilters()),D.formOpened=!D.formOpened},addGroup:function(){D.filtering=!0;var t=D.selected.hireDateStart&&D.selected.hireDateStart.toISOString()?g.startOfDayRelativeTo(y(D.selected.hireDateStart.toISOString()),e.routeVm.org):null,n=D.selected.hireDateEnd&&D.selected.hireDateEnd.toISOString()?g.endOfDayRelativeTo(y(D.selected.hireDateEnd.toISOString()),e.routeVm.org):null,r=Object.assign({},{fields:"firstname,lastname,id",limit:1e4,asOfTimeUtc:g.safeAsOfDateRelativeTo(y(D.asOf).startOf("day"),e.routeVm.org)},o(D.selected.location,"location"),o(D.selected.jobType,"jobType"),o(D.selected.employmentGroup,"employmentGroup"),o(D.selected.department,"department"),o(D.selected.status,"status"),l(t,"hiredatestart"),l(n,"hiredateend"));w=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.query(r);case 3:T=t.sent,T=T.map(function(e){return{id:e.id}}),D.attempted=!0,v(T,e.exclusions),e.model=h(T),e.model.length&&(D.formOpened=!1,x.exclusions=angular.copy(e.exclusions,x.exclusions),x.selected=angular.copy(D.selected,x.selected)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("error retrieving employees",t.t0);case 14:return t.prev=14,D.filtering=!1,w=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,11,14,18]])}))()}};e.routeVm.removeGroup=function(){D.formOpened&&O.toggleFilter(),e.model=[],O.clearAllFilters(),O.resetFilters()},t.$on("$destroy",t.$on("parentAsOfDate-Change",function(e,t){null==t||null==t.asOf||""===t.asOf.toString()?D.asOf=_:D.asOf=y(t.asOf).format("MM/DD/YYYY")})),e.$on("destroy",e.$watch("vm.selected.jobType.length",function(e,t){e!==t&&(e>0?(D.employmentGroupDisabled=!0,D.selected.employmentGroup=[],D.employmentGroups.forEach(s)):D.employmentGroupDisabled=!1)})),e.$on("destroy",e.$watch("vm.selected.employmentGroup.length",function(e,t){if(e!==t)if(e>0){var n=D.selected.employmentGroup.map(function(e){return e.id}),r=D.jobTypesAll.map(function(e){return e._bargainingUnit.id});D.jobTypes=[];var i=r.filter(function(e){var t=e.split("_")[1];return!0===n.includes(t)});D.jobTypes=D.jobTypesAll.filter(function(e){return!0===i.includes(e._bargainingUnit.id)})}else D.jobTypes=D.jobTypesAll})),e.$on("destroy",e.$watch("vm.selected",function(e,t){e!==t&&w&&(w.$abort(),D.filtering=!1,D.attempted=!1)},!0))}]}]),t}(p.Component);angular.module("ec-forms-components").directive("cmpMultipleEmployeeSearch",function(){return new d(m,"multiple-employee-search")})},{"base-component":15}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={template:"=",org:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$state","$location","buildConfig","ssAsync","ssActiveUserSvc","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","enumFormAdministratorType","ssFormInstancesApi","ssArrayHlp","ssToastHlp","ssEventSvc","ssObjectHlp",function(e,t,n,r,i,a,s,o,l,c,p,m,d,u,f,g){var y=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),b=r.sharedFormsOrg,h=g.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1),v={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},_=e.vm={pendingMessage:"",showShare:!1};e.go={delete:function(e){var t={title:"Delete Form Template",content:"Once deleted, this form template will be removed and cannot be retrieved.",primaryText:"Delete Template",secondaryText:"Cancel"};s.showDestructive(t).then(function(){y.loading=!0,y.loadingMessage='Deleting "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$remove();case 3:return t.next=5,y.loadFormTemplates(!1);case 5:u.success("",'"'+e._name+'" has been deleted'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,y.loading=!1,y.loadingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},sendToSelf:i(regeneratorRuntime.mark(function e(t){var r,i,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPending=!0,_.pendingMessage='Initiating "'+t._name+'"',r=null,e.next=5,a.getIdentityByType("employee");case 5:if(i=e.sent,e.prev=6,t._formAdministrator.formAdministratorType!==p.formPacketSender){e.next=9;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 9:return s=angular.copy(v),s.attributes[0].formTemplate.formTemplateId=t.id,s.attributes[0].employee.employeeId=i,e.next=14,m.send(s,{isemployeeinitiated:!0});case 14:o=e.sent,i===o[0].currentStep._stepParticipant.employeeIds[0]?r="/ec-forms/inbox/"+o[0].id+"?from=/ec-forms&returnUrl=/ec-forms/inbox":u.success('"'+o[0].name+'" has been sent',"Form Sent",!1),r&&n.url(r),t.isPending=!1,_.pendingMessage="",e.next=27;break;case 22:e.prev=22,e.t0=e.catch(6),u.error(e.t0,"Error",!1),t.isPending=!1,_.pendingMessage="";case 27:case"end":return e.stop()}},e,this,[[6,22]])})),send:function(e){t.go("base.send",{id:e.id,type:"FormTemplate"})},preview:function(e){n.url("/ec-formbuilder/form/"+e.id+"/preview?returnUrl=/ec-forms/")},edit:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};s.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}},copy:function(e){e.isPending=!0,_.pendingMessage="Copying "+e._name,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.copy({id:e.id});case 3:return n=t.sent,t.next=6,y.loadFormTemplates(!1);case 6:d.findWhere(y.displayTemplates,{id:n.id}).isHighlighted=!0,u.success("",n._name+" created"),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,_.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()},archive:function(e){var t={title:"Archive Form Template",content:e._name+" will not be deleted, but will be removed from this list.",primaryText:"Archive Template",secondaryText:"Cancel"};s.showDestructive(t).then(function(){e.isPending=!0,_.pendingMessage='Archiving "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.update({id:e.id},{statusId:c.archived,from:(new Date).toISOString()});case 3:return t.next=5,y.loadFormTemplates(!1);case 5:u.success("",'"'+e._name+'" has been archived'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,e.isPending=!1,_.pendingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},deactivate:function(e){var t={title:"Deactivate Form Template",content:"Deactivating this template will disable it from being sent.",primaryText:"Deactivate",secondaryText:"Cancel"};s.showDestructive(t).then(function(){y.loading=!0,y.loadingMessage='Deactivating "'+e._name+'"',o.editActive(e).then(function(t){y.loadFormTemplates(!1).then(function(){y.loading=!1,y.loadingMessage=null}).catch(function(t){u.error('There was a problem deactivating "'+e._name+'"',"Form Template")})}).catch(function(t){u.error('There was a problem deactivating "'+e._name+'"',"Form Template")})})},canShare:function(t){return h&&"active"===t.status&&e.org.id===b},share:function(){_.showShare=!0}};f.on("fl-share-form-cancel",function(){_.showShare=!1},e)}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpTemplateListForm",function(){return new c(l,"template-list-form")})},{"base-component":15}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$state","$location","ssAsync","ssPacketsApi","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","ssToastHlp",function(e,t,n,r,i,a,s,o,l,c){var p=e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.go={send:function(e){t.go("base.send",{id:e.id,type:"Packet"})},toggleDetails:function(e){e.detailsOpen||e.contents||(e.loading=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e.id});case 3:return e.contents=t.sent,n=e.contents._formTemplateIds,t.next=7,n.map(function(e){return s.get({include:"steps,statusHistory",id:e})});case 7:e.contents.forms=t.sent,e.contents.forms.forEach(p.extendCommonProps),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()),e.detailsOpen=!e.detailsOpen},editPacket:function(e){var t="/ec-formbuilder/packet/"+e.id+"/builder";n.url(t)},editForm:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};a.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}}}}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpTemplateListPacket",function(){return new c(l,"template-list-packet")})},{"base-component":15}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-component"),l={label:"@"},c={transclude:!0},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={label:e.label,hasLabel:!!e.label},e.go={}}]}]),t}(o.Component);angular.module("ec-forms-components").directive("cmpTwoColumnList",function(){return new p(l,"two-column-list",c)})},{"base-component":15}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,i)}},{}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],18:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-forms").run(r)},{}],19:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-forms").config(r)},{}],20:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){return c}var a=e("fl-ui-form-renderer"),s={_label:"",_active:!0,_configJson:'{"width": "100%"}',_externalData:"",_fieldGroup:null,_fieldType:"super-input-text",_fieldTypeOptions:{},_hideRequired:!1,_options:null,_required:!1,_sensitive:!1},o={legalName:[{_label:"Legal Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45",_label:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"b2d3891a-9b39-4ea7-b00f-597a355c2bda",_label:"First",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"72cdb2b4-6073-47fd-a4b3-70e1fffe5504",_label:"Middle",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"14259f84-46e7-4b73-9558-8a225171e7e1",_label:"Last",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"f443473f-bf27-4421-96e3-78d2730b3fe9",_label:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_sampleData:2,_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],aliasName:[{_label:"Other Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"8f4a60cd-548e-419b-bfd4-fdf92c3fbe60",_label:"First",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName"}',_externalData:"Employee.AliasFirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"37ef5ec9-6356-4d96-83c1-f184fcc93b08",_label:"Middle",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName"}',_externalData:"Employee.AliasMiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"fc7c530f-49e8-493a-ad8c-678675061cfc",_label:"Last",_configJson:'{"width":"33%", "readOnly":"_aliasLastName"}',_externalData:"Employee.AliasLastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_label:"Address",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"4429b708-0db0-4d8d-af45-baeb4ca01245",_label:"Address 1",_configJson:'{"width":"100%", "readOnly":"address._street1"}',_externalData:"Employee.Addresses.Primary.Street1",_sampleData:"123 Main St.",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e4d6142e-8c45-4a81-8cf9-3740a6923382",_label:"Address 2",_configJson:'{"width":"100%", "readOnly":"address._street2"}',_externalData:"Employee.Addresses.Primary.Street2",_sampleData:"Apt. 1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e5ecad6a-5193-48b2-be95-ebd7401a5cf5",_label:"City",_configJson:'{"width":"100%", "readOnly":"address._city"}',_externalData:"Employee.Addresses.Primary.City",_sampleData:"Anytown",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"07ebdcec-0ff6-46ad-92aa-121b8573b8a6",_label:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state"}',_externalData:"Employee.Addresses.Primary.State",_sampleData:"NY",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4dc761df-2ce8-498d-bb7d-27606480627b",_label:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip"}',_externalData:"Employee.Addresses.Primary.Zip",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"zip",options:{}}}],contact:[{_label:"Contact Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"5e989212-29f0-43e4-8d02-1a6a047b7e48",_label:"Work Phone",_configJson:'{"width":"50%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"5c34865e-9e5b-4ece-96ca-d412254506a0",_label:"Ext.",_configJson:'{"width":"25%","readOnly":"phoneNumbers.workExt"}',_externalData:"Employee.PhoneNumbers.Work.Extension",_sampleData:"1234",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"numericString",options:{}}},{_fieldDefId:"0977c048-185c-4eec-8800-74842a7fbb4f",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"7a2caf47-562c-4b28-90af-969357493586",_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"2cedb2be-12d9-4958-9247-d2e974a22bbc",_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.personalIsPrimary"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f658f159-910a-485f-89b7-f20559222f73",_label:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"9b7f605f-c5b4-46bd-8096-85acc8f358f6",_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_sampleData:2,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"9e32dbea-8575-478a-9b98-4f731d9c121d",_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_sampleData:!1,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f513faf6-fb0d-43c3-851c-178121015d29",_label:"Work Email",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_sampleData:"work@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}},{_fieldDefId:"6172d8d3-cf07-41cf-b77d-2c0cf2e7bfd8",_label:"Personal Email",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_sampleData:"personal@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}}],personal:[{_label:"Personal",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"aa736224-2a09-490a-b069-7cc945a040ea",_label:"Birth Date",_configJson:'{"width":"33%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_sampleData:"01/01/0001",_fieldType:"super-input-datepicker",_fieldTypeOptions:{edit:"super-input-datepicker",view:"readOnlyDate"},_sensitive:!0},{_fieldDefId:"ba2d2021-59b6-45b9-9e4b-c501d064e012",_label:"SSN",_configJson:'{"width":"33%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_sampleData:"123-45-6789",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0,_validator:{type:"ssn",options:{}}},{_fieldDefId:"4b232b2d-aa7a-4578-b620-cf241caee9ce",_label:"External Id",_configJson:'{"width":"33%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"b78df686-cfbf-463f-919b-26acee984abc",_label:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"3fe07f5a-f5b5-4c31-b975-b2d363b76240",_label:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"c78acc62-5b6a-4401-a0fb-8c0cd8cd4ca1",_label:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"bd5cc16e-b1b5-4246-98da-8289bc24a451",_label:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_sampleData:4,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],employment:[{_label:"Employment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"8d33bb12-8ab6-476a-b306-91e82cbe30f4",_label:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"e45f9c7a-4621-4b88-ae21-e3abd33ab366",_label:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"7e784681-a31e-4af3-9756-cb2d5077ea3c",_label:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"}],primaryAssignment:[{_label:"Primary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText"},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name"}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"primaryPosition.name"}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name"}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name"}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText"},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText"}],assignmentCompensation:[{
_label:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name"}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name"}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency"}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency"}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],assignmentBenefits:[{_label:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],secondaryAssignment:[{_label:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"0aa59ea6-1e03-43ba-bb3d-a39d4f631966",_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Secondary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"40e1f8df-0c3f-4025-90bc-dfd0925a8eec",_label:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Secondary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"f0d303d6-1b9e-424f-8603-3232c60d50d5",_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Secondary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText"},{_fieldDefId:"d6c89711-c50b-4768-ae93-4718a9883b70",_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_externalData:"Employee.Assignments.Secondary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"9e1542bf-afc0-43c0-b5b4-5a475fdcafd4",_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"earliestOtherPosition.name"}',_externalData:"Employee.Assignments.Secondary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"06a1ab47-ce04-4e88-981b-eccd889b978f",_label:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_externalData:"Employee.Assignments.Secondary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"f3f05928-02f5-41d8-8867-3af413bd5e08",_label:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_externalData:"Employee.Assignments.Secondary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"cfb8a867-c1a0-4c19-a72e-03909d699294",_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Secondary.FTE",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"362bfdf7-f861-49eb-a839-79aeebc703be",_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Secondary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText"},{_fieldDefId:"e4fcdc4b-2b30-4e81-a937-15f86951b88e",_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Secondary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText"}],secondaryCompensation:[{_label:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"eec7acd5-4302-4b33-9014-364202832e3e",_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Secondary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"3211dabc-b9da-474a-89f6-de17d2446bbb",_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_externalData:"Employee.Assignments.Secondary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"8031280b-27cb-4d0d-bbc6-ac3832947685",_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_externalData:"Employee.Assignments.Secondary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"be022480-b100-43ca-a47e-71be6b027e93",_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Secondary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_externalData:"Employee.Assignments.Secondary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"7ad63aae-4ccd-4551-b038-ad250dd6ea68",_label:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_externalData:"Employee.Assignments.Secondary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],secondaryBenefits:[{_label:"Secondary Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"9220e992-9832-405f-aae2-2e80419e6128",_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"98fb9c91-ff03-4089-b028-844e407f39ec",_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"9e674c8e-5347-42b5-8100-fad4edfbebc4",_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"cf9ce02d-f7b1-455d-85ed-614e361f112a",_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"91bef119-7b9e-4c3d-9e09-360f32ce78ba",_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Secondary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],financial:[{_label:"Financial Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"70593e5c-65cb-4f65-beab-7db5695715ea",_label:"Primary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_sampleData:"Checking Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"9dddd926-ac0c-4114-9b16-a6f0986ba97c",_label:"Banking Name",_configJson:'{"width":"50%"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"720a8295-b742-47f3-a25c-cf77e3eb8fe7",_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_sampleData:"1234567",_fieldType:"super-input-text"},{_fieldDefId:"2b816a19-7aea-4bbf-a6d2-19c76f760643",_label:"Account Number",_configJson:'{"width":"50%"}',_sampleData:"1234567890",_fieldType:"super-input-text"},{_fieldDefId:"717836a3-4af7-41bd-8687-b6909370ecff",_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numericString",options:{}}},{_fieldDefId:"16cb9a79-3e07-42f7-a5e9-a7d144bfc1cd",_label:"Secondary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_sampleData:"Savings Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"4d049d8c-bb64-463c-83c6-a86aa604c1ef",_label:"Banking Name",_configJson:'{"width":"50%"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"a5b2d3f6-ece4-46ca-b382-2323413400a2",_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_sampleData:"1234567",_fieldType:"super-input-text"},{_fieldDefId:"dcb0744d-d0e3-4a63-8ca5-1f1b05c4292b",_label:"Account Number",_configJson:'{"width":"50%"}',_sampleData:"1234567890",_fieldType:"super-input-text"},{_fieldDefId:"33c2e577-2958-444b-a612-58c29733df50",_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numericString",options:{}}}],emergency:[{_label:"Emergency Contacts",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"99df0167-ecea-405f-8192-a657cf2d0841",_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName"}',_externalData:"Employee.EmergencyContacts.Primary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"3ee27e1a-780f-4dd1-87b8-688ef3f9a4fd",_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4efae0cb-6d68-4eeb-8ce3-031b11678275",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc",_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"a924fcee-27f1-4e17-811d-45b3e11342da",_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"007139ff-0690-4ae4-a8e0-4494ecaaf357",_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"14827dc2-9d54-400d-a556-47656bc72f83",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"3a4799b5-168e-4f19-91a6-27299c543f69",_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}}],input:[{_fieldDefId:"951626b1-a422-46b4-9fa1-3b5acf7ee8fc",_label:"",_configJson:'{"width": "50%"}',_fieldGroup:"input",_fieldType:"super-input-text"}],dropdown:[{_fieldDefId:"977a2273-62c1-4eef-8d63-91f9d8d1e0bf",_label:"Dropdown",_configJson:'{"width":"50%"}',_fieldGroup:"dropdown",_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],selectGroup:[{_fieldDefId:"10a88a23-f8f3-48eb-aa48-c466db06378b",_label:"Multiple Choice",_configJson:'{"width": "100%", "colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true}',_fieldGroup:"selectGroup",_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],signature:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851165",_label:"Please Sign",_configJson:'{"width":"100%"}',_fieldGroup:"signature",_fieldType:"super-digital-signature",_validator:{type:"digitalSignature",options:{},applyOnRequired:!0}}],date:[{_fieldDefId:"c2e31de2-09e8-4563-acb1-0e190a8e3b11",_label:"Date",_configJson:'{"width":"25%"}',_fieldGroup:"date",_fieldType:"super-input-datepicker"}],fileUpload:[{_fieldDefId:"5299a28c-56d5-4dc3-81ae-6f9f741eb324",_label:"Instructions for uploading files...",_configJson:'{"width":"100%"}',_documentCategory:0,_documentSubCategory:8,_fieldGroup:"fileUpload",_fieldType:"super-file-upload",_validator:{type:"fileUpload",options:{},applyOnRequired:!0}}],fileLink:[{_fieldDefId:"e215f04f-037a-479e-b5da-9bb3155b55d5",_label:"Link",_configJson:'{"width":"100%", "isValid": false, "location": "", "name":"", "display": "Link will display here" }',_fieldGroup:"fileLink",_fieldType:"link"}],sectionHead:[{_fieldDefId:"9eabf24b-ae80-4488-a164-2a6f78a50cbd",_label:"Section Heading",_configJson:'{"width":"100%"}',_fieldGroup:"sectionHead",_fieldType:"heading"}],text:[{_fieldDefId:"b6390770-0590-418c-b516-2080b243e9b7",_configJson:'{"width":"100%", "mappable": "false"}',_fieldGroup:"text",_fieldType:"text",_label:""}],range:[{_fieldDefId:"2056c221-97c8-4994-962c-f4bfc319a9e4",_label:"Range",_fieldGroup:"range",_fieldType:"super-select-text",from:0,to:100}]},l=[];Object.keys(o).forEach(function(e){l=[].concat(r(l),r(o[e]))});var c={getFieldById:function(e){return l.find(function(t){return e._fieldDefId===t._fieldDefId})},getFields:function(e,t){return o[e]?o[e].map(function(n,r,i){var a=Object.assign({},s,n),o=JSON.parse(a._configJson);return null==a._fieldGroup&&Object.assign(a,{_fieldGroup:e}),o.cmp=t,a._configJson=JSON.stringify(o),a}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},bindConfigObject:a.bindConfigObject};angular.module("ec-forms-helpers").factory("fieldsHlp",i)},{"fl-ui-form-renderer":1}],21:[function(e,t,n){"use strict";function r(){return i}var i={sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),r={},i=e.length;i--;){var a=e.pop();r[a.id]=a}n.forEach(function(t){t in r&&(e.push(r[t]),delete r[t])}),Object.keys(r).forEach(function(t){null!=r[t]&&e.push(r[t])})}}};angular.module("ec-forms-helpers").factory("formsHlp",r)},{}],22:[function(e,t,n){"use strict";e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-credentials-list/credentials-list.js"),e("./components/cmp-emp-initiated-template/emp-initiated-template.js"),e("./components/cmp-field-group-renderer/field-group-renderer.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-fl-share-form/fl-share-form.js"),e("./components/cmp-form-list-group/form-list-group.js"),e("./components/cmp-form-send-status/form-send-status.js"),e("./components/cmp-multiple-employee-search/multiple-employee-search.js"),e("./components/cmp-template-list-form/template-list-form.js"),e("./components/cmp-template-list-packet/template-list-packet.js"),e("./components/cmp-two-column-list/two-column-list.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formsHlp/forms.js"),e("./routes/inbox/form-instance/form-instance.state.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.logic.js"),e("./routes/inbox/form-instance/segment-close/close.js"),e("./routes/inbox/form-instance/segment-close/close.logic.js"),e("./routes/inbox/form-instance/segment-form/form.js"),e("./routes/inbox/form-instance/segment-form/form.logic.js"),e("./routes/inbox/form-instance/segment-header/header.js"),e("./routes/inbox/form-instance/segment-header/header.logic.js"),e("./routes/inbox/form-instance/segment-steps/steps.js"),e("./routes/inbox/form-instance/segment-steps/steps.logic.js"),e("./routes/inbox/inbox.state.js"),e("./routes/inbox/segment-content/content.js"),e("./routes/inbox/segment-content/content.logic.js"),e("./routes/inbox/segment-header/header.js"),e("./routes/inbox/segment-header/header.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-content/content.js"),e("./routes/index/segment-content/content.logic.js"),e("./routes/index/segment-header/header.js"),e("./routes/index/segment-header/header.logic.js"),e("./routes/send/segment-content/content.js"),e("./routes/send/segment-content/content.logic.js"),e("./routes/send/segment-header/header.js"),e("./routes/send/segment-header/header.logic.js"),e("./routes/send/send.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-checkbox-group/checkbox-group.js":3,"./components/cmp-credentials-list/credentials-list.js":4,"./components/cmp-emp-initiated-template/emp-initiated-template.js":5,"./components/cmp-field-group-renderer/field-group-renderer.js":6,"./components/cmp-field-renderer/field-renderer.js":7,"./components/cmp-fl-share-form/fl-share-form.js":8,"./components/cmp-form-list-group/form-list-group.js":9,"./components/cmp-form-send-status/form-send-status.js":10,"./components/cmp-multiple-employee-search/multiple-employee-search.js":11,"./components/cmp-template-list-form/template-list-form.js":12,"./components/cmp-template-list-packet/template-list-packet.js":13,"./components/cmp-two-column-list/two-column-list.js":14,"./config/load-config.js":18,"./config/router.js":19,"./helpers/fieldsHlp/fields.js":20,"./helpers/formsHlp/forms.js":21,"./routes/inbox/form-instance/form-instance.state.js":25,"./routes/inbox/form-instance/segment-attachments/attachments.js":26,"./routes/inbox/form-instance/segment-attachments/attachments.logic.js":27,"./routes/inbox/form-instance/segment-close/close.js":28,"./routes/inbox/form-instance/segment-close/close.logic.js":29,"./routes/inbox/form-instance/segment-form/form.js":30,"./routes/inbox/form-instance/segment-form/form.logic.js":31,"./routes/inbox/form-instance/segment-header/header.js":32,"./routes/inbox/form-instance/segment-header/header.logic.js":33,"./routes/inbox/form-instance/segment-steps/steps.js":34,"./routes/inbox/form-instance/segment-steps/steps.logic.js":35,"./routes/inbox/inbox.state.js":36,"./routes/inbox/segment-content/content.js":37,"./routes/inbox/segment-content/content.logic.js":38,"./routes/inbox/segment-header/header.js":39,"./routes/inbox/segment-header/header.logic.js":40,"./routes/index/index.state.js":41,"./routes/index/segment-content/content.js":42,"./routes/index/segment-content/content.logic.js":43,"./routes/index/segment-header/header.js":44,"./routes/index/segment-header/header.logic.js":45,"./routes/send/segment-content/content.js":46,"./routes/send/segment-content/content.logic.js":47,"./routes/send/segment-header/header.js":48,"./routes/send/segment-header/header.logic.js":49,"./routes/send/send.state.js":50}],23:[function(e,t,n){"use strict";angular.module("ec-forms",["super-suit","ec-forms-segments","ec-forms-segment-logic","ec-forms-templates","ec-forms-helpers","ec-forms-components","ec-forms-decorators","ec-forms-filters","ec-forms-services"]),angular.module("ec-forms-segments",[]),angular.module("ec-forms-segment-logic",[]),angular.module("ec-forms-helpers",[]),angular.module("ec-forms-components",[]),angular.module("ec-forms-decorators",[]),angular.module("ec-forms-filters",[]),angular.module("ec-forms-services",[])},{}],24:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group" ss-validate="field.ignoreValidations || vm.validate(field.step.formFieldValues, field._label)"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credentials-list/credentials-list.html",'<div class="cmp-credentials-list"> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-emp-initiated-template/emp-initiated-template.html",'<div class="cmp-emp-initiated-template"> <div class="gd-row form-list-header-group"> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="vm.sortBy" is-disabled="vm.isLoading || vm.isSorting || vm.isSearching"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row gd-100p" ss-pending="vm.isSorting || vm.isSearching"> <ul class="ss-form-panel-list forms-list"> <li class="ss-panel-list-item" ng-class="{\'no-left-margin\': {{$index}} % 5 === 0}" ng-show="vm.formsAndPackets.length > 0" ng-repeat="form in vm.formsAndPackets track by form.id"> <article class="form-list-item-wrapper"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="li-form-e-large" role="img" aria-hidden="true"></figure> </div> <header class="form-name-group"> <h3 class="form-name"> <a href="/ec-formbuilder/form/{{form.id}}/preview?returnUrl=/ec-forms/inbox" ng-click="go.setInboxDefaultTab()" title="click to preview \'{{::form._name}}\'\'">{{::form._name}}</a> </h3> </header> <dl class="form-meta"> <div class="form-meta-category"> <dt aria-label="category"></dt> <dd title="{{::form._category.name}}">{{::form._category.name}}</dd> </div> <div class="form-meta-admin"> <dt>Form Administrator:</dt> <dd><span title="{{::form.adminName}}">{{::form.adminName}}</span></dd> </div> </dl> <footer class="action-group"> <super-button label="start this form" ss-icon-before="{{form.initiating ? \'spinner\':\'mail-forward\'}}" ng-click="go.initiateForm(form)" ng-class="{\'initiating\': form.initiating}" ng-disabled="form.initiating"> </super-button> </footer> </article> </li> </ul> <p ng-if="vm.formsAndPackets.length < 1 && !vm.isLoading && !vm.isSorting && !vm.isSearching">No Forms or Packets found</p> <div ng-if="vm.showInfScroll" ss-pending="vm.isLoading" infinite-scroll="scrollData()"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-group-renderer/field-group-renderer.html",'<div class="cmp-field-group-renderer"> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="org" ignore-validations="ignoreValidations"></cmp-field-renderer> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer auto-{{ field.id }}" ng-show="vm.visibility" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-fl-share-form/fl-share-form.html",'<div class="cmp-fl-share-form modal"> <button type="button" ng-click="go.cancel()" class="button flat modal-close" ss-icon-before="times"></button> <div class="title">Share Template</div> <div class="content"> <ul class="gd-row org"> <li class="gd-100p"> <super-org-search model="vm.org" label="Organization or ID" limit="1"></super-org-search> </li> </ul> <ul class="gd-row form-name"> <li class="gd-100p"> <super-input-text label="Form Template Name" name="formName" model="vm.formName"></super-input-text> </li> </ul> </div> <div class="modal-button"> <super-button label="Cancel" ng-click="go.cancel()" is-disabled="vm.saving"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" label="Share Template" ng-click="go.share()" is-disabled="!vm.org.length || !vm.formName.length || vm.saving" ss-icon="spinner"></super-button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-form-list-group/form-list-group.html",'<div class="cmp-form-list-group" ng-class="{\'{{type}}\' : type}"> <div class="gd-row form-list-header-group"> <super-select-list ng-if="vm.formsAndPackets.length > 1" class="gd-100p sort-by-filter" type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-show="vm.formsAndPackets.length > 0" ng-class="{\'pending\': form.isPending && !form.isPacket}" ng-repeat="form in vm.formsAndPackets track by $index"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isRejected}"> <div class="form-item-details" ng-if="!form.isPacket" data-auto-date-modified="{{form._createdUtc}}" data-auto-due-date="{{form._dueDateUtc}}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!form.isPending && !form.rejectedByUser" ng-click="go.complete(form)" ng-bind="form.name"></a> <span ng-if="form.isPending || form.rejectedByUser">{{form.name}}</span> <small class="form-user-name" ng-if="!form.userIsPrimary" ss-icon="user" ng-bind="form._employee.name"></small> </h3> <div class="form-meta" data-auto-due-date="{{ form._dueDateUtc }}"> <ul class="ss-pipe-children" ng-class="{\'items-2\': form.dueDateStatus}"> <li class="form-meta-item" ng-bind="form.stepActionName"></li> <li class="form-meta-item" ng-if="form.dueDateStatus"> <strong class="form-due-date" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}" ng-bind="form.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected && form.isUserStep}" ss-icon="{{form.isRejected && form.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!form.isPending && !form.isSubmitted" label="{{form.stepActionLabel}}" ng-click="go.complete(form)" ng-disabled="form.rejectedByUser"></super-button> </div> </div> <div class="form-item-details" ng-if="form.isPacket"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-packet-e-large\' : \'li-packet-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-click="go.toggleDetails(form)">{{form.name}}&nbsp;<small>-&nbsp;Packet</small></a> </h3> <button type="button" class="packet-toggle" ss-icon-after="{{form.showDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(form)">{{form.showDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button label="{{form.showDetails ? \'Hide\' : \'Show\'}} Details" ng-click="go.toggleDetails(form)"></super-button> </div> </div> </div> <div ng-if="form.isPacket" ng-show="form.showDetails" class="form-packet-details"> <ul class="form-packet-list"> <li class="form-packet-list-item" ng-if="form.content.length < 1"> <p>No Forms are associated with this Package</p> </li> <li class="form-packet-list-item" ng-if="form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" ng-class="{\'pending\': Pform.isPending}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isRejected}"> <div class="form-item-details" data-auto-date-modified="{{ Pform._createdUtc }}" data-auto-due-date="{{ Pform._dueDateUtc }}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{Pform._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-label="form icon"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!Pform.isPending && !Pform.rejectedByUser" ng-click="go.complete(Pform)">{{Pform.name}}</a> <span ng-if="Pform.isPending || Pform.rejectedByUser">{{Pform.name}}</span> <small class="form-user-name" ng-if="!Pform.userIsPrimary" class="form-user-name" ss-icon="user" ng-bind="Pform._employee.name"></small> </h3> <div class="form-meta"> <ul class="gd-row items-2 ss-pipe-children"> <li class="form-meta-item" ng-bind="Pform.stepActionName"></li> <li class="form-meta-item" ng-if="Pform._dueDateUtc"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="Pform.formStatus" ng-class="{\'denied\':Pform.isRejected && Pform.isUserStep}" ss-icon="{{Pform.isRejected && Pform.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isPending" ng-disabled="Pform.rejectedByUser" label="{{Pform.stepActionLabel}}" ng-click="go.complete(Pform)"></super-button> </div> </div> </div> </li> </ul> </div> </li> <li ng-if="vm.showInfScroll" ss-pending="vm.loading" infinite-scroll="scrollData()" infinite-scroll-distance="0.5" infinite-scroll-listen-for-event="forms-inbox.data-loaded"></li> <li class="" ng-if="vm.formsAndPackets.length < 1 && !vm.loading">No Forms or Packets found</li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-send-status/form-send-status.html",'<div class="cmp-form-send-status" ss-pending="vm.loading" ss-pending-status="\'{{vm.loadingMessage}}\'"> <div class="gd-row batch-status-wrapper"> <div class="batch-info-group"> <p><span ng-bind="vm.sendStatusText"></span>&nbsp;<span ng-if="!vm.hasFailures" ng-pluralize count="batch._includedEmployeeIds.length" when="{\'one\' : \'employee\', \'other\' : \'employees\'}"></span>&nbsp;|&nbsp;Sent by <span ng-bind="batch._creator.name"></span></p> <p class="status-helper-text" ng-if="vm.status._status !== 0" ng-bind-html="vm.statusHelperText"></p> </div> <div class="batch-progress-group"> <div class="batch-progress-wrapper"> <div class="progress-text"> <p ng-if="vm.status._status === 0" role="status">{{vm.numInBatch || 0}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;prepared</p> <p ng-if="vm.status._status !== 0" role="status">{{vm.numComplete}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;sent</p> </div> <div class="progress-bar-group"> <div class="progress-bar-container" ng-show="vm.inProgress"><div class="progress-bar" ng-style="{\'width\': vm.percentComplete, \'transition\': \'width 3s\'}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percentComplete}}" aria-label="batch progress bar"></div></div> <em class="progress-message" ng-show="!vm.inProgress"><span ng-class="[vm.progressMessageClass]" ng-bind="vm.progressMessage"></span></em> </div> </div> </div> </div> <button type="button" class="hide-batch-control" ng-if="vm.hasFailures" ng-click="go.archiveBatch()" ss-icon="times" aria-label="clear status message for {{form._name}}" title="clear status message for {{form._name}}"></button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-multiple-employee-search/multiple-employee-search.html",'<div class="cmp-multiple-employee-search"> <super-button ss-icon="users" smp ng-click="go.toggleFilter()" label="{{label}}" is-disabled="model.length > 0" data-qa="add-group-control"></super-button> <div class="multiple-employee-search" ng-class="{\'ss-menu-open\' : vm.formOpened}"> <div class="form-error" ng-if="!model.length && vm.attempted && !vm.filtering" role="alert"><p ss-icon="exclamation-circle">These parameters returned 0 results. Please update and try again.</p></div> <form ng-submit="go.add()"> <div class="form-header"> <h5>Define A Group <span class="effective-date-subheading">Employee information effective as of {{vm.asOf}}</span></h5> <button class="close fa-times-before" ss-icon="times" ng-click="go.toggleFilter()"></button> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-job-type"> <super-multi-filter-list label="With this Job Type" selected="vm.selected.jobType"> <super-multi-filter-list-item ng-repeat="jobType in vm.jobTypes | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-location"> <super-multi-filter-list label="At this Location" selected="vm.selected.location"> <super-multi-filter-list-item ng-repeat="location in vm.locations | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-employment-group"> <super-multi-filter-list label="In this Employment Group" selected="vm.selected.employmentGroup" is-disabled="vm.employmentGroupDisabled"> <super-multi-filter-list-item ng-repeat="group in vm.employmentGroups | orderBy:\'_name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-department"> <super-multi-filter-list label="In this Department" selected="vm.selected.department"> <super-multi-filter-list-item ng-repeat="department in vm.departments | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-status"> <super-multi-filter-list label="With this Status" selected="vm.selected.status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\' track by $index" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p"> <div class="main-label"> <label>Hired within this Date Range</label> </div> <super-input-datepicker class="gd-50p hireDateStart" options="" model="vm.selected.hireDateStart"></super-input-datepicker><span class="gd-5p">–</span> <super-input-datepicker id="hireEndDate" class="gd-45p hireDateEnd" options="vm.endDateOptions" model="vm.selected.hireDateEnd" is-disabled="vm.noStartDate"></super-input-datepicker> </div> </div> <div class="gd-row exclusions"> <div class="main-label"> <label>Exclude these Employees</label> </div> <div> <super-employee-search class="exclusions-search" model="exclusions" use-pill="true"></super-employee-search> </div> </div> <div class="gd-row actions-group"> <div class="gd-50p"> <button type="button" class="clear-all-btn" ng-click="go.clearAllFilters()">Clear All Filters</button> </div> <div class="gd-50p flr"> <super-button data-qa="auto-cancel" label="Cancel" ng-click="go.cancel()" class="close-button" ng-disabled="vm.filtering"></super-button> <super-button data-qa="auto-add-group" ng-if="!model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Add Group"></super-button> <super-button data-qa="auto-update-group" ng-if="model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Update Group"></super-button> </div> </div> </form> </div> <div> <div class="employee-group" ng-show="model.length > 0"> <span ss-icon="users"> <a ng-click="go.toggleFilter()">Employee Group&nbsp;(<span class="users-count" ng-bind="model.length" data-qa="group-total"></span>)</a> <button type="button" class="remove" ss-icon-after="times" ng-click="routeVm.removeGroup()"></button> </span> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-packet/template-list-packet.html",'<div class="cmp-template-list-packet"> <div class="template-details"> <div class="template-icon"><i ss-icon-before="li-packet-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a ng-bind="template._name" ng-click="go.toggleDetails(template)"></a> <small> - Packet</small> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li> <li class="form-meta-item" ng-if="template.packetCount">{{template.packetCount}}&nbsp; <ng-pluralize count="template.packetCount" when="{\'1\': \'form\', \'other\': \'forms\'}"></ng-pluralize> </li> <li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li> </ul> </div> <super-button smp class="details-toggle" label="{{template.detailsOpen === false ? \'Show\' : \'Hide\'}} Details" ss-icon-after="{{template.detailsOpen === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(template)"></super-button> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/Packet/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.editPacket(template)" ss-permitted="packets.edit"></super-button> </li> <li class="template-action-list-item template-action-menu" ng-if="template.status !== \'inactive\'" ss-permitted="packets.edit"> <super-button ss-icon-after="angle-down"> <item ng-click="go.editPacket(template)">Edit Packet</item> </super-button> </li> </ul> </div> </div> <div ng-if="template.detailsOpen" ss-pending="template.loading" class="packet-details"> <ul> <li class="packet-details-item" ng-if="template.contents.forms.length < 1 && !template.loading"> <p>No Forms are associated with this Package</p> </li> <li class="packet-details-item" ng-if="template.contents.forms.length > 0 && !template.loading" ng-repeat="form in template.contents.forms"> <div class="template-details"> <div class="template-icon" ng-if="!form._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="form._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="form-meta-item" ng-if="form._category.name.length > 0" ng-bind="form._category.name"></li> <li class="form-meta-item" ng-if="form._steps.length"> Workflow (<span ng-bind="form._steps.length"></span> <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span> <span ng-bind="step.stepActionLabel"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item"> <span>Modified {{form.modifiedText}}</span><span ng-if="form._modifier.name">&nbsp;by&nbsp;<span ng-bind="form._modifier.name"></span></span> </li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status template-status-packet"> <strong ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Edit" ng-click="go.editForm(form)" ss-permitted="formTemplates.edit"></super-button> </li> </ul> </div> </div> </li> </ul> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-form/template-list-form.html",'<div class="cmp-template-list-form" ss-pending="template.isPending" ss-pending-status="vm.pendingMessage" ng-class="{\'highlight\': template.isHighlighted}"> <div class="template-details"> <div class="template-icon" ng-if="!template._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="template._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="/ec-formbuilder/form/{{template.id}}/preview?returnUrl=/ec-forms/" ng-bind="template._name"></a> </h3> <div class="form-meta" data-auto-due-date="{{ template._modifiedDt }}"> <ul class="ss-pipe-children"> <li ng-if="template._fromFrontlineLibrary" class="frontline-template" ss-icon="logo-frontline-small">Frontline</li><li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li><li class="form-meta-item" ng-if="template._steps.length"> Workflow (<span ng-bind="template._steps.length"></span> <ng-pluralize count="template._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow Steps</h6> <ul class="popover-step-list" ng-if="template._steps.length"> <li ng-repeat="step in template._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span><span ng-bind="step.stepActionLabel"></span> </li> </ul> <p ng-if="!template._steps.length">No Workflow Steps</p> </div> </super-popover> </li><li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li><li class="form-meta-item" ng-if="template._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status" ng-if="template.status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/FormTemplate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.edit(template)" ss-permitted="formTemplates.edit"></super-button> </li> <li class="template-action-list-item template-action-menu"> <super-button ss-icon-after="angle-down"> <item ng-click="go.preview(template)">Preview Form</item> <item ss-permitted="formTemplates.startForMyself" ng-if="template._isEmployeeInitiated && template.status === \'active\'" ng-click="go.sendToSelf(template)">Start Form (about myself)</item> <item class="menu-separator"></item> <item ng-click="go.edit(template)" ss-permitted="formTemplates.edit">Edit Template</item> <item ng-click="go.copy(template)" ss-permitted="formTemplates.create">Create Copy</item> <item ng-click="go.share()" ng-if="go.canShare(template)">Share Template</item> <item ng-click="go.deactivate(template)" ng-if="template.status === \'active\'" ss-permitted="formTemplates.edit">Deactivate Template</item> <item ng-click="go.archive(template)" ss-permitted="formTemplates.archive">Archive Template</item> <item ng-click="go.delete(template)" ss-permitted="formTemplates.delete">Delete Template</item> </super-button> </li> </ul> </div> </div> <cmp-fl-share-form ss-modal-view ng-if="vm.showShare" template="template"></cmp-fl-share-form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-two-column-list/two-column-list.html",'<div class="cmp-two-column-list gd-row"> <div class="gd-25p"> <h3 ng-bind="vm.label"></h3> <h3 ng-if="!vm.hasLabel">&nbsp;</h3> </div> <div class="gd-75p" ng-transclude></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/inbox.html",'<route folder="/inbox"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/send.html",'<route folder="/send"> <div class="route-wrapper" ss-pending="routeVm.retryLoading" ss-pending-status="\'Please wait...\'"> <form ss-validate-form ng-submit="routeVm.go.send()" autocomplete="off"> <segment name="header"></segment> <segment name="content"></segment> </form> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/form-instance.html",'<route folder="/inbox/form-instance"> <div class="full-screen"> <header class="full-screen-header"> <segment name="close"></segment> <segment name="header"></segment> </header> <section class="full-screen-content" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <div class="gd-65p content"> <segment name="form"></segment> </div> <div class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps"></segment> </div> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="{{routeVm.PDFOverlayUrl}}"></iframe> </div> </div> </section> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-content/content.html",'<div class="segment-inbox-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-header/header.html",'<div class="segment-inbox-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-content/content.html",'<section class="segment-index-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length && !routeVm.loading" ng-repeat="template in routeVm.displayTemplates"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="vm.showInfScroll" infinite-scroll="loadNext()" infinite-scroll-distance="1" infinite-scroll-listen-for-event="list:filtered"></li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/send/segment-content/content.html",'<div class="segment-send-content"> <section> <cmp-two-column-list label="FORM DETAILS"> <div class="gd-row gd-50p"> <div class="gd-50p form-sender"> <div class="label">Form Sender</div> <div ng-class="{\'pending\' : vm.loadingFormSender}" ng-bind="vm.resolvedFormSender" data-cy="form-sender"></div> </div> <div class="gd-50p form-administrator" ng-if="vm.isForm"> <div class="label">Form Administrator</div> <div ng-bind="vm.formAdministrator"></div> </div> </div> </cmp-two-column-list> </section> <section class="effective-dating"> <cmp-two-column-list label="EFFECTIVE DATE"> <div class="gd-row"> <div class="gd-60p"> <p class="effective-date-instruction">You can use an ‘as-of’ date to determine an employee’s information on a form.<br><em>Example: Employee information (assignment, etc.) for this form should be based on employee record data as of August 1.</em></p> <super-input-checkbox label="Select an effective date to determine employee information" model="vm.useEffectiveDating"></super-input-checkbox> <p><super-input-datepicker model="vm.asOf" ng-if="vm.useEffectiveDating"></super-input-datepicker></p> <super-button pos label="Export" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length" ng-click="go.export()" ss-pending="vm.exporting"></super-button> </div> </div> </cmp-two-column-list> </section> <section> <cmp-two-column-list label="EMPLOYEE(S)"> <div class="gd-row"> <div class="gd-60p"> <p>"Who" the form is about; information from their employee record will auto-populate certain form fields.</p> <super-employee-search placeholder="Add an employee by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single">Add an employee by name</super-employee-search> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of employees?"></cmp-multiple-employee-search> </div> </div> </cmp-two-column-list> </section> <section> <cmp-two-column-list label="DUE DATE FOR EMPLOYEE(S)"> <div class="gd-60p"> <p ng-if="vm.isForm">This date applies to the <em>Workflow Step </em>assigned to the Employee (whom the form is about). This is not a due date for the form as a whole.</p> <p ng-if="vm.isPacket">This date applies to the <em>Workflow Step</em>(in each form) assigned to Employee (whom the forms are about). This is not a due date for the packet as a whole.</p> <ul> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="false" label="No Due Date"></super-input-radio> </li> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="true" label="Employee submission due by"></super-input-radio> <super-input-datepicker name="submissionDueDate" options="vm.datePickerOptions" model="routeVm.postData.submissionDueDate" is-disabled="vm.hasSubmissionDueDate === \'false\'"></super-input-datepicker> </li> </ul> </div> </cmp-two-column-list> </section> <section ng-if="vm.isPacket"> <cmp-two-column-list label="PACKET EMAIL PREVIEW" class="packet-email-preview"> <div class="gd-75p"> <dl class="packet-email-meta"> <div> <dt>From:&nbsp;</dt> <dd>do-not-reply@frontlineed.com</dd> </div> <div> <dt>Subject:&nbsp;</dt> <dd ng-bind="vm.item._startupEmail.subject || \'A packet is ready for you\'"></dd> </div> </dl> <div class="step-notification-message-group"> <p class="message-preview-header"><i>"Packet Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.item._startupEmail.notificationPrefix"></i></p> <div class="form-list-wrapper" ss-pending="vm.loadingPacket" ng-class="{\'add-height\' : vm.loadingPacket}"> <ul class="forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms"><i ng-bind="form._name"></i></li> </ul> </div> <p ng-if="vm.item._startupEmail.useStartupEmail"><i ng-bind="vm.item._startupEmail.message"></i></p> <small class="message-suffix"><i ng-bind="vm.item._startupEmail.notificationSuffix"></i></small> </div> </div> </div> </cmp-two-column-list> </section> <section class="section" ng-if="vm.isForm"> <div class="gd-row"> <div class="gd-25p"> <h3><strong>Form Workflow & Notifications</strong></h3> </div> <div class="gd-50p details"> <ul class="form-step-list"> <li class="form-step" ng-repeat="step in vm.item._steps track by $index"> <div class="form-step-group"> <h4 ng-if="!$last">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{::step._name}}</span></h4> <h4 ng-if="$last">Form & Workflow Complete Step</h4> </div> <div class="form-step-group" ng-if="!$last"> <dl class="form-step-meta"> <div> <dt>Step Participant</dt> <dd ng-bind="step.resolvedParticipant" data-cy="step-meta-step-participant"></dd> </div> <div> <dt>Step Action</dt> <dd data-cy="step-meta-step=-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> </div> <div class="form-step-group step-notification-message-group" ng-if="!$last"> <p class="message-preview-header"><i>"Step Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._notificationBody.length"><i ng-bind="step._notificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div ng-if="!$last && step.showResendMessage" class="form-step-group step-notification-message-group"> <p class="message-preview-header"><i>"Step Resent"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._resendNotificationBody.length"><i ng-bind="step._resendNotificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div class="form-step-group" ng-if="!$last && step._stepParticipant.participantType === vm.recipient && vm.hasSubmissionDueDate && routeVm.postData.submissionDueDate != null"> <p class="gd-100p due-date" ss-icon="calendar-o">This step due on {{routeVm.postData.submissionDueDate | date:\'MM/dd/yyyy\'}}</p> </div> <div class="form-step-group" ng-if="$last"> <p>Sender will be notified</p> </div> </li> </ul> </div> </div> </section> <section class="gd-row packet-detail-preview" ng-if="vm.isPacket" data-qa="forms-in-packet"> <div class="gd-25p"> <h3><strong>packet detail review </strong><em>"Form Complete" emails to sender are suppressed for forms in packets.</em></h3> </div> <div class="gd-75p packet-detail-preview-wrapper" ss-pending="vm.loadingPacket" ss-pending-status="\'loading packet...\'"> <ul class="gd-70p forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" data-qa="form-{{ form.id }}"> <h4><a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item">Workflow ({{form.steps.length}} Steps) <super-popover> <div> <h6>Workflow <ng-pluralize count="form.steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} <span ng-if="form._modifier.name">by {{form._modifier.name}}</span></li> </ul> </li> <li class="forms-list-item final-step" ng-if="!vm.loadingPacket"> <h4>Packet Complete</h4> <p>Sender will be notified</p> </li> </ul> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-header/header.html",'<div class="segment-send-header gd-row"> <div class="batch-status-group ss-panel"> <ul class="batch-list" ng-style="vm.batchStyles"> <li class="batch-list-item" ng-repeat="batch in vm.batches"> <cmp-form-send-status org="routeVm.org" form="vm.item" batch="batch" on-complete="go.removeBatch(batch)" data-qa="batch-list-item"></cmp-form-send-status> </li> </ul> </div> <div class="send-control-group"> <div class="form-control-title gd-70p"> <h2 class="form-title" ng-bind="vm.item._name" data-qa="form-name-page-title"></h2> </div> <div class="form-control-actions"> <super-button pri label="Preview Form &amp; Workflow" ng-click="go.preview(vm.item)" ng-if="vm.isForm" data-qa="form-preview-button"></super-button> <super-button pos label="{{vm.isPacket?\'Send Packet\':\'Send Form\'}}" type="submit" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length || vm.isSending" ss-pending="vm.sending" data-qa="send-form-button"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-attachments/attachments.html",'<section class="segment-inbox-form-instance-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content" ss-pending="vm.loading"> <div class="pad-12"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p class="" ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-close/close.html",'<div class="segment-inbox-form-instance-close"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="close"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-form/form.html",'<div class="segment-inbox-form-instance-form" ss-pending="vm.loading"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)"> <ul class="fb-steps"> <li class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}"> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </div> <ul class="fb-fields"> <li class="fb-field" ng-repeat="group in step.fieldGroups" ng-click="go.fieldGroupSettings($event, group)"> <ul><li> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" ng-style="{width: field.config.width}"></cmp-field-renderer> </li></ul> </li> </ul> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pos label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </div> </fieldset> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </div> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update <br>Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step._stepAction === vm.employeeProfileReview && routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </div> </fieldset> </li> <li class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <div class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </div> <ul class="fb-fields"> <li class="fb-field">Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</li> </ul> </li> </ul> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-steps/steps.html",'<section class="segment-inbox-form-instance-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content" ss-pending="vm.loading"> <ul class="fb-steps-summary" ng-if="!vm.loading && vm.steps.length"> <li class="fb-summary-step" ng-class="{\n\t\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)"> <h4 class="step-heading">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStep === step" ng-cloak> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </li> <li class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </li> </ul> </main> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-header/header.html",'<div class="segment-inbox-form-instance-header"> <div class="gd-row form-header-wrapper"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" disabled="vm.loading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </div> ')}])}()},{}],25:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1},a={url:"/inbox/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/inbox/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","$sce","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","enumStepAction","enumFormStatus",function(e,t,n,r,a,s,o,l,c){return i.formInstance=null,i.formTemplate=null,i.hasPDFOverlay=i.showPDFOverlay=!1,r(regeneratorRuntime.mark(function r(){var p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.get({id:e.formInstanceId,include:"steps"},null,!1);case 3:return i.formInstance=r.sent,r.next=6,s.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 6:i.formTemplate=r.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,i.hasPDFOverlay&&(p=i.formInstance._steps.filter(function(e){return e._stepAction!==l.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return Object.assign(JSON.parse(e),JSON.parse(t))}),a.generatePDFOverlay({formInstanceid:i.formInstance.id,formFieldValues:p,showSensitive:!1}).then(function(e){i.PDFOverlayUrl=n.trustAsResourceUrl(e.data.data.attributes.string),i.showPDFOverlay=i.formInstance._statusId===c.complete||i.formInstance._statusId===c.archived}).catch(function(e){o.error("There was an error generating the PDF","")})),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),403===r.t0.status?t.transitionTo("403"):o.error(r.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",r.t0);case 15:case"end":return r.stop()}},r,this,[[0,11]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.inboxFormInstance",new r.State(a,i))}])},{"base-state":17}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,a){var s=t.routeVm,o=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.formTemplate._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,a.getFiles({},{ids:t});case 4:n=e.sent,o.files=n.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error getting file records",e.t0);case 11:return e.prev=11,o.loading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}))()}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":16}],27:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceAttachmentsLogic",r)},{}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$window","$location","rAF","ssAsync","ssToastHlp","ssModalSvc","ssDateHlp","enumFormStatus","ssEnum","ssActiveUserSvc","$q",function(e,t,n,r,i,a,s,o,l,c,p,m,d,u,f){function g(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=u.getEmployeeSync().id;return y.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}var y=t.routeVm,b=(e.get("segmentInboxFormInstanceCloseLogic"),t.vm={fromView:n.params.from||"",firstSave:y.formTemplate._isEmployeeInitiated&&p.isForeverPast(y.formInstance._changedUtc),formIsComplete:y.formInstance._statusId===m.complete||y.formInstance._statusId===m.archived,deleting:!1});t.go={save:function(){if(b.firstSave){var e={title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1};c.showStandard(e)}o(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.loading=!0,e.prev=1,e.delegateYield(regeneratorRuntime.mark(function e(){var n,r,i,a,s,o,l,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],y.formInstance.currentStep._stepAction===d.stepAction.employeeProfileReview&&(r=y.formInstance._steps.find(function(e){return e._stepAction===d.stepAction.employeeProfileReview}),n=r._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),r._employeeProfileReviewStepFieldValues=r._employeeProfileReviewStepFieldValues.slice()),e.next=4,y.formInstance.$save(!1,!0,!1);case 4:i=!0,a=!1,s=void 0,e.prev=7,o=y.formInstance._steps[Symbol.iterator]();case 9:if(i=(l=o.next()).done){e.next=25;break}if(c=l.value,!c.disabled){e.next=13;break}return e.abrupt("continue",22);case 13:return e.prev=13,e.next=16,c.$save();case 16:p=e.sent,p._stepAction===d.stepAction.employeeProfileReview&&(p._employeeProfileReviewStepFieldValues=p._employeeProfileReviewStepFieldValues.map(function(e){var t=n.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=t.sourceField,e})),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(13);case 22:i=!0,e.next=9;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(7),a=!0,s=e.t1;case 31:e.prev=31,e.prev=32,!i&&o.return&&o.return();case 34:if(e.prev=34,!a){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:case"end":return e.stop()}},e,t,[[7,27,31,39],[13,20],[32,,34,38]])})(),"t0",3);case 3:e.next=7;break;case 5:e.prev=5,e.t1=e.catch(1);case 7:return e.prev=7,b.loading=!1,b.firstSave&&(b.firstSave=!1),l.success("","Progress Saved",!1),e.finish(7);case 12:case"end":return e.stop()}},e,this,[[1,5,7,12]])}))()},close:function(){a.search("activeTab",null),a.url(g())},print:function(){s(function(){return i.print()},t)},showDelete:function(){var e=y.formInstance._currentStepId===y.formTemplate._stepOrder.split(",")[0];return y.formInstance._isEmployeeInitiated&&e},deleteForm:function(){b.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};c.showDestructive(e).then(function(){o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.formInstance.$remove();case 3:l.success("",'"'+y.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:g(),a.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.error("",'Error deleting form "'+y.formTemplate._name+'"');case 11:return e.prev=11,b.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){b.deleting=!1})}}}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceClose",function(){return new l("close")})},{"base-segment":16}],29:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceCloseLogic",r)},{}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","fieldsHlp","ssToastHlp","ssSaveInterrupterSvc","ssModalSvc","formsHlp",function(e,t,n,r,i,a,s,o,l,c,p,m,d,u,f,g,y,b,h){function v(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=u.getEmployeeSync().id;return x.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}function _(e){c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:P.loading=!0,e._stepAction===d.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){
x.formInstance._statusId===d.formStatus.rejected?m.updateStatus({id:x.formInstance.id,newStatus:0}).then(function(){w(e)}):w(e)}).catch(function(e){P.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function w(e){m.post({id:x.formInstance.id,event:P.submissionEvent,stepId:e.id}).then(function(){T().then(function(e){g.success("","form step "+S,!1)}).catch(function(){g.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(v())})}).catch(function(e){})}function T(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.get({id:x.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),P.loading=!1):s(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=o.defer(),n=24,r=0;return e(),t.promise}var x=t.routeVm,D=e.get("segmentInboxFormInstanceFormLogic"),O=t.stepValues={},P=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:d.stepAction.employeeProfileReview,formComplete:d.formStatus.complete,cachedSourceFields:{}},S="";t.go={selectFormObject:function(e,n){P.selectedStep=n,p.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return P.steps.indexOf(e)>P.steps.indexOf(t)},submitForm:function(e){var t=P.steps.findIndex(function(e){return e.currentStep}),n=P.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void _(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===P.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),b.showStandard(r).then(function(){_(e)})},submitStep:function(e){P.submissionEvent="submitStep",S="submitted",P.selectedStep=e},acknowledgeStep:function(e){P.submissionEvent="reviewForm",S="acknowledged",P.selectedStep=e},approveStep:function(e){P.submissionEvent="approveForm",S="approved",P.selectedStep=e},denyStep:function(e){P.submissionEvent="declineForm",S="denied",P.selectedStep=e},reviewProfile:function(e){P.submissionEvent="profileReviewed",S="submitted",P.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};!function(){P.loading=!0,h.sortByOrderField(x.formTemplate._steps,x.formTemplate._stepOrder),x.formTemplate._steps.forEach(function(e,n,r){e.instance=x.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==d.stepAction.formCompleted&&(O[e.instance.id]=e.instance,f.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),"string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),x.formInstance._currentStepId===e.id&&(P.selectedStep=e,P.selectedStep.currentStep=!0,i(function(){p.emit("form-instance.entry.step-clicked",e.id)},!1)),x.formTemplate._formFields.length&&(e.fields=x.formTemplate._formFields.filter(function(t){return t._step.id===e.id}),h.sortByOrderField(e.fields,e._fieldOrder),e=D.processStep({tStep:e,formInstance:x.formInstance}),e._stepAction===d.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){var i=x.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),P.cachedSourceFields[r]=i,t.$watch("vm.cachedSourceFields["+r+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+n+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+r+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),P.steps.push(e)))}),x.formInstance.$$resetChangesDetected(),x.formInstance._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),y.register(x.formInstance),P.loading=!1}(),p.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=P.steps.find(function(t){return t.id===e}),r=P.steps.findIndex(function(t){return t.id===e});if(null==n)return void(P.selectedStep=0);P.selectedStep=n,t&&a("fb-step-"+r)},t)}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceForm",function(){return new l("form")})},{"base-segment":16}],31:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,o){function l(e){var t=e.tStep,r=e.formInstance,i=Object.assign({},t);f=r._statusId===n.complete;var a=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,a||(i.editMode=!1,i.disabled=!0),f&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i=c({tStep:i}),p(i),i.fieldGroups=d(i),i}function c(e){var t=e.tStep,n=!1,r=!1,a=!1,s=!1;return!t.currentStep&&t.disabled||f||(n=t._stepAction===i.formEntry,r=t._stepAction===i.reviewForm,a=t._stepAction===i.reviewApproveOrDeny,s=t._stepAction===i.employeeProfileReview),Object.assign({},t,{showFormEntry:n,showReviewForm:r,showReviewApproveOrDeny:a,showEmployeeProfileReview:s})}function p(e){e.fields.filter(function(e){return null!=e._fieldDefId}).forEach(function(e){m(e,o.getFieldById(e))}),e.fields.forEach(function(n){if(n.editMode=e.editMode,n.disabled=e.disabled,"super-select-list"===n._fieldType||n._fieldTypeOptions&&"readOnlyText"===n._fieldTypeOptions.view){var r=JSON.parse(n._configJson);null!=r.externalSource&&null!=t[r.externalSource]&&(n.externalSourceOptions=t[r.externalSource].enums)}else if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}n._sensitive&&(f||(n.editMode=e.instance._meta.permissions.permittedActions.editSensitive),n.sensitiveRedacted=!e.instance._meta.permissions.permittedActions.viewSensitive)})}function m(e,t){Object.keys(t).forEach(function(n){Object.keys(e).includes(n)||(e[n]=t[n])})}function d(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function u(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var f=!1;return{processStep:l,mapName:u}}r.$inject=["$filter","ssEnum","enumFormStatus","enumPayRateFrequency","enumStepAction","ssEmployeeAssignmentHlp","ssJobTypeHlp","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceFormLogic",r)},{}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssAsync","moment","ssOrganizationSvc","ssDateByOrgHlp","ssFormInstancesApi","$sce","ssSaveInterrupterSvc","enumStepAction",function(e,t,n,r,i,a,s,o,l,c){function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showSensitive,n=void 0!==t&&t,r=m.formInstance._steps.filter(function(e){return e._stepAction!==c.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return Object.assign(JSON.parse(e),JSON.parse(t))});return s.generatePDFOverlay({formInstanceid:m.formInstance.id,formFieldValues:r,showSensitive:n}).then(function(e){m.PDFOverlayUrl=o.trustAsResourceUrl(e.data.data.attributes.string)}).catch(function(e){ssToastHlp("There was an error generating the PDF","")})}var m=t.routeVm,d=(e.get("segmentInboxFormInstanceHeaderLogic"),null),u=!1,f=t.vm={hasSensitiveFields:!1};t.go={toggleFormView:function(e){m.showPDFOverlay=e,e&&(m.isLoading=!0,m.loadingStatus="generating PDF...",p({showSensitive:u}).then(function(){m.isLoading=!1,m.loadingStatus=""}))},toggleSensitiveFields:function(e){d.forEach(function(t){t.overrideVisibility=!e}),u=e,m.hasPDFOverlay&&m.showPDFOverlay&&p({showSensitive:e})}};n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.utcIsoToRelativeMoment(m.formInstance._createdUtc,m.org),m.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),d=m.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),d.length&&(d.forEach(function(e){e.overrideVisibility=!0}),u=!0),n=m.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),f.hasSensitiveFields=!!d.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceHeader",function(){return new l("header")})},{"base-segment":16}],33:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceHeaderLogic",r)},{}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,a){var s=t.routeVm,o=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(s.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{a.sortByOrderField(l.steps,s.formTemplate._stepOrder);var c=o.buildParticipantList(s.formInstance._steps);l.steps.forEach(function(e){e.instance=s.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=o.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return o.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceSteps",function(){return new l("steps")})},{"base-segment":16}],35:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function r(e){var t=e._permissions.find(function(t){return i(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function i(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:n,getPermissionLabel:r,matchByParticipants:i}}r.$inject=["ssEnum","enumStepParticipantType"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceStepsLogic",r)},{}],36:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/inbox?activeTab",templateUrl:"routes/inbox/inbox.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.inbox",new r.State(a,i))}])},{"base-state":17}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,a,s,o,l,c,p,m){function d(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var u=t.routeVm,f=(e.get("segmentInboxContentLogic"),null),g=t.vm={selectedFilter:"current"},y=t.go={filter:function(e){g.selectedFilter=e},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":u.search};return null!==d()&&(e.resolvemethod=d()),{api:o.queryCurrent,config:e}},getSentForms:function(){return{api:o.querySubmitted,config:{id:f,include:"steps","filter[search]":u.search}}},getCompletedForms:function(){return{api:o.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete,"filter[search]":u.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":u.search}}}};a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,s.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&n.activeTab.length?y.filter(n.activeTab):"EmployeeInitiated"===c.load("inboxDefaultTab")&&(y.filter("initiate"),c.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),m.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxContent",function(){return new l("content")})},{"base-segment":16}],38:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxContentLogic",r)},{}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentInboxHeaderLogic"),t.vm={};n.search=""}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentInboxHeader",function(){return new l("header")})},{"base-segment":16}],40:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxHeaderLogic",r)},{}],41:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.index",new r.State(a,i))}])},{"base-state":17}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$filter","ssAsync","ssFormLibraryApi","ssPacketsApi","ssListSvc","ssEnum","enumFormTemplateStatus","ssDateByOrgHlp",function(e,t,n,r,i,a,s,o,l,c){function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e&&(f.loading=!0,f.loadingMessage="Loading Form Templates"),b=[],null!=y&&y.$abort(),y=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,f.categories){t.next=5;break}return t.next=4,s.getByExternalId("form.categories");case 4:f.categories=t.sent;case 5:return t.next=7,i.query();case 7:b=t.sent,m(b),u(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("error retrieving forms",t.t0);case 15:return t.prev=15,e&&(f.loading=!1,f.loadingMessage=null),y=null,t.finish(15);case 19:case"end":return t.stop()}},t,this,[[0,12,15,19]])}))()}function m(e){return e.forEach(function(e){e.isForm="FormTemplate"===e._objectType,e.isPacket="Packet"===e._objectType,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),f.extendCommonProps(e)}),e}function d(e){var t,n="";return null==e?"":(t=f.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function u(){var e=n("filter")(b,{searchText:g.search}).filter(function(e){return"All"===g.selectedCategory||(null!=e._category&&null!=e._category.id?e._category.id===g.selectedCategory:void 0)}).filter(function(e){return"All"===g.selectedStatus||(null!=e.status?l.byName(e.status)===g.selectedStatus:void 0)}),r="nameAsc"===g.sortBy?"_name":"_modifiedDt",i="_modifiedDt"===g.sortBy;t.filteredFormTemplates=n("orderBy")(e,r,i),f.displayTemplates=t.filteredFormTemplates}var f=t.routeVm,g=(e.get("segmentIndexContentLogic"),f.vm=t.vm={sortCriteria:[{value:"_modifiedDt",label:"Recently Modified"},{value:"nameAsc",label:"Template Name A-Z"}],statuses:l.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:"",sortBy:"_modifiedDt"}),y=null,b=[];f.displayTemplates=[],p(),f.loadFormTemplates=p,t.loadNext=function(){var e=Math.min(f.displayTemplates.length+10,t.filteredFormTemplates.length);f.displayTemplates=t.filteredFormTemplates.slice(0,e),g.showInfScroll=f.displayTemplates.length<t.filteredFormTemplates.length},f.extendCommonProps=function(e){var t=c.utcIsoToRelativeMoment(e._modifiedDt,f.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=d(e._category.id)),e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":o.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":o.stepAction.byValue(e._stepAction)}))},t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus","vm.sortBy"],function(e,t){e!==t&&u()}),t.$watch("filteredFormTemplates",function(e,n){null!=e&&t.$emit("list:filtered")})}]}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentIndexContent",function(){return new l("content")})},{"base-segment":16}],43:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexContentLogic",r)},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,a,s,o,l){t.routeVm,e.get("segmentIndexHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},m=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?a:s;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-formbuilder/"+p.form.instanceType+"/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),o.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,m.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,m.reset()}},d=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?d.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):d,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentIndexHeader",function(){return new l("header")})},{"base-segment":16}],45:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexHeaderLogic",r)},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$rootScope","$window","ssAsync","ssActiveUserSvc","ssEmployeeApi","ssFormTemplatesApi","enumStepParticipantType","enumFormAdministratorType","enumStepAction","ssStorage","moment","ssDateByOrgHlp","formsHlp",function(e,t,n,r,i,a,s,o,l,c,p,m,d,u,f){function g(e){e.forEach(function(e,t){e.showResendMessage=t+1!==w.item._steps.length&&w.item._steps[t+1]._stepAction===p.reviewApproveOrDeny,e._stepParticipant.participantType===l.specificPerson&&e._stepParticipant.employeeIds.length?e.resolvedParticipant=e._stepParticipant.name:e.resolvedParticipant=l.byValue(e._stepParticipant.participantType)})}function y(e){var t=e.type,n=e.recipients;_[t]=n,m.save(v,_)}var b=t.routeVm,h=(e.get("segmentSendContentLogic"),{individual:0,group:1});b.postData={isPacket:"packet"===b.templateType.toLowerCase(),isForm:"formtemplate"===b.templateType.toLowerCase(),recipients:[],bulkRecipients:[],exclusions:[],submissionDueDate:null,asOf:null};var v,_,w=t.vm={loadingFormSender:!0,resolvedFormSender:"loading form sender",useEffectiveDating:!1,asOf:null,recipient:l.recipientChosenWhenSent,hasSubmissionDueDate:"false",isPacket:"Packet"===b.templateType,isForm:"FormTemplate"===b.templateType,item:b.data,datePickerOptions:{minDate:new Date},selectedFilter:"sendDetails",exporting:!1};t.go={export:function(){
i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.exporting=!0,t=b.postData.recipients.map(function(e){return e.id}).concat(b.postData.bulkRecipients.map(function(e){return e.id})).filter(function(e,t,n){return n.indexOf(e)===t}),n={organizationId:b.org.id,include:"statusHistory,employmentHistory,addresses,phoneNumbers,emails,emergencyContacts,positions,assignments,locations,jobtypes,payschedules,supervisors"},w.useEffectiveDating&&null!=w.asOf?n.asOfTimeUtc=u.safeAsOfDateRelativeTo(d(w.asOf).startOf("day"),b.org):n.asOfTimeUtc=u.safeAsOfDateRelativeTo(d().startOf("day"),b.org),e.next=6,s.exportEmployeesById(n,{ids:t});case 6:i=e.sent,r.open(i._string,"_blank",""),w.exporting=!1;case 9:case"end":return e.stop()}},e,this)}))()}};!function(){try{v=b.org.id+"_template_"+b.data.id,_=m.load(v),null==_?_={}:(b.postData.recipients=_[h.individual]||[],b.postData.bulkRecipients=_[h.group]||[]),t.$root.isPermitted.activeUser.idmAdministrator?w.resolvedFormSender="You (IDM Administrator)":i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIdentityByType("employee");case 2:return t=e.sent,e.next=5,s.get({id:t,fields:"id,firstname,lastname"},null,!1);case 5:n=e.sent,w.resolvedFormSender="You ("+n.fullName+")",w.loadingFormSender=!1;case 8:case"end":return e.stop()}},e,this)}))(),w.isForm?(f.sortByOrderField(w.item._steps,w.item._stepOrder),g(w.item._steps),3===w.item._formAdministrator.formAdministratorType?i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get({id:w.item._formAdministrator.employeeId,fields:"id,firstname,lastname"},null,!1);case 2:t=e.sent,w.formAdministrator=t.fullName;case 4:case"end":return e.stop()}},e,this)}))():w.formAdministrator=c.byValue(w.item._formAdministrator.formAdministratorType)||"None"):w.isPacket&&i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.item._formTemplateIds&&(w.loadingPacket=!0,t=w.item._formTemplateIds.toString(),o.formTemplatesByIds(w.item._formTemplateIds,{include:"steps"}).then(function(e){f.sortByOrderField(e,t),w.item.forms=e,w.item.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==p.formCompleted}),f.sortByOrderField(e.steps,e._stepOrder)}),w.loadingPacket=!1}).catch(function(e){w.loadingPacket=!1}));case 1:case"end":return e.stop()}},e,this)}))()}catch(e){}}(),t.$watch("vm.hasSubmissionDueDate",function(e,t){e!==t&&null!=e&&"false"===e&&(b.postData.submissionDueDate="")}),n.$on("$stateChangeStart",function(e){y({type:h.individual,recipients:b.postData.recipients}),y({type:h.group,recipients:b.postData.bulkRecipients})}),r.addEventListener("beforeunload",function(){y({type:h.individual,recipients:b.postData.recipients}),y({type:h.group,recipients:b.postData.bulkRecipients})},{capture:!0}),t.$on("destroy",t.$watch("vm.useEffectiveDating",function(e,t){e!==t&&(e&&w.asOf?(b.postData.asOf=w.asOf,n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})):(b.postData.asOf=null,w.asOf="",n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})))})),t.$on("destroy",t.$watch("vm.asOf",function(e,t){e!==t&&(n.$broadcast("parentAsOfDate-Change",{asOf:e}),b.postData.asOf=e)}))}]},{key:"link",value:function(e,t,n){e.$watch("routeVm.postData.recipients.length",function(n,r){e.$emit("ss-validate-field-event",t.find("input").eq(0),"ss-validate-array-field")})}}]),t}(o.Segment);angular.module("ec-forms-segments").directive("segmentSendContent",function(){return new l("content")})},{"base-segment":16}],47:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentSendContentLogic",r)},{}],48:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssFormInstancesApi","ssStatusApi","ssActiveUserSvc","ssToastHlp","ssStorage","ssArrayHlp","ssModalSvc","$location","$q","enumFormTemplateStatus","ssDateByOrgHlp","ssOrganizationSvc",function(e,t,n,i,a,s,o,l,c,p,m,d,u,f,g){var y,b,h=t.routeVm,v=e.get("segmentSendHeaderLogic"),_=t.vm={isPacket:"packet"===h.templateType.toLowerCase(),isForm:"formtemplate"===h.templateType.toLowerCase(),isSending:!1,item:h.data,batches:[],batchStyles:{}},w=(_.isPacket,t.go={preview:v.preview,send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(_.item._isEmployeeInitiated&&1===_.item._formAdministrator.formAdministratorType)return void o.error("An Employee-Initiated form cannot be started when the sender of the form is also the Form Administrator.","",!1);if(_.item._formAdministrator&&(!_.item._formAdministrator.formAdministratorType||_.item._formAdministrator.formAdministratorType<=0))p.showDestructive({title:"Form Administrator Required",content:"You must select a form administrator before sending this form.",primaryText:"Edit",secondaryText:"Cancel"}).then(function(){n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.update({id:_.item.id},{statusId:u.inactive});case 2:m.url("/ec-formbuilder/form/"+_.item.id+"/settings");case 3:case"end":return e.stop()}},e,this)}))()});else{var g={};_.isSending=!0;var w=[].concat(r(e),r(s)),T=[].concat(r(d));Object.assign(g,v.getDefaultBatchObj()),h.postData.asOf&&Object.assign(g,{asOf:f.safeAsOfDateRelativeTo(moment(h.postData.asOf).startOf("day"),h.org)}),g._dueDateUtc=h.postData.submissionDueDate?f.endOfDayRelativeTo(moment(h.postData.submissionDueDate),h.org):null,g._requestType=_.isPacket?1:0,g._templateId=_.item.id,g._includedEmployeeIds=c.unique(w.map(function(e){return e.id})),g._excludedEmployeeIds=c.unique(T.map(function(e){return e.id})),b=_.isPacket?i.postPacketInstanceBatch:i.postFormInstanceBatch,n(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b({organizationId:h.org.id},g);case 3:n=e.sent,_.batches.unshift(n),h.removeGroup(),l.clear(y),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),o.error("",'There was an error sending "'+t.form._name+'"',!1);case 13:return e.prev=13,_.isSending=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,9,13,16]])}))()}},removeBatch:function(e){var t=_.batches.indexOf(e);_.batches.splice(t,1)}});n(regeneratorRuntime.mark(function e(){var n,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y=h.org.id+"_template_"+h.data.id,e.next=4,i.getAllBatches({organizationId:h.org.id,"filter[templateid]":_.item.id});case 4:if(n=e.sent,n.length){e.next=7;break}return e.abrupt("return");case 7:return a=n.map(function(e){return i.getBatchStatus({id:e.id})}),e.next=10,d.all(a);case 10:s=e.sent,s=s.filter(function(e){return 3!==e._status&&!e._isArchived||3===e._status&&e._numFailed}),l=n.filter(function(e){return s.find(function(t){return t.id===e.id})}),_.batches=[].concat(r(l)),t.$on("$destroy",t.$watch("vm.batches.length",function(e,t){_.batchStyles=v.getBatchListStyles(_.batches)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),o.error("",'There was an error retrieving current batches for "'+_.item._name+'"');case 20:case"end":return e.stop()}},e,this,[[0,17]])}))(),h.go={send:function(){var e=h.postData.recipients,t=h.postData.bulkRecipients,n=h.postData.exclusions;w.send(e,t,n)}}}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentSendHeader",function(){return new c("header")})},{"base-segment":16}],49:[function(e,t,n){"use strict";function r(e){return{preview:function(t){e.url("/ec-formbuilder/form/"+t.id+"/preview")},buildInstance:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object.assign({},t),a=e.id;if(null!=r&&r.length){if(r.map(function(e){return e.id}).includes(a))return}i.employee={employeeId:a},n.attributes.push(i)},getDefaultBatchObj:function(){return{_requestType:0,_templateId:"",_filters:{},_includedEmployeeIds:[],_excludedEmployeeIds:[]}},getBatchListStyles:function(e){return{height:100*e.length+"px",transition:"height 0.5s","transition-delay":"1s"}}}}r.$inject=["$location"],angular.module("ec-forms-segment-logic").factory("segmentSendHeaderLogic",r)},{}],50:[function(e,t,n){"use strict";var r=e("base-state"),i={retryLoading:!1},a={url:"/send/{type:[A-Za-z]+}/{id:[0-9A-Za-z-]+}",templateUrl:"routes/send/send.html",resolve:{packetFormName:["$stateParams","ssAsync","ssFormTemplatesApi","ssPacketsApi",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.templateType=e.type,"Packet"!==i.templateType){t.next=8;break}return t.next=5,r.get({id:e.id});case 5:i.data=t.sent,t.next=11;break;case 8:return t.next=10,n.get({id:e.id,include:"steps,formFields,statusHistory"});case 10:i.data=t.sent;case 11:return t.abrupt("return",i.data._name);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,this,[[0,14]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["$stateParams","packetFormName",function(e,t){return"Frontline Central - Send "+e.type+" "+t}]},$permissions:function(e){return e.isPermittedAction("formTemplates","send")||e.isPermittedAction("packets","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.send",new r.State(a,i))}])},{"base-state":17}]},{},[2]);