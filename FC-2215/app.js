!function(){function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){return r(t[s][1][e]||e)},p,p.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}return e}()({1:[function(e,t,n){(function(i){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this,r.flUiFormRenderer=e()}}(function(){return function(){function t(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=i[a]={exports:{}};n[a][0].call(u.exports,function(e){return o(n[a][1][e]||e)},u,u.exports,t,n,i,r)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<r.length;a++)o(r[a]);return o}return t}()({1:[function(e,t,n){"use strict";function i(e,t,n){var i=e.$eval(t),r=n.split("."),o=r.pop(),s=r.join("."),a=s?e.$eval(s):e;a[o]=JSON.parse(i),e.$watch(t,function(e){JSON.stringify(a[o])!==e&&(a[o]=JSON.parse(e))}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}function r(e){if(e._sensitive&&e.step){var t=null!=e.step.formFieldValues[e.id]&&""!==e.step.formFieldValues[e.id];return t&&e.sensitiveRedacted||t&&e.overrideVisibility&&!0===e.overrideVisibility}return!1}function o(){return s}n.fieldTemplateHlp=o,n.bindConfigObject=i;var s={getTag:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(e._fieldType&&e._fieldType.includes("read"))return n;if(r(e)&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),e._fieldType.startsWith("super-")){var i;if(n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),"super-digital-signature"===e._fieldType)i="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"');else if("super-input-radio"===e._fieldType){for(var o=t.findIndex(function(t){return t===e}),s=e.config.name||"",a=e;o--;)"super-input-radio"===t[o]._fieldType&&t[o].config.name===s&&(a=t[o]);i="field.step.formFieldValues['"+a.id+"']"}else i="field.step.formFieldValues['"+e.id+"']";if("super-input-radio"===e._fieldType&&(n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"')),e._required&&!e.disabled){var l=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");"super-digital-signature"===e._fieldType.toLowerCase()?n.push('ss-validate="ignoreValidations || validator.requiredDigitalSignature('+i+", '"+l+"')\""):"super-file-upload"===e._fieldType.toLowerCase()?n.push('ss-validate="ignoreValidations || validator.requiredFileUpload('+i+", '"+l+"')\""):n.push('ss-validate="ignoreValidations || validator.required('+i+", '"+l+"')\"")}n.push('model="'+i+'"')}return e._fieldType.startsWith("cmp-")&&(n.push('field="field"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"')),"link"===e._fieldType&&(n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"')),n.join(" ")},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"instructions":case"readOnlyText":case"readOnlyCredentials":case"readOnlyDate":case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(e,t,n){var i,o="";switch(e._fieldType){case"heading":return"{{field._label}}";case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(e.step&&e.step.formFieldValues[e.id])if(e._fieldTypeOptions&&"super-select-list"===e._fieldTypeOptions.edit){var s=e.step.formFieldValues[e.id],a=e.externalSourceOptions.find(function(e){return e.value===s});i=a&&a.name}else i=e.step.formFieldValues[e.id]||"--";else i=t.$eval(e.config.readOnly,e.primaryParticipant),i=null!=i?i:"--";return r(e)&&(o='aria-label="value is redacted"',i="******"),'<dt class="field-label">'+e._label+"</dt><dd "+o+">"+i+"</dd>";case"readOnlyDate":return i=e.step&&e.step.formFieldValues[e.id]?e.step.formFieldValues[e.id]:t.$eval(e.config.readOnly,e.primaryParticipant),i=null!=i?n("date")(i,"MM/dd/yyyy"):"--/--/--",r(e)&&(o='aria-label="value is redacted"',i="******"),'<dt class="field-label">'+e._label+"</dt><dd "+o+">"+i+"</dd>";case"readOnlyCredentials":return null==e.config.readOnly||null!=e.config.populate&&!e.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+e.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":return null!=e.externalSourceOptions?"<"+e._fieldType+'-item ng-repeat="option in field.externalSourceOptions track by $index" value="option.value" label="option.name"></'+e._fieldType+"-item>":"<"+e._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+e._fieldType+"-item>";default:return""}}}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var i=(0,eval)("this");i.registerUiModule&&i.registerUiModule("ec-formbuilder")},{"./includes":38,"./module":39,"./partials.compiled":40}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={form:"=",label:"@"},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$q","$window","filenameHlp","ssAsync","ssFormTemplatesApi","ssToastHlp","FileUploader","ssAuthSvc","ssModalSvc",function(e,t,n,i,r,o,s,a,l,c){function p(t){r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m.processing=!0,n.next=4,t.$remove();case 4:if(!e.form._printPreviewDefinition||t._fileId!==e.form._printPreviewDefinition.templateFileId){n.next=9;break}return e.form._printPreviewDefinition.printPreviewPages=[],e.form._printPreviewDefinition.templateFileId=null,n.next=9,e.form.$save();case 9:return n.next=11,e.form.$refresh();case 11:m.processing=!1,u(),n.next=17;break;case 15:n.prev=15,n.t0=n.catch(0);case 17:case"end":return n.stop()}},n,this,[[0,15]])}))()}function u(){if(m.files=[],e.form._files&&e.form._files.length>0){var n=e.form._files.map(function(e){return o.getFile({id:e._fileId})});t.all(n).then(function(t){t.forEach(function(t){var n=e.form._files.find(function(e){return e._fileId===t.id});n.filename=t._filename;var r=i.getExtension(t.filename);n.icon=i.getIcon(r),m.files.push(n)})})}}var d={title:"You will lose all your overlay mappings",content:"Removing this file will result in losing all the mappings done on the current form.",primaryText:"Continue",secondaryText:"Cancel"},m=e.vm={trashIcon:"trash-o",file:null,files:[]},f=e.uploader=new a({withCredentials:!1,headers:{Authorization:"Bearer "+l.token.access}});f.onAfterAddingFile=function(e){null!=e._file.size&&e._file.size>=0&&e._file.size<=52428800?(m.processing=!0,o.attachFile({},{filename:e.file.name,fileType:2}).then(function(t){m.file=t,m.file.filename=t._filename,e.updatedUrl=o.getUploadFileUrl({id:m.file.id}),e.upload()})):(s.error("The file upload size cannot exceed 50MB. Please upload a smaller file.","File Upload Failed"),f.queue.length=0)},f.onBeforeUploadItem=function(e){e.url=e.updatedUrl},f.onErrorItem=function(e,t,n,i){m.processing=!1,s.error("The selected file did not upload correctly. Please try again.","File Upload Failed")},f.onCancelItem=function(e,t,n,i){m.processing=!1,s.info("File upload cancelled.")},f.onSuccessItem=function(t,n,i,s){r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.associateFile({id:e.form.id},{fileId:m.file.id});case 3:return t.next=5,e.form.$refresh();case 5:u(),m.processing=!1,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()};e.go={download:function(e){r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getFileUrl({id:e}).then(function(e){n.open(e._string,"_blank")});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}},t,this,[[0,5]])}))()},delete:function(t){e.form._printPreviewDefinition&&t._fileId===e.form._printPreviewDefinition.templateFileId?c.showDestructive(d).then(function(){p(t)}):p(t)}};u()}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpAttachments",function(){return new c(l,"attachments")})},{"base-component":30}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={field:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$window",function(e,t){function n(e){null!=e&&(s.template="super-input-radio"===e?"<div><"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index" label="{{option}}"\n\t\t\t\t\tname="radio-group-'+o[0]+'"\n\t\t\t\t\tmodel="vm.model"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\tis-disabled="field.disabled"\n\t\t\t\t\t></'+e+"></div>":"<div><"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tmodel=""\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\tis-disabled="field.disabled"\n\t\t\t\t\t></'+e+"></div>")}var i=e.field,r=new Uint32Array(1),o=t.crypto.getRandomValues(r),s=e.vm={template:""};e.go={};e.$watch("field.config",function(t){e.$watch("field.config.selectType",function(e){n(e)}),e.$watch("field.config.multiple",function(e){i.config.selectType=!1===e?"super-input-radio":"super-input-checkbox"})})}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":30}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={options:"=",field:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$element","ssValidateHlp","fieldsHlp",function(e,t,n,i){function r(){e.options=o.options.map(function(e){return e.value}),n.resetValidation(s)}var o=e.vm={},s=t.find("ul"),a=i.getValidator(e.field._fieldType),l=null;null==e.options&&(e.options=[]),o.options=e.options.map(function(e){return{value:e}}),e.$watch("vm.options",function(e,t){e!==t&&r()},!0),e.$watch("field.config.multiple",function(e,t){e!==t&&!1===e&&o.options.length<2&&(o.options.push({value:"Option 2"}),r())});e.go={addOption:function(){o.options.push({value:"Option "+(o.options.length+1)}),r()},dropOption:function(e,t,n){return l=t,n},moveOption:function(e,t){e>l&&e++,o.options.splice(e,1),r()},removeOption:function(t){if(e.field.config.selectType&&"super-input-radio"===e.field.config.selectType){if(2===o.options.length)return}else if(1===o.options.length)return;o.options.splice(t,1),r()},validate:function(){if("function"==typeof a){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(null,t)}return!0}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpDndOptions",function(){return new c(l,"dnd-options")})},{"base-component":30}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={group:"=",step:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","fieldsHlp",function(e,t){var n=e.$root.utils.findInParentScope("formVm",e),i=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),r=(e.vm={},e.go={fieldGroupSettings:function(t,n){t.stopPropagation(),i.vm.selectedFormObject=n,e.$emit("component-properties",n[0].config.cmp,n)},removeFieldGroup:function(e,t){var r=n.formData._formFields;n.modelChanged(),e[0]._fieldGroup&&e[0]._fieldGroup.length&&(i.added[e[0]._fieldGroup]=!1),e.forEach(function(e){i.commitToEmployeeRecord.includes(e.id)&&i.commitToEmployeeRecord.splice(i.commitToEmployeeRecord.indexOf(e.id),1),r.splice(r.indexOf(e),1)}),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1)}},e.group.slice(2));if(r.length){var o=r[0];if(o&&o._fieldGroup.length){var s=o._fieldGroup.indexOf("-")>0?o._fieldGroup.indexOf("-"):o._fieldGroup.length,a=o._fieldGroup.substring(0,s),l=t.getFields(a,o._configJson.cmp);r.forEach(function(e){var t=l.find(function(t){return e._label===t._label});t&&!e._fieldTypeOptions&&t._fieldTypeOptions&&(e._fieldTypeOptions=t._fieldTypeOptions)})}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpFieldGroupRenderer",function(){return new c(l,"field-group-renderer")})},{"base-component":30}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l=e("fl-ui-form-renderer"),c={field:"=",group:"="},p=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$filter","fieldsHlp",function(e,t,n){function i(n){var i=(0,l.fieldTemplateHlp)().getTag(n),r=(0,l.fieldTemplateHlp)().getProperties(n,o),a=(0,l.fieldTemplateHlp)().getContent(n,e.$root,t);s.template="<"+i+r+">"+a+"</"+i+">"}var r=e.field,o=e.group;(0,l.bindConfigObject)(e,"field._configJson","field.config");var s=e.vm={template:"",style:{}},a=n.getValidator(r._fieldType);e.go={validate:function(){if("function"==typeof a){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(null,t)}return!0}};r.config.width&&(s.style.width=r.config.width,e.$watch("field.config.width",function(e){return s.style.width=e})),e.$watch("field._fieldType",function(){return i(r)}),e.$watch((0,l.fieldTemplateHlp)().getVisibility(r),function(e){return s.visibility=e})}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpFieldRenderer",function(){return new p(c,"field-renderer")})},{"base-component":30,"fl-ui-form-renderer":1}],8:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"=",showLabel:"@?",showRequired:"@?"},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],showLabel:"false"!==e.showLabel,showRequired:"false"!==e.showRequired}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomCommon",function(){return new c(l,"properties-custom-common")})},{"base-component":30}],9:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={click:function(e){}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomDate",function(){return new c(l,"properties-custom-date")})},{"base-component":30}],10:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","enumFieldWidths",function(e,t){var n=e.vm={newOption:"",field:e.fields[0],widths:t.getEnums().filter(function(e){return"Large"!==e.name&&"Full"!==e.name})};null==n.field._options&&(n.field._options=[])}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomDropdown",function(){return new c(l,"properties-custom-dropdown")})},{"base-component":30}],11:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssValidatorHlp",function(e,t){var n=e.field=e.fields[0],i=e.validator=t,r=(e.vm={},e.go={},/^((http|https):\/\/)/);e.$watch("field.config",function(t){e.$watch("field.config.location",function(e,t){e!==t&&(e&&0!==e.length&&!n.config.name?n.config.display=e:n.config.name?n.config.display=n.config.name:n.config.display="link will display here",!0===i.requiredUrl(e)?(n.config.isValid=!0,r.test(n.config.location)||(n.config.location="http://"+n.config.location)):n.config.isValid=!1)}),e.$watch("field.config.name",function(e,t){e!==t&&(e&&0!==e.length?n.config.display=e:n.config.location?n.config.display=n.config.location:n.config.display="link will display here")})})}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomFilelink",function(){return new c(l,"properties-custom-filelink")})},{"base-component":30}],12:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory",function(e,t,n){var i=e.$root.utils.findInParentScope("formVm",e),r=e.vm={field:e.fields[0],personnel:t,medical:n,webFormCategory:i.formData._formFields[0]._documentCategory,webFormSubCategory:i.formData._formFields[0]._documentSubCategory,webFormCatSubCat:i.formData._formFields[0]._documentCategory+"-"+i.formData._formFields[0]._documentSubCategory,addToEmpRecord:!0};e.go={click:function(e){}};e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(i._updateEmployeeRecord=e,i.modelChanged())}),e.$watch("vm.webFormCatSubCat",function(e,t){if(e!==t){var n=e.split("-")[0],o=e.split("-")[1];r.field._updateEmployeeRecord=!0,r.field._documentCategory=n,r.field._documentSubCategory=o,i.modelChanged()}})}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomFileupload",function(){return new c(l,"properties-custom-fileupload")})},{"base-component":30}],13:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","enumFieldHeights","enumFieldWidths",function(e,t,n){var i=e.vm={field:e.fields[0],heights:t.getEnums(),widths:n.getEnums()};null!=i.field._label&&0!==i.field._label.length||(i.field._label="Input Label")}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomInput",function(){return new c(l,"properties-custom-input")})},{"base-component":30}],14:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={click:function(e){}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomSectionhead",function(){return new c(l,"properties-custom-sectionhead")})},{"base-component":30}],15:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],cols:[{name:"One",value:"100%"},{name:"Two",value:"50%"},{name:"Three",value:"33%"},{name:"Four",value:"25%"}]},e.go={}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomSelectbox",function(){return new c(l,"properties-custom-selectbox")})},{"base-component":30}],16:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={click:function(e){}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomSignature",function(){return new c(l,"properties-custom-signature")})},{"base-component":30}],17:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","enumFieldWidths","fieldsHlp",function(e,t,n){var i=e.vm={field:e.fields[0],widths:t.getEnums()},r=n.getValidator(i.field._fieldType);e.go={validate:function(){if("function"==typeof r){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(null,t)}return!0}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesCustomText",function(){return new c(l,"properties-custom-text")})},{"base-component":30}],18:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={fields:"=",canEdit:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){var n=e.vm={activatableFields:e.fields.slice(2),commit:e.fields[2]._updateEmployeeRecord,hasExternalData:!0};e.$watch("canEdit",function(t,i){if(!1===t)for(var r=e.fields.length-1;r>=2;r--)e.fields[r]._updateEmployeeRecord=t,n.commit=!1}),e.$watch("vm.commit",function(n,i){if(n!==i){for(var r=e.fields.length-1;r>=2;r--)e.fields[r]._updateEmployeeRecord=n;t.emit("emp-record-commit",n,e)}}),n.hasExternalData=n.activatableFields.every(function(e){return e._externalData&&null!==e._externalData})}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesEmpRecord",function(){return new c(l,"properties-emp-record")})},{"base-component":30}],19:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("base-component"),c={form:"=",fields:"="},p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","enumStepParticipantType",function(e,t,n,r){function o(e){var t=[];return e.forEach(function(e){if(!e.last){var n=e._stepParticipant,i=angular.isArray(n.employeeIds)&&n.employeeIds.length?n.employeeIds[0]:"";if(null!=n.participantType){null==t.find(function(e){return e.participantType===r.specificPerson?e.participantType===n.participantType&&e.employeeId===i:e.participantType===n.participantType})&&t.push({participantType:n.participantType,employeeId:i})}}}),t}function s(){angular.isArray(f._permissions)||(f._permissions=[]);for(var t=f._permissions.length-1;t>=0;t--)!function(e){var t=f._permissions[e];null==v.find(function(e){return t.participantType===r.specificPerson?t.participantType===e.participantType&&t.employeeId===e.employeeId:t.participantType===e.participantType})&&f._permissions.splice(e,1)}(t);v.forEach(function(e){var t=f._permissions.find(function(t){return e.participantType===r.specificPerson?t.participantType===e.participantType&&t.employeeId===e.employeeId:t.participantType===e.participantType});if(null!=t)return void l(t);var n=m._permissions.find(function(t){return e.participantType===r.specificPerson?t.participantType===e.participantType&&t.employeeId===e.employeeId:t.participantType===e.participantType});null==n?(t=angular.extend({},p),t.participantType=e.participantType,t.participantType===r.specificPerson&&(t.employeeId=e.employeeId)):t=angular.extend({},n),l(t),f._permissions=[].concat(i(f._permissions),[t]),a()}),c.forEach(function(e){return e()});for(var t=0;t<f._permissions.length;t++)c.push(e.$watchCollection("field._permissions["+t+"]",function(e,t){e!==t&&a()}))}function a(){d.forEach(function(e,t){0!==t&&(e._permissions=f._permissions.map(function(e){return angular.extend({},e)}))})}function l(e){null==e.participantType?e.display="None added (above)":e.participantType===r.primaryRecipientChosenWhenSent?e.display="Employee":e.participantType===r.specificPerson?(e.display=r.byValue(e.participantType),e.emp?e.display=e.emp.fullName:e.employeeId.length&&t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get({id:e.employeeId,fields:"firstname,lastname"});case 2:e.emp=t.sent,e.display=e.emp.fullName;case 4:case"end":return t.stop()}},t,this)}))()):e.display=r.byValue(e.participantType)}if(null!=e.fields&&e.fields.length){var c=[],p={participantType:null,employeeId:"",canEdit:!1,canView:!0},u=e.form,d=e.fields,m=e.step=function(e,t){return null!=t._step?t._step:e._steps.find(function(e){return!!angular.isArray(e.fieldGroups)&&null!=e.fieldGroups.find(function(e){return e.indexOf(t)>=0})})}(u,d[0]),f=e.field=d[0],v=(e.vm={field:f},o(u._steps));s(),e.$watchGroup(["step._stepParticipant.participantType","step._stepParticipant.employeeIds.length"],function(e,t){e!==t&&(v=o(u._steps),s())});e.go={}}}]}]),t}(l.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesFieldPermissions",function(){return new p(c,"properties-field-permissions")})},{"base-component":30}],20:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("base-component"),c={step:"=",form:"="},p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory","ssEnum","ssAsync","ssEmployeeApi","ssEventSvc","ssFeatureSvc",function(e,t,n,r,o,s,a,l){function c(e,t,n){var r=m._stepEvents[t].eventActions;if(e){var o={eventAction:n};return m._stepEvents[t].eventActions=[].concat(i(r),[o]),m._stepEvents=m._stepEvents.slice(),o}m._stepEvents[t].eventActions=r.filter(function(e){return e.eventAction!==n}),m._stepEvents=m._stepEvents.slice()}function p(t,n){if(null!=m._stepEvents[0])for(var i=void 0,r=m._stepEvents[0].eventActions,o=0;o<r.length;o++)if(i=r[o],i.eventAction===d.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),i.employeeIds=e.actions[n].map(function(e){return e.id})),m._stepEvents=m._stepEvents.slice();break}}function u(t){null==t||t.length<1||o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var d=e.vm={personnel:t,medical:n,stepAction:r.stepAction,stepEventAction:r.stepEventAction,stepEventType:r.stepEventType,stepParticipantType:r.stepParticipantType,webFormCategory:0,webFormSubCategory:t.otherDocuments,addToEmpRecord:!1,emailNotifications:l.feature.featureFormEmailNotifications},m=e.step,f=e.form,v=e.actions={};!function(){v.emailIds=[],null!=m._stepEvents&&(m._stepEvents[0].eventActions.forEach(function(e){e.eventAction===d.stepEventAction.emailFormSender?v.emailFormSender=!0:e.eventAction===d.stepEventAction.emailSupervisor?v.emailSupervisor=!0:e.eventAction===d.stepEventAction.emailOthers?(v.emailOthers=!0,u(e.employeeIds)):e.eventAction===d.stepEventAction.emailEmployee?v.emailEmployee=!0:m.last&&e.eventAction===d.stepEventAction.addToEmployeeRecord&&(v.addToEmpRecord=!0)}),m._stepEvents[0].eventType=d.stepEventType.onComplete,d.addToEmpRecord=f._employeeRecord.addToEmployeeRecord,d.webFormSubCategory=f._employeeRecord.category+"-"+f._employeeRecord.subCategory,!1===f._employeeRecord.addToEmployeeRecord&&(d.webFormSubCategory=null))}();e.go={};e.$watch("vm.webFormSubCategory",function(e,t){if(e!==t){var n=e.split("-")[0],i=e.split("-")[1];f._employeeRecord.addToEmployeeRecord=!0,f._employeeRecord.category=n,f._employeeRecord.subCategory=i}}),e.$watch("actions.emailEmployee",function(e,t){e!==t&&c(e,0,d.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&c(e,0,d.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&c(e,0,d.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=c(e,0,d.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(f._employeeRecord.addToEmployeeRecord=e)}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&p(0,"emailIds")}),e.$watch("step._stepAction",function(e,t){e!==t&&(m._stepEvents=[{eventType:d.stepEventType.onComplete,eventActions:[]}],v.emailOtherIds=[],m.last&&(v.addToEmpRecord=!0))})}]}]),t}(l.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesFormComplete",function(){return new p(c,"properties-form-complete")})},{"base-component":30}],21:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={form:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesFormInstructions",function(){return new c(l,"properties-form-instructions")})},{"base-component":30}],22:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=e("base-component"),u={form:"=",step:"="},d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","formHlp","ssToastHlp",function(e,t,n,r,o,s,c,p){function u(e,t,n){var r=g._stepEvents[t].eventActions;if(e){var o={eventAction:n};return g._stepEvents[t].eventActions=[].concat(i(r),[o]),g._stepEvents=g._stepEvents.slice(),o}g._stepEvents[t].eventActions=r.filter(function(e){return e.eventAction!==n}),g._stepEvents=g._stepEvents.slice()}function d(t,n){if(null!=g._stepEvents[0])for(var i=void 0,r=g._stepEvents[0].eventActions,o=0;o<r.length;o++)if(i=r[o],i.eventAction===b.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),i.employeeIds=e.actions[n].map(function(e){return e.id})),g._stepEvents=g._stepEvents.slice();break}}function m(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,b.specificParticipant.push(n),v=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}function f(t){null==t||t.length<1||n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var v,g=e.step,y=e.form,b=e.vm={specificParticipant:[],stepAction:t.stepAction,stepEventAction:t.stepEventAction,stepEventType:t.stepEventType,stepParticipantType:t.stepParticipantType,stepParticipant:t.stepParticipantType.getEnums().filter(function(e){return y._isEmployeeInitiated?0!==e.value&&3!==e.value:0!==e.value}),validator:{required:s.required()}},h=e.actions={};!function(){h.emailIds=[],null!=g._stepEvents&&(g._stepEvents[0].eventActions.forEach(function(e){e.eventAction===b.stepEventAction.emailFormSender?h.emailFormSender=!0:e.eventAction===b.stepEventAction.emailSupervisor?h.emailSupervisor=!0:e.eventAction===b.stepEventAction.emailOthers?(h.emailOthers=!0,f(e.employeeIds)):e.eventAction===b.stepEventAction.emailEmployee&&(h.emailEmployee=!0)}),g._stepEvents[0].eventType=b.stepEventType.onEmployeeProfileReview)}();e.go={selectParticipant:function(e){b.buttonLabel=e.name,g._stepParticipant.participantType=e.value,g._stepParticipant.employeeIds=b.specificParticipant=[]}};e.$watch("actions.emailEmployee",function(e,t){e!==t&&u(e,0,b.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&u(e,0,b.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&u(e,0,b.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=u(e,0,b.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&d(0,"emailIds")}),e.$watchGroup(["form._steps.length","step._stepParticipant.participantType","step._stepParticipant.employeeIds"],function(n,i){var r=l(i,2),o=r[0],s=r[1];if(e.step._stepParticipant.participantType!==t.stepParticipantType.specificPerson||e.step._stepParticipant.employeeIds.length){var a=c.buildParticipantList(e.form._steps);c.updatePermissions({allSteps:e.form._steps,currentStep:e.step,participants:a,oldParticipantType:null!=o?o:null,oldEmployeeIds:s?s[0]:null})}}),function(){null==g._stepParticipant.participantType?b.buttonLabel="Please Select":b.buttonLabel=t.stepParticipantType.byValue(g._stepParticipant.participantType),g._stepParticipant.employeeIds.length&&m(g._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){return e.length?v&&e[0].id===v?void(v=null):(o.resetValidation(a),g._stepParticipant.employeeIds=b.specificParticipant.map(function(e){return e.id}),g._permissions[0].employeeId=g._stepParticipant.employeeIds[0],g._permissions[0].participantType=g._stepParticipant.participantType,void(g._permissions=g._permissions.slice())):(g._permissions[0].employeeId="",g._permissions[0].participantType=g._stepParticipant.participantType,void(g._permissions=g._permissions.slice()))}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){a=angular.element(document.getElementById("step-participant-search"))})}}]),t}(p.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesFormReview",function(){return new d(u,"properties-form-review")})},{"base-component":30}],23:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("base-component"),c={step:"="},p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi",function(e,t,n,r){function o(e,t,n){var r=c._stepEvents.find(function(e){return e.eventType===t.eventType}),o=r.eventActions;if(e){var s={eventAction:n};r.eventActions=[].concat(i(o),[s])}else r.eventActions=o.filter(function(e){return e.eventAction!==n});c._stepEvents=c._stepEvents.slice()}function s(e,n){var i=c._stepEvents.find(function(t){return t.eventType===e.eventType});if(i){var r=i.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});r&&(r.employeeIds=n.emails.map(function(e){return e.id}))}c._stepEvents=c._stepEvents.slice()}function a(){return[{title:"On Submit",eventType:t.stepEventType.onSubmit,eventActionEnum:t.stepAction.formEntry,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.recipientSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",eventType:t.stepEventType.onReview,eventActionEnum:t.stepAction.reviewForm,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.recipientSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Approve",eventType:t.stepEventType.onApprove,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.recipientSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Deny",eventType:t.stepEventType.onDeny,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Stop workflow, email Sender",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.recipientSSupervisor}},{title:"Stop workflow, email Others",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",eventType:t.stepEventType.onEmployeeProfileReview,eventActionEnum:t.stepAction.employeeProfileReview,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.recipientSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]}]}var l=e.vm={stepEvents:new a},c=(e.go={eventClicked:function(e,t){t.eventAction.forEach(function(n){o(t.checked,e,n)})}},e.step);c._stepEvents&&c._stepEvents.length&&c._stepEvents.forEach(function(e){var i=e.eventActions.map(function(e){return e.eventAction}),o=[];if(i.includes(t.stepEventAction.emailOthers)){var s=e.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});o=s.employeeIds}var a=l.stepEvents.find(function(t){return t.eventType===e.eventType});a&&a.eventActions.forEach(function(e){e.eventAction.every(function(e){return i.indexOf(e)>-1})&&(e.checked=!0),o.length&&e.eventAction.includes(1)&&n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.queryByIds({fields:"firstName,lastName"},{ids:o});case 2:e.emails=t.sent;case 3:case"end":return t.stop()}},t,this)}))()})}),l.stepEvents.forEach(function(t,n){t.eventActions.forEach(function(t,i){t.emails&&e.$watch("vm.stepEvents["+n+"].eventActions["+i+"].emails.length",function(e,t){if(e!==t){var r=n,o=i;s(l.stepEvents[r],l.stepEvents[r].eventActions[o])}})})}),e.$watch("step._stepAction",function(e,n){e!==n&&(e===t.stepAction.formEntry?c._stepEvents=[{eventType:t.stepEventType.onSubmit,eventActions:[]}]:e===t.stepAction.reviewApproveOrDeny?c._stepEvents=[{eventType:t.stepEventType.onApprove,eventActions:[]},{eventType:t.stepEventType.onDeny,eventActions:[]}]:e===t.stepAction.reviewForm?c._stepEvents=[{eventType:t.stepEventType.onReview,eventActions:[]}]:e===t.stepAction.formCompleted?c._stepEvents=[{eventType:t.stepEventType.onComplete,eventActions:[]}]:e===t.stepAction.employeeProfileReview&&(c._stepEvents=[{eventType:t.stepEventType.onEmployeeProfileReview,eventActions:[]}]),l.stepEvents=new a)})}]}]),t}(l.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesNotifications",function(){return new p(c,"properties-notifications")})},{"base-component":30}],24:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={item:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){var t=angular.isArray(e.item),n=t?e.item.slice(2):[],i=e.vm={visible:[{label:"Employee",model:!1},{label:"Employee's Supervisor",model:!1},{label:"Form Approver(s)",model:!1},{label:"Others",model:!1}],editable:[{label:"Employee",model:!1},{label:"Employee's Supervisor",model:!1},{label:"Form Approver(s)",model:!1},{label:"Others",model:!1}],hasWriteable:n.filter(function(e){return e._fieldType.indexOf("readOnly")<0}).length>0,hasReadOnly:n.filter(function(e){return 0===e._fieldType.indexOf("readOnly")}).length>0};i.showEdit=!t||i.hasWriteable}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesPermissions",function(){return new c(l,"properties-permissions")})},{"base-component":30}],25:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssEventSvc","rAF",function(e,t,n){var i=e.vm={activatableFields:e.fields.slice(2),hasSensitiveFields:e.fields.some(function(e){return e._sensitive}),canEdit:!0};e.go={switchFieldTypes:function(t){var n=t?"edit":"view";e.fields[0]._fieldType=t?"heading":"readOnlyHeading",i.activatableFields.forEach(function(e){e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit&&(e._fieldType=e._fieldTypeOptions[n])})}};i.canEdit=i.activatableFields.some(function(e){return e._fieldType&&!e._fieldType.includes("read")}),i.canToggleFieldtype=i.activatableFields.every(function(e){return e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesSmart",function(){return new c(l,"properties-smart")})},{"base-component":30}],26:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){
for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("base-component"),p={form:"=",step:"="},u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","enumStepParticipantType","ssModalSvc","ssEnum","formHlp",function(e,t,n,r,o,s,l){function c(){return!!e.step.fieldGroups.length&&e.step.fieldGroups.reduce(function(e,t){return[].concat(i(e),i(t))},e.step.fieldGroups[0]).some(function(e){return 1==e._sensitive})}function p(e){e.forEach(function(e){e._permissions.forEach(function(e){null==e.participantType?e.display="select participant":e.participantType===r.specificPerson?e.emp?e.display=e.emp.fullName:e.employeeId.length?t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.display="loading participant...",t.next=4,n.get({id:e.employeeId,fields:"firstname,lastname"},"",!1);case 4:e.emp=t.sent,e.display=e.emp.fullName,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))():e.display="select participant":e.display=r.byValue(e.participantType)})})}var u=e.form,d=[],m=void 0;e.formVm=e.$root.utils.findInParentScope("formVm",e);var f=e.vm={},v=e.go={matchParticipant:function(e,t){return l.matchParticipant(e,t)},adjustStepAccess:function(t,n){var i=l.matchParticipant(n,e.step);return"canView"!==t||n[t]?"canViewSensitive"!==t||n[t]?"canEdit"===t?void(n[t]?e.formVm.suppressEditAccessModal||i?n.canView=!0:v.showEditModal().then(function(){n[t]=n.canView=!0}).catch(function(e){n[t]=!1,n.canView=!!n.canView}):n.canEditSensitive=!1):void("canEditSensitive"===t&&(e.formVm.suppressEditAccessModal||i||n.canEdit?n.canEdit=n.canViewSensitive=!0:v.showEditModal().then(function(){n.canEdit=n.canViewSensitive=!0}).catch(function(e){n[t]=n.canEdit=!1,n.canViewSensitive=!!n.canViewSensitive}))):void(n.canEditSensitive=!1):(n.canEdit=!1,n.canViewSensitive=!1,void(n.canEditSensitive=!1))},showEditModal:function(){var t={title:"Edit Step Access",content:"This form participant will have the ability to modify this form step only after it has been submitted by the primary participant.",primaryText:"Ok",secondaryText:"cancel",showSuppress:!0};return o.showStandard(t).then(function(t){e.formVm.suppressEditAccessModal=t.suppressTheModal}).catch(function(t){throw e.formVm.suppressEditAccessModal=t.suppressTheModal,"cancel"})}};!function(){if(e.step._permissions&&e.step._permissions.length){d.forEach(function(e){return e()});for(var t=0;t<e.step._permissions.length;t++)d.push(e.$watchGroup(["step._permissions["+t+"].canView","step._permissions["+t+"].canEdit","step._permissions["+t+"].canViewSensitive","step._permissions["+t+"].canEditSensitive"],function(t,n){null!=t&&angular.equals(t,n)||(e.step._permissions=e.step._permissions.slice())}))}}(),e.$watchCollection("step.fieldGroups",function(e,t){f.hasSensitiveFields=c()}),e.$watch("formVm.saving",function(t,n){null==t||angular.equals(t,n)||!1===t&&!0===n&&(m=l.buildParticipantList(u._steps),l.updatePermissions({allSteps:u._steps,currentStep:e.step,participants:m}),p(u._steps))}),e.$watchGroup(["form._steps.length","step._stepParticipant.participantType","step._stepParticipant.employeeIds"],function(t,n){var i=a(n,2),o=i[0],s=i[1];e.step._stepParticipant.participantType===r.specificPerson&&!e.step._stepParticipant.employeeIds.length||(m=l.buildParticipantList(u._steps),l.updatePermissions({allSteps:u._steps,currentStep:e.step,participants:m,oldParticipantType:null!=o?o:null,oldEmployeeIds:s?s[0]:null}),p(u._steps))})}]}]),t}(c.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesStepPermissions",function(){return new u(p,"properties-step-permissions")})},{"base-component":30}],27:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","ssToastHlp",function(e,t,n,i,r,o,a){function l(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,u.specificParticipant.push(n),c=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}var c,p=e.step,u=e.vm={specificParticipant:[],stepActions:[],stepParticipant:t.stepParticipantType,validator:{required:o.required()}};u.stepActions=t.stepAction.getEnums().filter(function(e){return e.value!==t.stepAction.formCompleted&&e.value!==t.stepAction.employeeProfileReview});e.go={selectParticipant:function(e){u.buttonLabel=e.name,p._stepParticipant.participantType=e.value,p._stepParticipant.employeeIds=u.specificParticipant=[]}};!function(){null==p._stepParticipant.participantType?u.buttonLabel="Please Select":u.buttonLabel=t.stepParticipantType.byValue(p._stepParticipant.participantType),p._stepParticipant.employeeIds.length&&l(p._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){if(e.length){if(c&&e[0].id===c)return void(c=null);r.resetValidation(s),p._stepParticipant.employeeIds=u.specificParticipant.map(function(e){return e.id})}}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){s=angular.element(document.getElementById("step-participant-search"))})}}]),t}(l.Component);angular.module("ec-formbuilder-components").directive("cmpPropertiesStep",function(){return new p(c,"properties-step")})},{"base-component":30}],28:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={step:"=",stepIndex:"="},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssModalSvc","enumStepParticipantType","fieldsHlp",function(e,t,n,i,r,o){var s=e.$root.utils.findInParentScope("formVm",e),a=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),l=s.formData,c=(e.step,null),p=e.vm={stepParticipant:r,participantLabel:""};e.$watch("stepIndex",function(e,t){p.stepIndex=parseInt(e,10)}),e.$watch("step._stepParticipant",function(e,i){e&&(e.participantType===r.specificPerson?e.employeeIds&&e.employeeIds.length&&t(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get({id:e.employeeIds[0],fields:"firstName,lastName"});case 2:return i=t.sent,p.participantLabel=i._firstName+" "+i._lastName,t.abrupt("return");case 5:case"end":return t.stop()}},t,this)}))():e.participantType||0===e.participantType?p.participantLabel=p.stepParticipant.byValue(e.participantType):p.participantLabel="select participant")},!0);var u=e.go={dropFieldGroup:function(t,n,i,r,p){var u;if(s.modelChanged(),"fieldGroup"===r)return 0===p.fieldGroups.length&&(n=0),c={index:n,step:p},i;if(u=o.getFields(i.fields,i.component),i.allowMultiple){var d=new Date;u.map(function(e){return null!=e._fieldGroup&&(e._fieldGroup+="-"+d.getTime()),e})}else a.added[i.fields]=!0;return u.forEach(function(e){e.disabled=!0}),Array.prototype.splice.apply(l._formFields,[0,0].concat(u)),e.$emit("component-properties",i.component,u),a.vm.selectedFormObject=u,u},movedFieldGroup:function(e,t,n){c.step.fieldGroups[c.index]=t.filter(function(e){return!0}),n.fieldGroups.splice(e,1)},removeFieldGroup:function(e,t){var n=l._formFields;s.modelChanged(),e[0]._fieldGroup&&e[0]._fieldGroup.length&&(a.added[e[0]._fieldGroup]=!1),e.forEach(function(e){n.splice(n.indexOf(e),1)}),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1)},removeStep:function(t,n,r){t.stopPropagation();var o=void 0;if(o=r.indexOf(a.vm.selectedFormObject)>n?r.indexOf(a.vm.selectedFormObject)-1:n-1<0?0:n-1,null==e.step.fieldGroups||0===e.step.fieldGroups.length){var c=r.splice(n,1)[0];l._steps.splice(l._steps.indexOf(c),1),e.$emit("component-properties","step",r[o]),a.vm.selectedFormObject=r[o]}else{var p={title:"Remove Step",content:"Removing this step will also remove any fields that are assigned to it.",primaryText:"Remove Step",secondaryText:"Cancel"};i.showDestructive(p).then(function(){var t=r.splice(n,1)[0];if(null!=t.fieldGroups)for(var i=t.fieldGroups.length;i--;){var s=t.fieldGroups[i];u.removeFieldGroup(s,t)}l._steps.splice(l._steps.indexOf(t),1),e.$emit("component-properties","step",r[o]),a.vm.selectedFormObject=r[o]})}s.modelChanged()}}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpStepRenderer",function(){return new c(l,"step-renderer")})},{"base-component":30}],29:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-component"),l={label:"@"},c={transclude:!0},p=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope",function(e){e.vm={label:e.label,hasLabel:!!e.label},e.go={}}]}]),t}(a.Component);angular.module("ec-formbuilder-components").directive("cmpTwoColumnList",function(){return new p(l,"two-column-list",c)})},{"base-component":30}],30:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,r)}},{}],31:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){i(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],32:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){i(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],33:[function(e,t,n){"use strict";function i(e){e.load("employee-center")}i.$inject=["ssAppConfigSvc"],angular.module("ec-formbuilder").run(i)},{}],34:[function(e,t,n){"use strict";function i(e){e.html5Mode(!0)}i.$inject=["$locationProvider"],angular.module("ec-formbuilder").config(i)},{}],35:[function(e,t,n){"use strict";function i(e){var t=e._options;return null==t||t.length<2||(t.length===Array.from(new Set(t)).length||"This field cannot have duplicate options.")}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=e._options;return null==n||n.length<1||(!(n.filter(function(e){return e.length>t}).length>0)||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped.")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e.config.mappable||null==t||-1===t||(e._label.length<=t||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped.")}function s(){return u}var a=e("fl-ui-form-renderer"),l={_label:"",_active:!0,_configJson:'{"width": "100%"}',_externalData:"",_fieldGroup:null,_fieldType:"super-input-text",_fieldTypeOptions:{},_hideRequired:!1,_options:null,_required:!1,_sensitive:!1},c={legalName:[{_label:"Legal Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"First",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Middle",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Last",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],aliasName:[{_label:"Other Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"First",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName"}',_externalData:"Employee.AliasFirstName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Middle",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName"}',_externalData:"Employee.AliasMiddleName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Last",_configJson:'{"width":"33%", "readOnly":"_aliasLastName"}',_externalData:"Employee.AliasLastName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_label:"Address",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Address 1",_configJson:'{"width":"100%", "readOnly":"address._street1"}',_externalData:"Employee.Addresses.Primary.Street1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Address 2",_configJson:'{"width":"100%", "readOnly":"address._street2"}',_externalData:"Employee.Addresses.Primary.Street2",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"City",_configJson:'{"width":"100%", "readOnly":"address._city"}',_externalData:"Employee.Addresses.Primary.City",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state"}',_externalData:"Employee.Addresses.Primary.State",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip"}',_externalData:"Employee.Addresses.Primary.Zip",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],contact:[{_label:"Contact Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Work Phone",_configJson:'{"width":"50%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Ext.",_configJson:'{"width":"25%","readOnly":"phoneNumbers.workExt"}',_externalData:"Employee.PhoneNumbers.Work.Extension",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.personalIsPrimary"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_label:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_label:"Work Email",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Personal Email",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],personal:[{_label:"Personal",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Birth Date",_configJson:'{"width":"33%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_fieldType:"super-input-datepicker",_fieldTypeOptions:{edit:"super-input-datepicker",view:"readOnlyDate"},_sensitive:!0},{_label:"SSN",_configJson:'{"width":"33%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0},{_label:"External Id",_configJson:'{"width":"33%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],employment:[{_label:"Employment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_fieldType:"readOnlyDate"},{_label:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_fieldType:"readOnlyDate"},{_label:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_fieldType:"readOnlyDate"}],primaryAssignment:[{_label:"Primary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc"}',_fieldType:"readOnlyText"},{_label:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc"}',_fieldType:"readOnlyText"},{_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name"}',_fieldType:"readOnlyText"},{_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name"}',_fieldType:"readOnlyText"},{_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"primaryPosition.name"}',_fieldType:"readOnlyText"},{_label:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name"}',_fieldType:"readOnlyText"},{_label:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name"}',_fieldType:"readOnlyText"},{_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte"}',_fieldType:"readOnlyText"},{_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_fieldType:"readOnlyText"},{_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_fieldType:"readOnlyText"}],assignmentCompensation:[{_label:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name"}',_fieldType:"readOnlyText"},{_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name"}',_fieldType:"readOnlyText"},{_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name"}',_fieldType:"readOnlyText"},{_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_fieldType:"readOnlyText"},{_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency"}',_fieldType:"readOnlyText"},{_label:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency"}',_fieldType:"readOnlyText"}],assignmentBenefits:[{_label:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_fieldType:"readOnlyText"}],secondaryAssignment:[{_label:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_fieldType:"readOnlyText"},{_label:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_fieldType:"readOnlyText"},{_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_fieldType:"readOnlyText"},{_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_fieldType:"readOnlyText"},{_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"earliestOtherPosition.name"}',_fieldType:"readOnlyText"},{_label:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_fieldType:"readOnlyText"},{_label:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_fieldType:"readOnlyText"},{_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_fieldType:"readOnlyText"},{_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_fieldType:"readOnlyText"},{_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_fieldType:"readOnlyText"}],secondaryCompensation:[{_label:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_fieldType:"readOnlyText"},{_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_fieldType:"readOnlyText"},{_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_fieldType:"readOnlyText"},{_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_fieldType:"readOnlyText"},{_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_fieldType:"readOnlyText"},{_label:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_fieldType:"readOnlyText"}],secondaryBenefits:[{_label:"Secondary Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_fieldType:"readOnlyText"}],financial:[{_label:"Financial Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Primary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_label:"Banking Name",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Account Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_fieldType:"super-input-text"},{_label:"Secondary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_label:"Banking Name",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Account Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_fieldType:"super-input-text"}],emergency:[{_label:"Emergency Contacts",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName"}',
_externalData:"Employee.EmergencyContacts.Primary.ContactName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],input:[{_label:"",_configJson:'{"width": "50%"}',_fieldType:"super-input-text"}],dropdown:[{_label:"Dropdown",_configJson:'{"width":"50%"}',_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],selectGroup:[{_label:"Multiple Choice",_configJson:'{"width": "100%", "colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true}',_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],signature:[{_label:"Please Sign",_configJson:'{"width":"100%"}',_fieldType:"super-digital-signature"}],date:[{_label:"Date",_configJson:'{"width":"25%"}',_fieldType:"super-input-datepicker"}],fileUpload:[{_label:"Instructions for uploading files...",_configJson:'{"width":"100%"}',_documentCategory:0,_documentSubCategory:8,_fieldType:"super-file-upload"}],fileLink:[{_label:"Link",_configJson:'{"width":"100%", "isValid": false, "location": "", "name":"", "display": "Link will display here" }',_fieldType:"link"}],sectionHead:[{_label:"Section Heading",_configJson:'{"width":"100%"}',_fieldType:"heading"}],text:[{_configJson:'{"width":"100%"}',_fieldType:"text",_label:""}],range:[{_label:"Range",_fieldType:"super-select-text",from:0,to:100}]},p={"cmp-checkbox-group":function(e){return i(e)&&r(e)},"super-select-list":function(e){return i(e)&&r(e)},text:function(e){return o(e)}},u={getFields:function(e,t){return c[e]?c[e].map(function(n,i,r){var o=Object.assign({},l,n),s=JSON.parse(o._configJson);return r.length>1&&Object.assign(o,{_fieldGroup:e}),s.cmp=t,o._configJson=JSON.stringify(s),o}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},bindConfigObject:a.bindConfigObject,getValidator:function(e){return p[e]}};angular.module("ec-formbuilder-helpers").factory("fieldsHlp",s)},{"fl-ui-form-renderer":1}],36:[function(e,t,n){"use strict";function i(e){var t={participantType:null,employeeId:"",canEdit:!1,canView:!0,canViewSensitive:!1,canEditSensitive:!1};return{sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),i={},r=e.length;r--;){var o=e.pop();i[o.id]=o}n.forEach(function(t){t in i&&(e.push(i[t]),delete i[t])}),Object.keys(i).forEach(function(t){null!=i[t]&&e.push(i[t])})}},buildParticipantList:function(t){var n=this,i=[];return t.forEach(function(t){if(t._stepAction!==e.stepAction.formCompleted&&null!=t._stepParticipant.participantType){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"";i.find(function(e){return n.matchParticipant(e,t)})||i.push({participantType:t._stepParticipant.participantType,employeeId:r})}}),i},matchParticipant:function(t,n){var i=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,r=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===i:t.participantType===r},removePermissions:function(e,t){var n=this,i=[];if(e._permissions.length)for(var r=0;r<=e._permissions.length-1;r++)!function(r){var o=e._permissions[r],s=t.find(function(e){return n.matchParticipant(e,o)});s&&void 0!==s||(i=e._permissions.splice(r,1))}(r);return i},assignStepAccess:function(e,t){var n=this,i=["canEdit","canViewSensitive","canEditSensitive"];return Object.keys(e).forEach(function(r){i.includes(r)&&(e[r]=n.matchParticipant(e,t))}),e},copyStepAccess:function(e,t){return Object.assign(e,{canView:t.canView,canEdit:t.canEdit,canViewSensitive:t.canViewSensitive,canEditSensitive:t.canEditSensitive})},updatePermissions:function(n){var i=this,r=n.allSteps,o=void 0===r?null:r,s=n.currentStep,a=void 0===s?null:s,l=n.participants,c=void 0===l?null:l,p=n.oldParticipantType,u=void 0===p?null:p,d=n.oldEmployeeId,m=void 0===d?null:d;o.forEach(function(n){if(!n.last){var r=i.removePermissions(n,c);c.forEach(function(o){var s=n._permissions.find(function(e){return i.matchParticipant(o,e)});if(s){if(a===n){if(r.length&&i.matchParticipant(s,a))return void(s=i.copyStepAccess(s,r[0]));if(null==n._stepParticipant.participantType&&i.matchParticipant(s,a))return void(s=i.assignStepAccess(s,a));if(u===s.participantType){var l=a._permissions.find(function(t){return u===e.stepParticipantType.specificPerson?t.employeeId===m:t.participantType===u});l&&(l=i.assignStepAccess(l,a))}}}else{var p=Object.assign({},t);if(n._stepAction===e.stepAction.employeeProfileReview&&(p.canView=!1),p.participantType=o.participantType,p.employeeId=o.employeeId,r.length)return p=i.copyStepAccess(p,r[0]),void n._permissions.splice(c.indexOf(o),0,p);p=i.assignStepAccess(p,n),n._permissions.splice(c.indexOf(o),0,p)}})}})}}}i.$inject=["ssEnum"],angular.module("ec-formbuilder-helpers").factory("formHlp",i)},{}],37:[function(e,t,n){"use strict";function i(e,t){function n(n,i){var r,o;if(o=null==n._statusId?t.byValue(0):t.byValue(n._statusId),r=o.toLowerCase(),n._statusHistory)for(var s=0;s<n._statusHistory.length;s++){var a=e.utcIsoToRelativeMoment(n._statusHistory[s]._from,i),l=n._statusHistory[s]._statusId,c=e.utcIsoToRelativeMoment(moment().utc().toISOString(),i);if(c<a&&"Inactive"===o&&l===t.active){var p=a.format("L");o="Inactive until "+p}}return{status:r,statusLabel:o}}return{getLabel:n}}i.$inject=["ssDateByOrgHlp","enumFormTemplateStatus"],angular.module("ec-formbuilder-helpers").factory("statusLabelHlp",i)},{}],38:[function(e,t,n){"use strict";e("./components/cmp-attachments/attachments.js"),e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-dnd-options/dnd-options.js"),e("./components/cmp-field-group-renderer/field-group-renderer.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-properties-custom-common/properties-custom-common.js"),e("./components/cmp-properties-custom-date/properties-custom-date.js"),e("./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js"),e("./components/cmp-properties-custom-filelink/properties-custom-filelink.js"),e("./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js"),e("./components/cmp-properties-custom-input/properties-custom-input.js"),e("./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js"),e("./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js"),e("./components/cmp-properties-custom-signature/properties-custom-signature.js"),e("./components/cmp-properties-custom-text/properties-custom-text.js"),e("./components/cmp-properties-emp-record/properties-emp-record.js"),e("./components/cmp-properties-field-permissions/properties-field-permissions.js"),e("./components/cmp-properties-form-complete/properties-form-complete.js"),e("./components/cmp-properties-form-instructions/properties-form-instructions.js"),e("./components/cmp-properties-form-review/properties-form-review.js"),e("./components/cmp-properties-notifications/properties-notifications.js"),e("./components/cmp-properties-permissions/properties-permissions.js"),e("./components/cmp-properties-smart/properties-smart.js"),e("./components/cmp-properties-step-permissions/properties-step-permissions.js"),e("./components/cmp-properties-step/properties-step.js"),e("./components/cmp-step-renderer/step-renderer.js"),e("./components/cmp-two-column-list/two-column-list.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formHlp/form.js"),e("./helpers/statusLabelHlp/status-label.js"),e("./routes/form/builder/builder.state.js"),e("./routes/form/builder/segment-builder/builder.js"),e("./routes/form/builder/segment-builder/builder.logic.js"),e("./routes/form/builder/segment-fields/fields.js"),e("./routes/form/builder/segment-fields/fields.logic.js"),e("./routes/form/builder/segment-properties/properties.js"),e("./routes/form/builder/segment-properties/properties.logic.js"),e("./routes/form/form.state.js"),e("./routes/form/preview/preview.state.js"),e("./routes/form/preview/segment-attachments/attachments.js"),e("./routes/form/preview/segment-attachments/attachments.logic.js"),e("./routes/form/preview/segment-builder/builder.js"),e("./routes/form/preview/segment-builder/builder.logic.js"),e("./routes/form/preview/segment-form-name/form-name.js"),e("./routes/form/preview/segment-form-name/form-name.logic.js"),e("./routes/form/preview/segment-header/header.js"),e("./routes/form/preview/segment-header/header.logic.js"),e("./routes/form/preview/segment-steps/steps.js"),e("./routes/form/preview/segment-steps/steps.logic.js"),e("./routes/form/segment-content/content.js"),e("./routes/form/segment-content/content.logic.js"),e("./routes/form/segment-header/header.js"),e("./routes/form/segment-header/header.logic.js"),e("./routes/form/settings/segment-settings/settings.js"),e("./routes/form/settings/segment-settings/settings.logic.js"),e("./routes/form/settings/settings.state.js"),e("./routes/packet/builder/builder.state.js"),e("./routes/packet/builder/segment-builder/builder.js"),e("./routes/packet/builder/segment-builder/builder.logic.js"),e("./routes/packet/packet.state.js"),e("./routes/packet/segment-content/content.js"),e("./routes/packet/segment-content/content.logic.js"),e("./routes/packet/segment-header/header.js"),e("./routes/packet/segment-header/header.logic.js"),e("./routes/packet/settings/segment-settings/settings.js"),e("./routes/packet/settings/segment-settings/settings.logic.js"),e("./routes/packet/settings/settings.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-attachments/attachments.js":3,"./components/cmp-checkbox-group/checkbox-group.js":4,"./components/cmp-dnd-options/dnd-options.js":5,"./components/cmp-field-group-renderer/field-group-renderer.js":6,"./components/cmp-field-renderer/field-renderer.js":7,"./components/cmp-properties-custom-common/properties-custom-common.js":8,"./components/cmp-properties-custom-date/properties-custom-date.js":9,"./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js":10,"./components/cmp-properties-custom-filelink/properties-custom-filelink.js":11,"./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js":12,"./components/cmp-properties-custom-input/properties-custom-input.js":13,"./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js":14,"./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js":15,"./components/cmp-properties-custom-signature/properties-custom-signature.js":16,"./components/cmp-properties-custom-text/properties-custom-text.js":17,"./components/cmp-properties-emp-record/properties-emp-record.js":18,"./components/cmp-properties-field-permissions/properties-field-permissions.js":19,"./components/cmp-properties-form-complete/properties-form-complete.js":20,"./components/cmp-properties-form-instructions/properties-form-instructions.js":21,"./components/cmp-properties-form-review/properties-form-review.js":22,"./components/cmp-properties-notifications/properties-notifications.js":23,"./components/cmp-properties-permissions/properties-permissions.js":24,"./components/cmp-properties-smart/properties-smart.js":25,"./components/cmp-properties-step-permissions/properties-step-permissions.js":26,"./components/cmp-properties-step/properties-step.js":27,"./components/cmp-step-renderer/step-renderer.js":28,"./components/cmp-two-column-list/two-column-list.js":29,"./config/load-config.js":33,"./config/router.js":34,"./helpers/fieldsHlp/fields.js":35,"./helpers/formHlp/form.js":36,"./helpers/statusLabelHlp/status-label.js":37,"./routes/form/builder/builder.state.js":41,"./routes/form/builder/segment-builder/builder.js":42,"./routes/form/builder/segment-builder/builder.logic.js":43,"./routes/form/builder/segment-fields/fields.js":44,"./routes/form/builder/segment-fields/fields.logic.js":45,"./routes/form/builder/segment-properties/properties.js":46,"./routes/form/builder/segment-properties/properties.logic.js":47,"./routes/form/form.state.js":48,"./routes/form/preview/preview.state.js":49,"./routes/form/preview/segment-attachments/attachments.js":50,"./routes/form/preview/segment-attachments/attachments.logic.js":51,"./routes/form/preview/segment-builder/builder.js":52,"./routes/form/preview/segment-builder/builder.logic.js":53,"./routes/form/preview/segment-form-name/form-name.js":54,"./routes/form/preview/segment-form-name/form-name.logic.js":55,"./routes/form/preview/segment-header/header.js":56,"./routes/form/preview/segment-header/header.logic.js":57,"./routes/form/preview/segment-steps/steps.js":58,"./routes/form/preview/segment-steps/steps.logic.js":59,"./routes/form/segment-content/content.js":60,"./routes/form/segment-content/content.logic.js":61,"./routes/form/segment-header/header.js":62,"./routes/form/segment-header/header.logic.js":63,"./routes/form/settings/segment-settings/settings.js":64,"./routes/form/settings/segment-settings/settings.logic.js":65,"./routes/form/settings/settings.state.js":66,"./routes/packet/builder/builder.state.js":67,"./routes/packet/builder/segment-builder/builder.js":68,"./routes/packet/builder/segment-builder/builder.logic.js":69,"./routes/packet/packet.state.js":70,"./routes/packet/segment-content/content.js":71,"./routes/packet/segment-content/content.logic.js":72,"./routes/packet/segment-header/header.js":73,"./routes/packet/segment-header/header.logic.js":74,"./routes/packet/settings/segment-settings/settings.js":75,"./routes/packet/settings/segment-settings/settings.logic.js":76,"./routes/packet/settings/settings.state.js":77}],39:[function(e,t,n){"use strict";angular.module("ec-formbuilder",["super-suit","ec-formbuilder-segments","ec-formbuilder-segment-logic","ec-formbuilder-templates","dndLists","ec-formbuilder-helpers","ec-formbuilder-components","ec-formbuilder-decorators","ec-formbuilder-filters","ec-formbuilder-services"]),angular.module("ec-formbuilder-segments",[]),angular.module("ec-formbuilder-segment-logic",[]),angular.module("ec-formbuilder-helpers",[]),angular.module("ec-formbuilder-components",[]),angular.module("ec-formbuilder-decorators",[]),angular.module("ec-formbuilder-filters",[]),angular.module("ec-formbuilder-services",[])},{}],40:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/form.html",'<route folder="/form"> <form id="form-controls" class="route-wrapper form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <segment name="header"></segment> <div ss-pending="routeVm.loading || routeVm.saving" ss-pending-status="routeVm.loadingMsg"> <segment name="content"></segment> </div> </form> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/packet.html",'<route folder="/packet"> <form id="form-controls" class="form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </form> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-attachments/attachments.html",'<div class="cmp-attachments"> <div class="fb-step"> <div class="fb-step-header secondary"> <h4 class="fb-step-title">Attachments</h4> </div> <ul class="fb-fields"> <li class="fb-fields-empty instructions"> Include files and attachments with this template. Attachments will be accessible to all workflow participants. (Max file size = 50 MB) </li> <li> <div class="wrapper"> <button class="add-attachment super-button std upload" value="">Add Attachment</button> <input type="file" nv-file-select name="fileUpload" uploader="uploader"> </div> </li> <li ng-repeat="attachment in vm.files track by attachment.id" class="form-attachment"> <i class="fa-file-pdf-o" ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment.filename" ng-click="go.download(attachment._fileId)" title="Open {{attachment.filename}}" target="_blank"></a> <i class="success" ss-icon="check" aria-label="Upload successful" title="Upload successful"></i> <i class="fa-trash-o" ss-icon="{{ vm.trashIcon }}"></i> <a class="trash" ng-click="go.delete(attachment)" aria-label="Delete {{ attachment.filename }}" title="Delete {{attachment.filename}}">Delete File</a> </li> <li ss-pending="vm.processing"></li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-group-renderer/field-group-renderer.html",'<div class="cmp-field-group-renderer" ng-class="{\'is-selected\': routeVm.vm.selectedFormObject === group}" ng-click="go.fieldGroupSettings($event, group)"> <div class="fb-actions fb-field-actions"> <i class="drag-handle" ss-icon="navicon"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-click="go.removeFieldGroup(group, step)"></button> </div> <cmp-field-renderer ng-repeat="field in group" field="field" group="group"></cmp-field-renderer> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-dnd-options/dnd-options.html",'<div class="cmp-dnd-options"> <label>Options</label> <ul class="option-list" ng-class="{\'overflow\': vm.options.length > 5}" dnd-list="vm.options" dnd-allowed-types="[\'optionType\']" dnd-drop="go.dropOption(event, index, item)" ss-validate="go.validate(field)"> <li class="option-list-item" ng-repeat="option in vm.options track by $index"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="option" dnd-moved="go.moveOption($index, option)" dnd-type="\'optionType\'"></span> <super-input-text model="option.value"></super-input-text> <button type="button" ng-if="vm.options.length > 1" class="option-remove" ss-icon="minus-circle" ng-click="go.removeOption($index)"></button> </li> </ul> <super-button std label="Add New Option" ss-icon="plus" ng-click="go.addOption()"></super-button> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer" ng-show="vm.visibility" ng-style="vm.style" ss-validate="go.validate(field)"><div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-date/properties-custom-date.html",'<div class="cmp-properties-custom-date"> <h4 class="title-properties">Date Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-common/properties-custom-common.html",'<div class="cmp-properties-custom-common"> <div class="gd-row" ng-if="vm.showLabel"> <super-input-text label="Label" model="vm.field._label" placeholder="Enter label text..."></super-input-text> </div> <div class="gd-row" ng-if="vm.showRequired"> <super-input-checkbox label="This is a required field" model="vm.field._required"></super-input-checkbox> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-dropdown/properties-custom-dropdown.html",'<div class="cmp-properties-custom-dropdown"> <h4 class="title-properties">Dropdown Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-fileupload/properties-custom-fileupload.html",'<div class="cmp-properties-custom-fileupload"> <h4 class="title-properties">File Upload Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <super-input-textarea label="Instructions" model="vm.field._label" initial-height="90"></super-input-textarea> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-filelink/properties-custom-filelink.html",'<div class="cmp-properties-custom-filelink"> <h4 class="title-properties">Link Properties</h4> <div class="gd-row"><super-input-text label="Insert a Link" model="field.config.location" ss-validate="validator.requiredUrl(field.config.location)">www.link.com</super-input-text></div> <div class="gd-row"><super-input-text label="Link Name (optional)" model="field.config.name"></super-input-text></div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-input/properties-custom-input.html",'<div class="cmp-properties-custom-input"> <h4 class="title-properties">Input Text Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Height" model="vm.field._fieldType"> <super-select-list-item ng-repeat="option in vm.heights" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <div ng-show="vm.field._fieldType === \'super-input-textarea\'">Multi-line text cannot be added to a PDF overlay.</div> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div>')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-selectbox/properties-custom-selectbox.html",'<div class="cmp-properties-custom-selectbox"> <h4 class="title-properties">Select Box Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-input-checkbox label="Allow user to select multiple choices" model="vm.field.config.multiple"></super-input-checkbox> </div> <div class="gd-row"> <super-select-list label="Columns" model="vm.field.config.colwidth"> <super-select-list-item ng-repeat="option in vm.cols" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.html",'<div class="cmp-properties-custom-sectionhead"> <h4 class="title-properties">Section Head Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields" show-required="false" show-instructions="false"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-text/properties-custom-text.html",'<div class="cmp-properties-custom-text"> <h4 class="title-properties">Text Properties</h4> <super-input-textarea placeholder="Enter text..." model="vm.field._label" ss-validate="go.validate(vm.field)"></super-input-textarea> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <super-input-checkbox label="Map Text in Overlay Builder" model="vm.field.config.mappable"></super-input-checkbox> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-signature/properties-custom-signature.html",'<div class="cmp-properties-custom-signature"> <h4 class="title-properties">Signature Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-emp-record/properties-emp-record.html",'<div class="cmp-properties-emp-record"> <button type="button" class="smp" ss-toggle="emp-record-content" ss-toggle-start-expanded="{{vm.commit}}">Employee Profile</button> <div class="emp-record-content"> <super-input-checkbox is-disabled="!vm.hasExternalData || !canEdit" model="vm.commit" label="Commit submitted data to Employee\'s profile."></super-input-checkbox> <super-popover>If enabled, this will overwrite any existing data in the Employee\'s profile. This control will be disabled for fields that do not have corresponding fields in the employee record.</super-popover> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-form-review/properties-form-review.html",'<div class="cmp-properties-form-review"> <h4 class="title-properties">Review Profile Updates</h4> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Main Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipantType.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <div class="main-label"> <label>Action Performed</label> </div> <p>Review Employee Profile Updates</p> </div> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-properties-form-complete/properties-form-complete.html",'<div class="cmp-properties-form-complete"> <h4 class="title-properties">{{step._name}} - Properties</h4> <div class="gd-row"> <super-input-checkbox label="Add completed form to recipient\'s Employee Profile (will appear in Personnel File)" model="vm.addToEmpRecord"></super-input-checkbox> </div> <div class="gd-row" ng-if="vm.addToEmpRecord"> <super-select-list model="vm.webFormSubCategory"> <li class="select-category"><h5>Personnel Documents</h5></li> <super-select-list-item ng-repeat="item in vm.personnel.enums" value="\'0-\' + item.value" label="item.name"></super-select-list-item> <li class="seperator"></li> <li class="select-category"><h5>Medical Documents</h5></li> <super-select-list-item ng-repeat="item in vm.medical.enums" value="\'1-\' + item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row" ng-if="vm.emailNotifications"> <h5><em>On Complete</em></h5> <ul class="actions"> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee" model="actions.emailEmployee"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Form Sender" model="actions.emailFormSender"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee\'s Supervisor" model="actions.emailSupervisor"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Others" model="actions.emailOthers"></super-input-checkbox></li> </ul> <super-employee-search model="actions.emailIds" ng-if="actions.emailOthers" use-pill="true" placeholder="Search by name"></super-employee-search> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-form-instructions/properties-form-instructions.html",'<div class="cmp-properties-form-instructions"> <h4 class="title-properties">Form Instructions</h4> <super-input-text label="Instructions" model="form._instructions"></super-input-text> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-field-permissions/properties-field-permissions.html",'<div class="cmp-properties-field-permissions"> <button class="smp" ss-toggle="permissions-content">Field Permissions</button> <div class="permissions-content"> <table> <thead> <tr> <th class="name">Participant</th> <th class="can">Can</th> <th class="edit">Edit</th> <th class="view">View</th> </tr> </thead> <tbody> <tr ng-repeat="p in field._permissions"> <td class="name" ng-bind="p.display"></td> <td class="can">&nbsp;</td> <td class="edit"><super-input-checkbox model="p.canEdit" ng-click="p.canView=true;"></super-input-checkbox></td> <td class="view"><super-input-checkbox model="p.canView" is-disabled="p.canEdit"></super-input-checkbox></td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-notifications/properties-notifications.html",'<div class="cmp-properties-notifications"> <div class="section"> <button type="button" class="smp" ss-toggle-start-expanded="true" ng-disabled="step._stepAction == null" ss-toggle="step-action-content">Step Actions</button> <div class="step-action-content"> <div ng-repeat="event in vm.stepEvents"> <div ng-show="step._stepAction === event.eventActionEnum"> <h5><em ng-bind="event.title"></em></h5> <ul class="submit-fld-ctrl-list"> <li ng-repeat="action in event.eventActions" class="fld-ctrl-item"> <super-input-checkbox label="{{:: action.title }}" model="action.checked" ng-click="go.eventClicked(event, action)" is-disabled="(action.isDisabled) ? false : action.isDisabled()"></super-input-checkbox> <div ng-show="action.checked && action.emails"> <super-employee-search model="action.emails" use-pill="true" placeholder="Search by name"> </super-employee-search> </div> </li> </ul> </div> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-smart/properties-smart.html",'<div class="cmp-properties-smart"> <h4 class="title-properties">{{fields[0]._label}} Properties</h4> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row"> <super-input-checkbox label="fields are editable" model="vm.canEdit" ng-click="go.switchFieldTypes(vm.canEdit)" is-disabled="!vm.canToggleFieldtype"></super-input-checkbox> </div> <div class="gd-row fields" data-qa="fields"> <table> <thead> <tr> <th width="65%">Display&nbsp;<em ng-if="vm.readOnlyHeading !== undefined">Read-only</em></th> <th class="required-control" width="35%">Required</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="2"><i class="fa-warning"></i><strong class="sensitive-field-label">Sensitive Fields</strong> <super-popover><p>If "view" access for any sensitive field is not enabled, that field will display as redacted</p></super-popover></td> </tr> </tfoot> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in vm.activatableFields"> <td class="fld-ctrl-active"> <super-input-checkbox label="{{f._label}}" model="f._active" ng-click="f._required = false"></super-input-checkbox> <i ng-if="f._sensitive" class="fa-warning"></i> </td> <td class="fld-ctrl-required"> <super-input-checkbox model="f._required" is-disabled="f._fieldType.startsWith(\'readOnly\') || !f._active"></super-input-checkbox> </td> </tr> </tbody> </table> </div> <cmp-properties-emp-record fields="fields" can-edit="vm.canEdit"></cmp-properties-emp-record> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-permissions/properties-permissions.html",'<div class="cmp-properties-permissions"> <button class="smp" ss-toggle="permissions-content">Permissions</button> <div class="permissions-content"> <div> <h5><em>Fields are visible to:</em></h5> <ul class="visible-fld-ctrl-list"> <li ng-repeat="role in vm.visible" class="fld-ctrl-item"> <super-input-checkbox label="{{role.label}}" model="role.model"></super-input-checkbox> </li> </ul> </div> <div ng-if="vm.showEdit"> <h5><em>Fields can be edited by:</em></h5> <ul class="editable-fld-ctrl-list"> <li ng-repeat="role in vm.editable" class="fld-ctrl-item"> <super-input-checkbox label="{{role.label}}" model="role.model"></super-input-checkbox> </li> </ul> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step-permissions/properties-step-permissions.html",'<div class="cmp-properties-step-permissions"> <button class="smp" type="button" ss-toggle="permissions-content-toggle" ss-toggle-start-expanded>Step Access</button> <div class="permissions-content-toggle"> <table> <thead> <tr> <th class="participant">Participant can...</th> <th class="edit">Edit</th> <th class="view">View</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <i class="fa-warning"></i><strong>Sensitive Fields</strong> <super-popover> <p>If "view" is not enabled, sensitive fields (i.e. SSN) will be redacted</p> </super-popover> </td> </tr> </tfoot> <tbody ng-repeat="p in step._permissions" ng-class="{\'selected\': go.matchParticipant(p, step)}" data-auto="{{p.display}}"> <tr class="permissions-content"> <td valign="middle" class="name" ng-bind="p.display"></td> <td valign="middle" class="edit"><super-input-checkbox model="p.canEdit" ng-click="go.adjustStepAccess(\'canEdit\', p)"></super-input-checkbox></td> <td valign="middle" class="view"><super-input-checkbox model="p.canView" ng-click="go.adjustStepAccess(\'canView\', p)" is-disabled="go.matchParticipant(p, step)"></super-input-checkbox></td> </tr> <tr ng-if="vm.hasSensitiveFields" class="sensitive-field-access"> <td valign="middle" class=""><i class="fa-warning"></i>Sensitive Fields</td> <td valign="middle" class="edit"><super-input-checkbox model="p.canEditSensitive" ng-click="go.adjustStepAccess(\'canEditSensitive\', p)" is-disabled="!p.canView"></super-input-checkbox></td> <td valign="middle" class="view"><super-input-checkbox model="p.canViewSensitive" ng-click="go.adjustStepAccess(\'canViewSensitive\', p)" is-disabled="!p.canView"></super-input-checkbox></td> </tr> </tbody> <tbody ng-if="!step._permissions || !step._permissions.length"> <tr> <td class="name">None added</td> <td class="edit"><super-input-checkbox is-disabled="true"></super-input-checkbox></td> <td class="view"><super-input-checkbox is-disabled="true"></super-input-checkbox></td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step/properties-step.html",'<div class="cmp-properties-step"> <h4 class="title-properties">Workflow Step {{step.index}} - Properties</h4> <div class="gd-row auto-step-name"> <super-input-text label="Name" model="step._name"></super-input-text> </div> <div class="gd-row auto-step-instructions"> <super-input-text label="Instructions" model="step._instructions"></super-input-text> </div> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant.getEnums()" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <p class="support-text" ng-if="step._stepParticipant.participantType === vm.stepParticipant.primaryRecipientChosenWhenSent">Employee is the "main actor" around which the form revolves</p> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipant.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <super-select-list label="Action Performed" model="step._stepAction"> <super-select-list-item ng-repeat="option in vm.stepActions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-properties-step-permissions step="step" form="form"></cmp-properties-step-permissions> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-renderer/step-renderer.html",'<article class="fb-step cmp-step-renderer" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': routeVm.vm.selectedFormObject === step}"> <header class="fb-step-header" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <h4 class="fb-step-title">Workflow Step {{vm.stepIndex + 1}} <span ng-if="step._name">-</span> {{step._name}}</h4> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="vm.participantLabel"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> <div class="fb-actions fb-step-actions"> <i class="drag-handle" ss-icon="navicon" role="presentation"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-if="routeVm.vm.steps.length > 1" ng-click="go.removeStep($event, vm.stepIndex, routeVm.vm.steps)"></button> </div> </header> <ul class="fb-field-groups" dnd-list="step.fieldGroups" dnd-drop="go.dropFieldGroup(event, index, item, type, step)" dnd-allowed-types="[\'fieldType\', \'fieldGroup\']"> <li class="fb-field-group fb-field-group-empty" ng-if="step.fieldGroups.length === 0"> <i>Drag a field from the left column to add to this workflow step.</i> </li> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" dnd-draggable="group" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-moved="go.movedFieldGroup($index, group, step)" dnd-type="\'fieldGroup\'" dnd-effect-allowed="move"> <cmp-field-group-renderer group="group" step="step"></cmp-field-group-renderer> </li> </ul> </article> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-two-column-list/two-column-list.html",'<div class="cmp-two-column-list gd-row"> <div class="gd-25p"> <h4><label class="label" ng-bind="vm.label"></label></h4> <h4><label class="label" ng-if="!vm.hasLabel">&nbsp;</label></h4> </div> <div class="gd-75p" ng-transclude></div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/builder/builder.html",'<route folder="/form/builder"> <div class="gd-row"> <div class="panel fields-panel"><segment name="fields"></segment></div> <div class="panel builder-panel"><segment name="builder"></segment></div> <div class="panel properties-panel"><segment name="properties"></segment></div> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/segment-content/content.html",'<section class="segment-form-content" aria-label="form builder section"> <nav id="content-nav" aria-controls="form-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Form Builder" state="base.form.formBuilder" params=""></super-tab-list-item> <super-tab-list-item label="Form Settings" state="base.form.formSettings" params=""></super-tab-list-item> <super-tab-list-item ng-if="vm.printViewBuilderEnabled" label="Overlay Builder" url="/ec-printviewbuilder/{{routeVm.formData.id}}" params="{\'isActive\': true}"></super-tab-list-item> </super-tab-list> </nav> <ui-view id="form-builder" aria-controlled-by="content-nav"></ui-view> </section> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/preview/preview.html",'<route folder="/form/preview" id="form-preview"> <segment name="header"></segment> <section class="gd-row full-screen-content"> <segment name="form-name"></segment> <section class="gd-60p content"><segment name="builder"></segment></section> <aside class="gd-40p sidebar" ss-window-anchor="form-preview"> <segment name="attachments"></segment> <segment name="steps"></segment> </aside> </section> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/segment-header/header.html",'<header class="segment-form-header"> <div class="gd-row form-title-actions-group" ss-window-anchor> <div class="gd-70p form-title-group" aria-label="form name section"> <fieldset> <div class="form-name gd-row"> <div class="icon"><i ss-icon-before="{{routeVm.formData._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="presentation"></i></div> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span class="locked-state" title="{{ vm.formTitle }}" ng-bind="vm.formTitle"></span> <span class="non-locked-stated" ng-if="!vm.editTitle" ng-bind="vm.formTitle"></span> <super-input-text id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'Form Name\')"> </super-input-text> </div> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> <div class="form-status" ng-bind="vm.formStatusLabel"></div> </div> </fieldset> </div> <div class="gd-30p form-control-actions" aria-label="form save amd activate section"> <fieldset class="gd-row"> <div class="form-save"> <strong ng-show="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> <div class="form-activate"> <super-button label="Activate" ss-icon-after="angle-down" ss-menu="activate-menu" ng-disabled="!vm.nothingToSave || routeVm.saving"></super-button> <div class="select-menu activate-menu"> <ul class="select-menu-list"> <li class="select-menu-list-item" ng-click="go.activateNow()"> <p>Activate Immediately</p><small>Will become sendable</small> </li> <li class="select-menu-list-item gd-row"> <div class="gd-55p" ng-click="go.activateOnDate()"> <p>Activate On</p><small>Set a future \'active\' date</small></div> <div class="gd-45p"> <super-input-datepicker model="vm.activationDate"></super-input-datepicker> </div> </li> </ul> </div> </div> <div class="form-preview"> <a href="" ng-click="go.preview()" ng-disabled="routeVm.saving">Preview</a> </div> </fieldset> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/settings/settings.html",'<route folder="/form/settings"> <segment name="settings"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/builder/builder.html",'<route folder="/packet/builder"> <segment name="builder"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/segment-content/content.html",'<section class="segment-packet-content" aria-label="packet builder section"> <ui-view id="packet-builder" aria-controlled-by="content-nav"></ui-view> </section> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/segment-header/header.html",'<header class="segment-packet-header"> <div class="gd-row form-title-actions-group"> <div class="gd-85p form-title-group" aria-label="packet name section"> <div class="icon"><i ss-icon-before="li-packet-large" role="presentation"></i></div> <div class="form-name"> <fieldset> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span ng-if="!vm.editTitle" class="title" ng-bind="vm.formTitle" title="{{vm.formTitle}}"></span> <super-input-text title="{{vm.formTitle}}" id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'packet name\')" required="true"></super-input-text> </div> </fieldset> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> <div class="form-status"><strong ng-bind="routeVm.packetData.statusLabel"></strong></div> </div> </div> <div class="gd-15p form-control-actions" aria-label="packet save amd activate section"> <fieldset> <div class="form-save"> <strong ng-if="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save Packet\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> </fieldset> </div> </div> <nav id="content-nav" aria-controls="packet-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Packet Builder" state="base.packet.packetBuilder"></super-tab-list-item> <super-tab-list-item label="Packet Settings" state="base.packet.packetSettings"></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/settings/settings.html",'<route folder="/packet/settings"> <segment name="settings"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/builder/segment-builder/builder.html",'<div class="segment-form-builder-builder"> <ol> <li class="fb-form-list-item"> <ol class="fb-step-list" ng-class="{\'fb-dragging-fields\': routeVm.draggingFields}" dnd-list="vm.steps" dnd-allowed-types="[\'stepType\']" dnd-drop="go.dropStep(event, index, item)"> <li class="fb-step-list-item" ng-click="go.stepSettings(step, $index)" ng-repeat="step in vm.steps" dnd-draggable="step" dnd-type="\'stepType\'" dnd-moved="go.movedStep($index, step)" dnd-effect-allowed="move"> <cmp-step-renderer step="step" step-index="$index"></cmp-step-renderer> </li> </ol> </li> <li class="fb-form-list-item"> <div class="fb-step-add"> <super-button ss-icon="plus-circle" smp class="" label="Add new workflow step" ng-click="go.addStep()"></super-button> </div> </li> <li class="fb-form-list-item fb-step-review" ng-click="go.reviewStep()" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-if="routeVm.commitToEmployeeRecord.length"> <div class="fb-step" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.reviewStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.reviewStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-review"> <i>A summary of potential employee profile updates will display here for final review when the form is sent.</i> </li> </ul> </div> </li> <li class="fb-form-list-item fb-step-final" ng-click="go.formComplete()" ng-mouseenter="vm.lastStep.hoverState = true" ng-mouseleave="vm.lastStep.hoverState = false"> <div class="fb-step" ng-class="{\'is-hover\': vm.lastStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.lastStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.lastStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-empty"> <i>Define what happens when the form\'s workflow is complete.</i> </li> </ul> </div> </li> <li class="fb-form-list-item"><cmp-attachments form="vm.form" label="Add Attachments"></cmp-attachments></li> </ol> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/builder/segment-fields/fields.html",'<div class="segment-form-builder-fields" ss-window-anchor window-anchor-top="140"> <ul class="form-builder-field-list sidebar"> <li class="form-builder-field-item"> <h4 ss-toggle="emp-fields" ss-toggle-start-expanded>Employee Record Tools<em>of who the form is about</em></h4> <ul class="emp-fields"> <li class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.employee" dnd-draggable="field" dnd-effect-allowed="copy" dnd-type="\'fieldType\'" dnd-disable-if="!field.allowMultiple && routeVm.added[field.fields]" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" ng-class="{disabled: !field.allowMultiple && routeVm.added[field.fields]}">{{field.label}}</li> </ul> </li> <li class="form-builder-field-item"> <h4 ss-toggle="custom-fields" ss-toggle-start-expanded>Custom Tools</h4> <ul class="custom-fields"> <li class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.custom" dnd-draggable="field" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-effect-allowed="copy" dnd-type="\'fieldType\'">{{field.label}}</li> </ul> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/builder/segment-properties/properties.html",'<div class="segment-form-builder-properties" ss-window-anchor window-anchor-top="120"> <div class="view-props sidebar"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/preview/segment-attachments/attachments.html",'<section class="segment-form-preview-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content"> <div class="pad-12" ss-pending="vm.isLoading"> <ul class="form-attachment-list"> <li class="list-item form-attachment-item" ng-if="vm.files.length && !vm.isLoading" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> <li class="list-item form-attachment-item" ng-if="!vm.files.length && !vm.isLoading">No attachments</li> </ul> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/preview/segment-builder/builder.html",'<div class="segment-form-preview-builder" ss-pending="vm.loading"> <ul class="fb-step-list"> <li class="fb-step-list-item" ng-repeat="step in vm.steps" ng-click="go.selectStep($index, step)" id="fb-step-{{$index}}" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <article class="fb-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}"> <header class="fb-step-header"> <h4 class="fb-step-title"> <span ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">Workflow Step {{$index + 1}}</span> <span ng-if="step._name && step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">&nbsp;-&nbsp;</span> <span ng-if="step._name">{{step._name}}</span> </h4> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="step.participantLabel"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> </div> </header> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <ul class="fb-field-groups"> <li class="fb-field-group" ng-repeat="group in step.fieldGroups"> <cmp-field-group-renderer group="group" step="step"></cmp-field-group-renderer> </li> </ul> <footer class="fb-step-footer"> <div class="fb-field-group fb-comments"> <super-input-textarea model="" label="Comments (visible to all participants)"></super-input-textarea> </div> <div ng-if="step._stepAction === vm.stepAction.formEntry" class="form-entry step-action"> <super-button pri label="Submit Form"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewForm" class="review-form step-action"> <super-button pri label="Form Has Been Reviewed"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewApproveOrDeny" class="approve-deny step-action"> <super-button pos label="Approve Form"></super-button> <super-button neg label="Deny Form"></super-button> </div> </footer> </div> </article> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/preview/segment-form-name/form-name.html",'<header class="segment-form-preview-form-name"> <h3 class="form-name" ss-icon="li-form-large" ng-bind="vm.form._name"></h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="meta-item status" ng-bind="vm.formStatusLabel"></li> <li class="meta-item version"><abbr title="version {{vm.form._templateVersion || 1}}">v{{vm.form._templateVersion || 1}}</abbr></li> <li class="meta-item modified">{{vm.modifiedDate}}</li> </ul> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/preview/segment-header/header.html",'<header class="segment-form-preview-header gd-row"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="title"><h2>Form Preview</h2></div> <div class="close"> <super-button label="Print Form" ng-if="vm.form.status === \'active\'" ng-click="go.print()"></super-button> <super-button label="Close Preview" ng-click="go.close()"></super-button> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form/preview/segment-steps/steps.html",'<section class="segment-form-preview-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content"> <div ss-pending="vm.loading"> <ul class="fb-steps-summary"> <li class="fb-summary-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)" ng-if="!vm.loading"> <h4 class="step-heading">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === step.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="step.participantLabel.length">{{step.participantLabel}}</span> <em ng-if="!step.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="step.stepActionLabel.length">{{step.stepActionLabel}}</span> <em ng-if="!step.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants:</dt> <dd> <ul class="fb-step-meta"> <li ng-if="step.otherParticipants.length" class="list-row" ng-repeat="others in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-show="others.name.length" ng-bind="others.name" title="{{others.name}}"></li> <li ss-icon="key" ng-bind="others.permissions.length ? others.permissions : \'No Access\'"></li> </ul> </li> <li ng-if="!step.otherParticipants.length"><em>no additional participants</em></li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="step.eventDetails.length" ng-repeat="event in step.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!step.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-review" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedStepId === vm.reviewStep.id}" ng-if="vm.reviewStep" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-click="go.selectStep(\'review\', vm.reviewStep)"> <h4 class="step-heading">Review Profile Updates</h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === vm.reviewStep.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="vm.reviewStep.participantLabel.length">{{vm.reviewStep.participantLabel}}</span> <em ng-if="!vm.reviewStep.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="vm.reviewStep.stepActionLabel.length">{{vm.reviewStep.stepActionLabel}}</span> <em ng-if="!vm.reviewStep.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="vm.reviewStep.participantPermission.length" ng-bind="vm.reviewStep.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="vm.reviewStep.eventDetails.length" ng-repeat="event in vm.reviewStep.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!vm.reviewStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-final" ng-class="{\'is-hover\': vm.finalStep.hoverState, \'is-selected\': vm.selectedStepId === vm.finalStep.id}" ng-mouseenter="vm.finalStep.hoverState = true" ng-mouseleave="vm.finalStep.hoverState = false" ng-click="go.selectStep(\'final\', vm.finalStep)"> <h4 class="step-heading">Form &amp; Workflow Complete</h4> <div ng-show="vm.selectedStepId === vm.finalStep.id"> <dl class="step-summary-list pad-12"> <dt ng-if="vm.finalStep.employeeRecord" ss-icon="copy">copy to personnel document category:</dt> <dd ng-if="vm.finalStep.employeeRecord" ng-bind="vm.finalStep.employeeRecord"></dd> <dt ng-if="vm.finalStep.eventDetails.length" ss-icon="envelope-o">{{ vm.finalStep.eventDetails[0].title }}</dt> <dd ng-if="vm.finalStep.eventDetails.length" ng-repeat="action in vm.finalStep.eventDetails[0].actions">- {{ action }}</dd> <dt ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length">Actions: </dt> <dd ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </div> </li> </ul> </div> </main> </section> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form/settings/segment-settings/settings.html",'<div class="segment-form-settings-settings"> <cmp-two-column-list class="section template-details" label="TEMPLATE DETAILS"> <div class="gd-row"> <div class="gd-65p"> <div>This information determines who can access the form template as well as track a form after it has been sent.</div> </div> </div> <div class="gd-row"> <div class="gd-65p settings-allow-employee-initiate"> <super-input-checkbox label="Allow employees to initiate this form template" required model="vm.form._isEmployeeInitiated"></super-input-checkbox> <small class="inset">This template will be available for employees to start (complete and/or submit) without admin assistance.</small> </div> </div> <div class="gd-row"> <div class="gd-65p settings-category"> <super-select-list model="vm.form._category.id" label="Category" required="true" ss-validate="validator.required(vm.form._category.id, \'Category\')"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row"> <div class="gd-65p settings-form-administrator"> <super-select-list label="Form Administrator (can track progress of the form)" model="vm.form._formAdministrator.formAdministratorType" default-option-label="Select Form Administrator" required="true" ss-validate="validator.required(vm.form._formAdministrator.formAdministratorType, \'Form Administrator\')"> <super-select-list-item ng-repeat="item in vm.formAdminList" value="item.value" label="item.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row" ng-if="vm.form._formAdministrator.formAdministratorType === 3"> <div class="gd-65p settings-specific-employee"> <super-employee-search id="form-admin-employee-search" model="vm.specificEmployeeHolder" limit="1" use-pill="false" placeholder="Find Employee" ss-validate="validator.required(vm.form._formAdministrator.employeeId, \'Specific person\')"> </super-employee-search> </div> </div> </cmp-two-column-list> <div class="section gd-row step" ng-repeat="step in vm.steps"> <div class="gd-25p"> <div class="settings-control-label">Workflow Step {{$index+1}}</div> <p class="settings-control-note" ng-bind="step._name"></p> </div> <div class="gd-75p"> <div class="details"> <div class="gd-row headers"> <div class="gd-50p">Step Participant</div> <div class="gd-50p">Step Action</div> </div> <div class="gd-row values"> <div class="gd-50p participant" ng-bind="step.participantLabel"></div> <div class="gd-50p action">{{step._stepAction | enumByValue: \'stepAction\'}}</div> </div> </div> <div><super-input-checkbox class="add-step-message" label="Add custom \'Step Ready\' Message" model="step._useCustomNotification"></super-input-checkbox></div> <div class="gd-row step-message" ng-if="step._useCustomNotification"> <div class="gd-75p"> <h4 class="message-header">EMAIL MESSAGE</h4> <div class="message-container"> <div class="message-prefix" ng-bind="step._notificationPrefix"></div> <super-input-textarea model="step._notificationBody" placeholder="Type optional custom message here" ss-validate="validator.conditionalRequired(step._notificationBody, \'Email Message\', step._useCustomNotification)" id="step-message-{{step.id}}"></super-input-textarea> <div class="message-suffix" ng-bind="step._notificationSuffix"></div> </div> </div> </div> </div> </div> <cmp-two-column-list class="section last-step" label="Form Complete" ng-if="vm.lastStepText.length">{{vm.lastStepText}}</cmp-two-column-list> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/builder/segment-builder/builder.html",'<div class="segment-packet-builder-builder" ss-pending="packetVm.saving"> <div> <div class="gd-row"> <div class="record-list gd-55p"> <div class="gd-row filters"> <div class="search-form"> <super-input-text model="vm.search" ss-icon="li-search">Find Form</super-input-text> </div> <div class="gd-row"> <div class="gd-50p select-filter-category"> <super-select-list label="Filter Category" type="filter" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-50p select-filter-sortby"> <super-select-list label="Sort By" type="filter" model="vm.sortBy"> <super-select-list-item ng-repeat="option in vm.sortCriteria" label="option.name" value="option.field"></super-select-list-item> </super-select-list> </div> </div> </div> <div ss-pending="vm.loading" ss-pending-status="\'Loading form templates...\'"> <ul class="gd-row ss-panel-list form-list-full"> <li ng-if="!vm.loading && vm.forms.length < 1">No forms found</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in vm.forms" dnd-draggable="form" dnd-type="\'formType\'" dnd-effect-allowed="copyMove" dnd-disable-if="form.inPacket"> <div class="form-info"> <span class="icon" ss-icon="li-form-large"></span> <h4> <a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a> <strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.formStatusLabel"></strong> </h4> <div class="form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) </span> <super-popover ng-if="form._steps.length > 0" class="ss-pipe-right"> <div> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span> <span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> <span class="ss-pipe-left" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o"> PDF Overlay available</span> </div> </div> <div class="action"> <div class="form-added" ng-if="form.inPacket" ss-icon="check">Added</div> <super-button ng-if="!form.inPacket" ng-click="go.add($index, form)" label="Add"></super-button> </div> </li> </ul> <div class="infinite-scrolling" ng-if="vm.showInfScroll" infinite-scroll="go.loadData()" infinite-scroll-distance="1" ss-pending="vm.loadingMore"></div> </div> </div> <div class="added-packets gd-45p" ss-window-anchor> <h3 ss-icon="li-packet-large">Packet</h3> <div ss-pending="vm.loadingPacket" ss-pending-status="\'Loading packet...\'"> <ul class="form-list-added" dnd-list="added" dnd-drop="go.dropForm(event, index, type, item)" dnd-allowed-types="[\'formType\', \'addedType\']"> <li ng-if="!vm.loadingPacket && !added.length">There are no forms in this packet</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in added" dnd-draggable="form" dnd-type="\'addedType\'" dnd-moved="go.moveForm($index, form)" dnd-effect-allowed="move"> <h4 class="gd-75p"> <a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a> <strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.formStatusLabel"></strong> </h4> <div class="gd-85p form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> | </span> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> <span class="ss-pipe-left" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o"> PDF Overlay available</span> </div> <div class="form-remove gd-15p" ng-click="go.remove($index, form)"> <span class="action" ss-icon="minus-circle"></span> </div> </li> </ul> </div> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-formbuilder-templates")}catch(t){e=angular.module("ec-formbuilder-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet/settings/segment-settings/settings.html",'<div class="segment-packet-settings-settings" ss-pending="vm.loading"> <div> <div class="section gd-row category"> <div class="gd-25p settings-control-label required">Category</div> <div class="gd-20p"> <super-select-list model="vm.packet._category.id"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> </div> <div class="section gd-row custom-message"> <div class="gd-25p settings-control-label">Packet Message</div> <div class="gd-55p"> <super-input-checkbox class="message-customize" label="Customize Packet Message" model="vm.packet._startupEmail.useStartupEmail"></super-input-checkbox> <h4 class="message-header">Email Message</h4> <div class="message-container"> <p class="message-prefix" ng-bind="vm.packet._startupEmail.notificationPrefix"></p> <ul class="forms"> <li ng-repeat="form in vm.forms" ng-bind="form._name"></li> </ul> <super-input-textarea model="vm.packet._startupEmail.message" is-disabled="!vm.packet._startupEmail.useStartupEmail" placeholder="Type optional custom message here" id="message-textarea" ss-validate="validate.conditionalRequired(vm.packet._startupEmail.message, \'Email Message\')"></super-input-textarea> <div class="message-suffix" ng-bind="vm.packet._startupEmail.notificationSuffix"></div> </div> </div> <div class="gd-20p message-help">Initial step ready notifications for forms in this packet will be suppressed when this packet is sent.</div> </div> <div class="section gd-row workflow"> <div class="gd-25p"> <div class="settings-control-label">Form Workflow &amp; Notifications</div> <p class="settings-control-note">Step Ready email to primary recipient on first step and Form Complete emails to sender are suppressed for forms in packets</p> </div> <div class="gd-75p"> <ul class="forms"> <li class="form" ng-repeat="form in vm.forms"> <h3 ng-bind="form._name"></h3> <div class="form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> | </span> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> </div> </li> </ul> </div> </div> </div> </div> ')}])}()},{}],41:[function(e,t,n){"use strict";var i=e("base-state"),r={added:[],props:!1,addingFields:!1},o={url:"/builder?deactivate",templateUrl:"routes/form/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Form Builder)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.form.formBuilder",new i.State(o,r))}])},{"base-state":32}],42:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$stateParams","ssAsync","ssFormTemplatesApi","ssEventSvc","ssEnum","ssSaveInterrupterSvc","formHlp","ssArrayHlp",function(e,t,n,i,r,o,s,a,l,c){function p(){var e=T.steps.find(function(e){return e._stepAction===s.stepAction.formCompleted});null==e?(e=T.steps.pop(),e.last=!0,e._stepAction=s.stepAction.formCompleted,e._name="Form and Workflow is Complete"):T.steps.splice(T.steps.indexOf(e),1),e._stepParticipant.participantType=T.stepParticipant.employeeChosenWhenSent,T.lastStep=e}function u(){T.reviewStep=y(T.form._steps),T.reviewStep?(T.steps.splice(T.steps.indexOf(T.reviewStep),1),d()):b.commitToEmployeeRecord=[]}function d(){var e=[];T.steps.forEach(function(t){t.fieldGroups.length>0&&t.fieldGroups.forEach(function(t){var n=t.map(function(e){if(!0===e._updateEmployeeRecord)return e.id});e=e.concat(n)})}),b.commitToEmployeeRecord=c.unique(e.filter(function(e){return null!=e}))}function m(e,t){t.fields.length>0&&g(e,t.fields),e?null==y(T.form._steps)&&f():!e&&b.commitToEmployeeRecord.length<1&&v(),h.modelChanged()}function f(){var e=_.makeStep();e._stepAction=s.stepAction.employeeProfileReview,e._stepEvents=[{eventType:T.stepEventType.onEmployeeProfileReview,eventActions:[]}],e._permissions=[{canView:!0,canEdit:!0,canViewSensitive:!0,canEditSensitive:!0,employeeId:""}],e._name="Review Profile Updates",T.form._steps.splice(T.form._steps.length-1,0,e),T.reviewStep=e}function v(){T.form._steps.splice(T.form._steps.indexOf(T.reviewStep),1)}function g(e,t){if(e){if(b.commitToEmployeeRecord.includes(t[0]._fieldGroup))return;b.commitToEmployeeRecord.push(t[0]._fieldGroup)}else b.commitToEmployeeRecord.includes(t[0]._fieldGroup)&&b.commitToEmployeeRecord.splice(b.commitToEmployeeRecord.indexOf(t[0]._fieldGroup),1)}function y(e){return e.find(function(e){return e._stepAction===s.stepAction.employeeProfileReview})}var b=t.routeVm,h=t.formVm,_=e.get("segmentFormBuilderBuilderLogic"),w=null,T=t.vm=b.vm={form:h.formData,steps:[],selectedFormObject:null,stepAction:s.stepAction,stepEventType:s.stepEventType,stepParticipant:s.stepParticipantType},O=t.go={stepSettings:function(e,n){T.selectedFormObject=e,e.index=n+1,t.$emit("component-properties","step",e)},formComplete:function(){T.selectedFormObject=T.lastStep,t.$emit("component-properties","cmp-properties-form-complete",T.lastStep)},reviewStep:function(){T.selectedFormObject=T.reviewStep,t.$emit("component-properties","cmp-properties-form-review",T.reviewStep)},addStep:function(){var e=T.form._steps.length,t=_.makeStep();T.form._steps.splice(e-1,0,t),T.steps.push(t),h.modelChanged(),O.stepSettings(t,T.steps.length-1)},movedStep:function(e,t){T.steps[w]=t,T.steps.splice(e,1)},dropStep:function(e,t,n){return h.modelChanged(),w=t,{}}};h.updateStepOrder=function(){null==T.lastStep.id?T.form._steps.forEach(function(e){e.last&&(T.lastStep=e)}):T.lastStep=T.form._steps.find(function(e){return e._stepAction===s.stepAction.formCompleted}),T.reviewStep=T.form._steps.find(function(e){return e._stepAction===s.stepAction.employeeProfileReview}),T.reviewStep?T.form._stepOrder=T.steps.map(function(e){return e.id}).join(",")+","+T.reviewStep.id+","+T.lastStep.id:T.form._stepOrder=T.steps.map(function(e){return e.id}).join(",")+","+T.lastStep.id,T.steps.forEach(function(e){e.fieldGroups.forEach(function(t){t.forEach(function(t){null==t._step&&(t._step={}),t._step.id=e.id})})})},h.updateFieldOrder=function(){T.steps.forEach(function(e){e._fieldOrder=e.fieldGroups.map(function(e){return e.map(function(e){return e.id}).join(",")}).join(",")})},o.on("ss-json-api.addedRecord.formFields",function(e,t){var n=T.form._steps.find(function(t){return t.id===e._step.id});if(null!=n){var i=n.fieldGroups.findIndex(function(t){return t.includes(e)});if(-1!==i){var r=n.fieldGroups[i].indexOf(e);-1!==r&&(n.fieldGroups[i][r]=t)}}},t),o.on("ss-json-api.addedRecord.steps",function(e,t){var n=T.steps.indexOf(e);-1!==n&&(T.steps[n]=t)},t),o.on("emp-record-commit",function(e,t){m(e,t)},t),t.$watch("vm.form._steps.length",function(e,t){e<t&&(y(T.form._steps)||(b.commitToEmployeeRecord=[]))}),h.processTemplate=function(){var e=T.form._formFields,t=T.form._steps,n=new Map;if(T.steps=[],l.sortByOrderField(t,T.form._stepOrder),Object.keys(b.added).forEach(function(e){return b.added[e]=!1}),t.length<2){for(var i=2-t.length;i--;)t.unshift(_.makeStep());h.modelChanged()}t.forEach(function(e){e.fields=[],T.steps.push(e),"string"==typeof e.id&&n.set(e.id,e)});for(var r=e.length;r--;){var o=e[r];o._step&&n.has(o._step.id)?(n.get(o._step.id).fields.push(o),null!=o._fieldGroup&&(b.added[o._fieldGroup]=!0)):e.splice(r,1)}T.steps.forEach(function(e){l.sortByOrderField(e.fields,e._fieldOrder),e.fieldGroups=[],e.fields.forEach(function(t){if(t.disabled=!0,0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var n=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&n[0]._fieldGroup===t._fieldGroup?n.push(t):e.fieldGroups.push([t])}),delete e.fields}),p(),u()},i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h.loading=!0,!n.deactivate||1!==h.formData._statusId){e.next=9;break}return h.loadingMsg='Deactivating "'+h.formData._name+'"',e.next=6,r.editActive(h.formData);case 6:h.formData=e.sent,e.next=10;break;case 9:h.loadingMsg="loading form template..";case 10:T.form.$refresh().then(function(){h.processTemplate(),T.form.$$resetChangesDetected(),T.form._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),T.form._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),a.register(T.form),h.loading=!1,h.loadingMsg="",O.stepSettings(T.steps[0],0)}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),h.loading=!1,h.loadingMsg=null,console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,13]])}))()}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormBuilderBuilder",function(){return new l("builder")})},{"base-segment":31}],43:[function(e,t,n){"use strict";function i(e){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[],_stepAction:null,_stepParticipant:{participantType:null,employeeIds:[]},_stepEvents:[{eventType:e.stepEventType.onSubmit,eventActions:[]}],_permissions:[]}}}}i.$inject=["ssEnum"],angular.module("ec-formbuilder-segment-logic").factory("segmentFormBuilderBuilderLogic",i)},{}],44:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope",function(e,t){t.routeVm,e.get("segmentFormBuilderFieldsLogic"),t.vm={fields:{custom:[{component:"cmp-properties-custom-input",fields:"input",label:"Input"},{component:"cmp-properties-custom-dropdown",fields:"dropdown",label:"Dropdown"},{component:"cmp-properties-custom-selectbox",fields:"selectGroup",label:"Multiple Choice"},{component:"cmp-properties-custom-signature",fields:"signature",label:"Signature"},{component:"cmp-properties-custom-date",fields:"date",label:"Date"},{component:"cmp-properties-custom-fileupload",fields:"fileUpload",label:"File Upload"},{component:"cmp-properties-custom-filelink",fields:"fileLink",label:"Link"},{component:"cmp-properties-custom-sectionhead",fields:"sectionHead",label:"Section Head"},{component:"cmp-properties-custom-text",fields:"text",label:"Text"}],employee:[{component:"cmp-properties-smart",fields:"legalName",label:"Legal Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"aliasName",label:"Other Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"address",label:"Address",allowMultiple:!1},{component:"cmp-properties-smart",fields:"contact",label:"Contact",allowMultiple:!1},{component:"cmp-properties-smart",fields:"personal",label:"Personal",allowMultiple:!1},{component:"cmp-properties-smart",fields:"employment",label:"Employment",allowMultiple:!1},{component:"cmp-properties-smart",fields:"primaryAssignment",label:"Primary Assignment",allowMultiple:!0},{component:"cmp-properties-smart",fields:"assignmentCompensation",label:"Assignment Compensation",allowMultiple:!0},{component:"cmp-properties-smart",fields:"assignmentBenefits",label:"Assignment Benefit",allowMultiple:!0},{component:"cmp-properties-smart",fields:"secondaryAssignment",label:"Secondary Assignment",allowMultiple:!1},{component:"cmp-properties-smart",fields:"secondaryCompensation",label:"Secondary Compensation",allowMultiple:!1},{component:"cmp-properties-smart",fields:"secondaryBenefits",label:"Secondary Benefit",allowMultiple:!1},{component:"cmp-properties-smart",fields:"financial",label:"Financial",allowMultiple:!1},{component:"cmp-properties-smart",fields:"emergency",label:"Emergency",allowMultiple:!1}]}},t.go={}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormBuilderFields",function(){return new l("fields")})},{"base-segment":31}],45:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormBuilderFieldsLogic",i)},{}],46:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$element","$compile","$animate",function(e,t,n,i,r){var o=(t.routeVm,e.get("segmentFormBuilderPropertiesLogic"),t.formVm),s={left:"-120%"},a={left:0},l=void 0,c=!0,p=document.getElementsByClassName("view-props")[0],u=angular.element(p),d=t.vm={form:o.formData};t.formVm.suppressEditAccessModal=!1,t.$on("$destroy",t.$root.$on("component-properties",function(e,o,p){if(t.data!==p){null!=l&&l.$destroy(),l=t.$new(!1),t.data=p,d.showAdvanced=!1;var m="fields",f=o;"step"===o?(m="step",f="cmp-properties-step"):"cmp-properties-form-instructions"===o?m="form":"cmp-properties-form-complete"!==o&&"cmp-properties-form-review"!==o||(m="step");var v=i("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l);c?(r.enter(v,u).then(function(){r.animate(n,s,a,"",{duration:"0.3"})}),c=!1):r.animate(n,a,s,"",{duration:"0.3"}).then(function(){u.html(""),r.leave(v).then(function(){v=i("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l),r.enter(v,u).then(function(){r.animate(n,s,a,"",{duration:"0.3"})})})}),e.stopPropagation()}}))}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormBuilderProperties",function(){return new l("properties")})},{"base-segment":31}],47:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormBuilderPropertiesLogic",i)},{}],48:[function(e,t,n){"use strict";var i=e("base-state"),r={},o={url:"/form/{formId:[0-9A-Za-z-]+}",templateUrl:"routes/form/form.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,i){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:return r.formData=t.sent,t.next=6,i.getActiveOrg();case 6:r.org=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()}],$title:["form",function(e){return"Frontline Central - "+r.formData._name}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formInstances","send")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.form",new i.State(o,r))}])},{"base-state":32}],49:[function(e,t,n){"use strict";var i=e("base-state"),r={added:[],props:!1,addingFields:!1},o={url:"/preview?returnUrl",templateUrl:"routes/form/preview/preview.html",resolve:{
form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,i){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:r.formData=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,6]])}))()}],$title:["$title",function(e){return e+" (Preview)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","view")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){var t=new i.State(o,r);e.state("base.form.formPreview",t)}])},{"base-state":32}],50:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,i,r,o){var s=t.routeVm,a=(e.get("segmentFormPreviewAttachmentsLogic"),t.vm={isLoading:!0});t.go={download:function(e){n.open(e,"_blank")}};i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.formData._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,o.getFiles({},{ids:t});case 4:a.files=e.sent,a.files=a.files.map(function(e){var t=r.getExtension(e._filename);return e.icon=r.getIcon(t),e}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,a.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[1,8,10,13]])}))()}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormPreviewAttachments",function(){return new l("attachments")})},{"base-segment":31}],51:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormPreviewAttachmentsLogic",i)},{}],52:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$anchorScroll","ssEventSvc","ssEnum","ssObjectHlp","formHlp",function(e,t,n,i,r,o,s){var a=t.routeVm,l=(e.get("segmentFormPreviewBuilderLogic"),t.formVm,new Map),c=t.vm={steps:[],reviewStep:{_name:"Review Profile Updates",review:!0},stepAction:r.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){c.selectedStepId=t.id,i.emit("form-builder.builder.step-clicked",e,t)}};i.on("form-builder.summary.step-clicked",function(e,t){c.selectedStepId=l.get(t.id).id,n("fb-step-"+e)},t),function(){s.sortByOrderField(a.formData._steps,a.formData._stepOrder),a.formData._steps.forEach(function(e){e.fields=[],"string"==typeof e.id&&l.set(e.id,e)});for(var e=a.formData._formFields.length;e--;){var t=a.formData._formFields[e];t._step&&l.has(t._step.id)?l.get(t._step.id).fields.push(t):a.formData._formFields.splice(e,1)}a.formData._steps.forEach(function(e){s.sortByOrderField(e.fields,e._fieldOrder),e.participantLabel=e._stepParticipant.name||r.stepParticipantType.byValue(e._stepParticipant.participantType),e.fieldGroups=[],e.fields.forEach(function(t){if(t.disabled=!1,"super-select-list"===t._fieldType){var n=JSON.parse(t._configJson);null!=n.externalSource&&null!=r[n.externalSource]&&(t.externalSourceOptions=r[n.externalSource].enums)}if(0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var i=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&i[0]._fieldGroup===t._fieldGroup?i.push(t):e.fieldGroups.push([t])}),delete e.fields}),c.steps=a.formData._steps,c.selectedStepId=c.steps[0].id,c.loading=!1}()}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormPreviewBuilder",function(){return new l("builder")})},{"base-segment":31}],53:[function(e,t,n){"use strict";function i(){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormPreviewBuilderLogic",i)},{}],54:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssDateHlp","ssAsync","ssOrganizationSvc","ssDateByOrgHlp",function(e,t,n,i,r,o){function s(e){return!n.isForeverFuture(e)&&!n.isForeverPast(e)}var a=e.get("segmentFormPreviewFormNameLogic"),l=t.formVm,c=t.vm={form:l.formData};i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getActiveOrg();case 2:t=e.sent,c.formStatusLabel=a.getStatusLabel(l.formData,t),c.formStatus=a.getStatus(l.formData,t),s(c.form._modifiedDt)&&(n=o.utcIsoToRelativeMoment(c.form._modifiedDt,t),i=n.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c.modifiedDate="Modified "+i+" by "+c.form._modifier.name);case 6:case"end":return e.stop()}},e,this)}))();t.go={}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormPreviewFormName",function(){return new l("form-name")})},{"base-segment":31}],55:[function(e,t,n){"use strict";function i(e){function t(t,n){return e.getLabel(t,n).status}function n(t,n){return e.getLabel(t,n).statusLabel}return{getStatusLabel:n,getStatus:t}}i.$inject=["statusLabelHlp"],angular.module("ec-formbuilder-segment-logic").factory("segmentFormPreviewFormNameLogic",i)},{}],56:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$window","$stateParams","$location","ssEventSvc","rAF","ssDateByOrgHlp",function(e,t,n,i,r,o,s,a){var l=t.routeVm;e.get("segmentFormPreviewHeaderLogic"),t.vm={};s(function(){o.emit("allow-fullscreen")},t);var c=null;t.go={close:function(){var e=i.returnUrl;null!=e&&0!==e.length||(e="/ec-formbuilder/form/"+l.formData.id+"/builder"),r.url(e)},print:function(){c=l.formData.modifiedText,l.formData.modifiedText=a.utcIsoToRelativeMoment(l.formData._modifiedDt,l.formData._organizationId).format("MM/DD/YY"),s(function(){n.print(),l.formData.modifiedText=c},t)}}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormPreviewHeader",function(){return new l("header")})},{"base-segment":31}],57:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormPreviewHeaderLogic",i)},{}],58:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","formHlp",function(e,t,n,i,r){function o(){var e=Array.from(arguments),t={};return e.forEach(function(e,n){e.forEach(function(e){t[n+"-"+e.value]=e.name})}),t}var s=t.routeVm,a=(t.formVm,e.get("segmentFormPreviewStepsLogic")),l=i.personnelCategory.getEnums(),c=i.medicalCategory.getEnums(),p=new Map,u=t.vm={steps:[],stepAction:i.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){u.selectedStepId=t.id,n.emit("form-builder.summary.step-clicked",e,t)}};n.on("form-builder.builder.step-clicked",function(e,t){u.selectedStepId=p.get(t.id).id},t),function(){u.steps=angular.copy(s.formData._steps),r.sortByOrderField(u.steps,s.formData._stepOrder);var e=a.buildParticipantList(u.steps);u.steps.forEach(function(t){if("string"==typeof t.id&&p.set(t.id,t),t._stepAction!==i.stepAction.formCompleted){var n=e.find(function(e){return e.stepIds.includes(t.id)});t.participantLabel=n?n.participantName:"",t.participantPermission=a.getPermissionLabel(t),t.stepActionLabel=i.stepAction.byValue(t._stepAction)}t.eventDetails=a.getEventDetails(t),t.otherParticipants=a.getOtherParticipants(e,t)});var t=u.steps.find(function(e){return e._stepAction===i.stepAction.formCompleted}),n=u.steps.find(function(e){return e._stepAction===i.stepAction.employeeProfileReview});if(u.finalStep=u.steps.splice(u.steps.indexOf(t),1)[0],n&&(u.reviewStep=u.steps.splice(u.steps.indexOf(n),1)[0]),s.formData._employeeRecord.addToEmployeeRecord){var d=o(l,c),m=s.formData._employeeRecord.category,f=s.formData._employeeRecord.subCategory;u.finalStep.employeeRecord=d[m+"-"+f]}u.selectedStepId=u.steps[0].id,u.loading=!1}()}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormPreviewSteps",function(){return new l("steps")})},{"base-segment":31}],59:[function(e,t,n){"use strict";function i(e){function t(t){var n=[];return t.forEach(function(t){if(t._stepParticipant&&t._stepAction!=e.stepAction.formCompleted){var i=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"",r=t._stepParticipant.name?t._stepParticipant.name:e.stepParticipantType.byValue(t._stepParticipant.participantType),o=n.find(function(e){return s(e,t)});if(o)return void o.stepIds.push(t.id);n.push({stepIds:[t.id],participantName:r,participantType:t._stepParticipant.participantType,employeeId:i})}}),n}function n(t){return t._stepEvents?t._stepEvents.reduce(function(t,n){return n.eventActions.length?(t.push({title:e.stepEventType.byValue(n.eventType),actions:n.eventActions.reduce(function(t,n){return n.eventAction===e.stepEventAction.stopWorkFlow?t:(t.push(e.stepEventAction.byValue(n.eventAction)),t)},[])}),t):t},[]):[]}function i(e,t){return e.length?e.reduce(function(e,n){if(n.stepIds.includes(t.id))return e;var i=t._permissions.find(function(e){return s(e,n)});return i&&i.canView?(e.push({name:n.participantName,permissions:"view"+(i.canEdit?" & edit":"")}),e):e},[]):[]}function r(e){if(!e._permissions)return"";var t=e._permissions.find(function(t){return s(t,e)});return t?"view"+(t.canEdit?" & edit":""):""}function o(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}function s(t,n){var i=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,r=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===i:t.participantType===r}return{buildParticipantList:t,getEventDetails:n,getPermissionLabel:r,getOtherParticipants:i,makeStep:o,matchByParticipants:s}}i.$inject=["ssEnum"],angular.module("ec-formbuilder-segment-logic").factory("segmentFormPreviewStepsLogic",i)},{}],60:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssAsync","$stateParams","ssFormTemplatesApi","$location","ssPermissionsSvc",function(e,t,n,i,r,o,s){var a=t.routeVm;e.get("segmentFormContentLogic");t.formVm=a,(t.vm={printViewBuilderEnabled:!1}).printViewBuilderEnabled=s.isPermittedAction("formTemplates","buildOverlay")||!!t.$root.isPermitted.activeUser.idmAdministrator;t.go={}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormContent",function(){return new l("content")})},{"base-segment":31}],61:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentFormContentLogic",i)},{}],62:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$window","$q","$rootScope","$scope","$location","$state","$timeout","ssAsync","ssEventSvc","ssStatusApi","ssToastHlp","rAF","ssValidatorHlp","ssPermissionsSvc","ssStorage","ssDateByOrgHlp","statusLabelHlp","ssModalSvc","ssFormTemplatesApi","ssObjectHlp",function(e,t,n,i,r,o,s,a,l,c,p,u,d,m,f,v,g,y,b,h,_){function w(e,t,n,i,r){["fieldOrder","stepOrder"].includes(t)||O.modelChanged()}function T(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length,n.attr("size",e))}var O=r.routeVm,P=O.formData,S=O.org.id+"_formbuilder_"+P.id,E=(e.get("segmentFormHeaderLogic"),r.vm={formTitle:P._name,activationDate:g.todaysStartRelativeTo(O.org).format("MM/DD/YYYY"),formStatusLabel:y.getLabel(P,O.org).statusLabel,activate:null,editTitle:!1,nothingToSave:!0,autoSaved:!1,printViewBuilderEnabled:!1});i.$on("$stateChangeStart",function(e,t,n,i,r,o){"base.form.formPreview"===t.name&&v.save(S,{y:window.scrollY})}),i.$on("$stateChangeSuccess",function(e,n,i,r,o){if("base.form.formPreview"===r.name){var s=v.load(S);s&&(v.clear(S),a(function(){t.scrollTo(0,s.y)},1e3))}}),r.validator=m,E.printViewBuilderEnabled=f.isPermittedAction("formTemplates","buildOverlay")||!!r.$root.isPermitted.activeUser.idmAdministrator;var x,A=r.go={editTitle:function(){E.editTitle=!0,E.previousAutoSaved=E.autoSaved,d.raw(function(){T()})},preview:function(){if(!O.saving){if(!E.nothingToSave){var e={title:"Preview Form Template",content:"You will need to save this form template in order to preview it.",primaryText:"save and continue",secondaryText:"cancel"};return b.showStandard(e).then(function(e){A.saveFormTemplate().then(function(){o.url("/ec-formbuilder/form/"+O.formData.id+"/preview")})})}o.url("/ec-formbuilder/form/"+O.formData.id+"/preview")}},saveFormTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(O.saving||E.nothingToSave)return n.when();var t=x;return O.saving=!0,O.loadingMsg="saving form template...",E.editTitle=!1,P._name=E.formTitle,l(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,P._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),n.next=4,P._steps.$save(!1,!e);case 4:return null!=O.updateStepOrder&&O.updateStepOrder(),n.next=7,P.$save(!0,!e);case 7:return null!=O.updateFieldOrder&&O.updateFieldOrder(),n.next=10,P._steps.$save(!1,!e);case 10:t===x&&(E.nothingToSave=!0,E.autoSaved=!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),E.nothingToSave=!1;case 16:return n.prev=16,O.saving=!1,O.loadingMsg="",n.finish(16);case 21:case"end":return n.stop()}},n,this,[[0,13,16,21]])}))()},confirmTitleEdit:function(){""!==E.formTitle&&(E.editTitle=!1,E.currentValue=E.formTitle,E.nothingToSave=!1)},cancelTitleEdit:function(){E.editTitle=!1,E.formTitle=E.currentValue,E.autoSaved=E.previousAutoSaved},activateNow:function(){E.activationDate=null,E.statusConfig={statusId:1},A.activateOnDate()},activateOnDate:function(){if(!O.saving){if(!P._formAdministrator.formAdministratorType)return u.error("Form Administrator is required","Select Form Administrator"),void r.$root.$emit("ss-menu-close");if(!P._stepOrder||P._stepOrder.includes("undefined"))return void u.error("The form template does not have a valid step order","");var e=P._stepOrder.slice(0,P._stepOrder.indexOf(","));if(!P._steps.find(function(t){return t.id===e})._fieldOrder.length)return u.warn("Step 1 of this form template contains no fields. Please add fields in order to activate.",""),void r.$root.$emit("ss-menu-close");for(var t=0;t<P._steps.length-1;t++){var n=P._steps[t];if(3!==n._stepAction){if(null==n._stepParticipant.participantType)return u.error("Step Participant is required for each step","Activation Failed"),void r.$root.$emit("ss-menu-close");if(null==n._stepAction)return u.error("Action Performed is required for each step","Activation Failed"),void r.$root.$emit("ss-menu-close")}}if(null==P._category.id)return u.error("Category is required to activate this form.","Activation Failed"),r.$root.$emit("ss-menu-close"),void s.go("base.form.formSettings");null!==E.activationDate&&(E.statusConfig.from=g.startOfDayRelativeTo(moment(E.activationDate),O.org)),l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E.nothingToSave){e.next=4;break}return e.next=4,A.saveFormTemplate();case 4:return O.saving=!0,O.loadingMsg="activating form template...",e.next=9,p.update({id:P.id},E.statusConfig,!1);case 9:E.nothingToSave=!1,o.url("/ec-forms"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),t=e.t0.data.errors.Title.substr(e.t0.data.errors.Title.indexOf(":")+1),t=t.split(","),t.forEach(function(e){u.error(e,"Activation Failed")});case 18:return e.prev=18,O.saving=!1,O.loadingMsg="",e.finish(18);case 22:case"end":return e.stop()}},e,this,[[0,13,18,22]])}))()}}};O.saveFormTemplate=A.saveFormTemplate,r.$watch("vm.formTitle",function(e,t){e===t&&(E.currentValue=t),d.raw(function(){T()})}),O.modelChanged=function(){E.nothingToSave=E.autoSaved=!1,x=x||Date.now()},c.on("ss-json-api.changedRecord.formFields",w,r),c.on("ss-json-api.changedRecord.formTemplates",w,r),c.on("ss-json-api.changedRecord.steps",w,r)}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormHeader",function(){return new l("header")})},{"base-segment":31}],63:[function(e,t,n){"use strict";function i(e){return{}}i.$inject=["statusLabelHlp"],angular.module("ec-formbuilder-segment-logic").factory("segmentFormHeaderLogic",i)},{}],64:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$timeout","ssAsync","ssListSvc","ssEmployeeApi","ssEnum","ssToastHlp","formHlp",function(e,t,n,i,r,o,s,a,l){var c=(t.routeVm,e.get("segmentFormSettingsSettingsLogic"));t.validator=c.validator;var p=t.formVm,u=s.formAdministratorType.getEnums(),d=t.vm={loading:!1,form:p.formData,showSpecificPerson:!1,formAdminList:u,specificEmployeeHolder:[],lastStepText:""},m=d.form._steps.find(function(e){return e._stepAction===s.stepAction.formCompleted});d.steps=d.form._steps.filter(function(e){return e._stepAction!==s.stepAction.formCompleted}),l.sortByOrderField(d.steps,d.form._stepOrder),i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m._stepEvents[0].eventActions.forEach(function(e){e.eventAction===s.stepEventAction.emailOthers?i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.queryByIds({fields:"firstName,lastName"},{ids:e.employeeIds});case 2:n=t.sent,n.forEach(function(e){d.lastStepText.length&&(d.lastStepText+=", "),d.lastStepText+="Email "+e._firstName+" "+e._lastName});case 4:case"end":return t.stop()}},t,this)}))():(d.lastStepText.length&&(d.lastStepText+=", "),d.lastStepText+=s.stepEventAction.byValue(e.eventAction))}),d.steps.forEach(function(e,r){t.$watch("vm.steps["+r+"]._useCustomNotification",function(t,i){t!==i&&t&&n(function(){return document.getElementById("step-message-"+e.id).focus()},250)});var a=e._stepParticipant;a.participantType===s.stepParticipantType.specificPerson?a.employeeIds&&a.employeeIds.length&&i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get({id:a.employeeIds[0],fields:"firstName,lastName"});case 2:n=t.sent,e.participantLabel=n._firstName+" "+n._lastName;case 4:case"end":return t.stop()}},t,this)}))():(a.participantType||a.participantType===s.stepParticipantType.employeeChosenWhenSent)&&(e.participantLabel=s.stepParticipantType.byValue(a.participantType))});case 2:case"end":return e.stop()}},e,this)}))();t.go={};t.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){!e||e<=0||e===t||e!==s.formAdministratorType.specificPerson&&(d.form._formAdministrator.employeeId=null,d.specificEmployeeHolder=[])}),t.$watch("vm.specificEmployeeHolder",function(e,t){e!==t&&(e&&e.length?d.form._formAdministrator.employeeId=e[0].id:d.form._formAdministrator.employeeId=null)}),t.$watch("vm.form._isEmployeeInitiated",function(e){e?(d.form._formAdministrator.formAdministratorType===s.formAdministratorType.formPacketSender&&(d.form._formAdministrator.formAdministratorType=null),d.formAdminList=d.formAdminList.filter(function(e){return 1!==e.value})):d.formAdminList=u}),c.setupSaveInterrupter(d.form),i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.loading=!0,e.prev=1,e.next=4,r.getByExternalId("form.categories");case 4:d.categories=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.error("There was an error retrieving form categories","");case 10:if(d.form._formAdministrator.formAdministratorType!==s.formAdministratorType.specificPerson){e.next=22;break}if(!d.form._formAdministrator.employeeId){e.next=22;break}return e.prev=12,e.next=15,o.get({id:d.form._formAdministrator.employeeId,fields:"firstName,lastName"},null,!1);case 15:t=e.sent,d.specificEmployeeHolder.push(t),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),"404"===e.t1.data.errors.Id?a.warn("You will not be able to activate this form template until you choose another or change the form administrator type.","Form Administrator not found"):a.error("There was a problem retrieving the assigned form administrator. Please see the console.","Error");case 22:d.loading=!1;case 23:case"end":return e.stop()}},e,this,[[1,7],[12,19]])}))()}]},{key:"link",value:function(e,t,n){e.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){angular.element(document).ready(function(){if(e!==t&&3===e){document.getElementById("form-admin-employee-search").getElementsByTagName("input")[0].focus()}})})}}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentFormSettingsSettings",function(){return new l("settings")})},{"base-segment":31}],65:[function(e,t,n){"use strict";function i(e,t){var n=e.required();return{setupSaveInterrupter:function(e){e.$refresh().then(function(){e.$$resetChangesDetected(),e._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),e._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e)})},validator:{required:n,conditionalRequired:function(e,t,i){return!i||n(e,t)}}}}i.$inject=["ssValidationHlp","ssSaveInterrupterSvc"],angular.module("ec-formbuilder-segment-logic").factory("segmentFormSettingsSettingsLogic",i)},{}],66:[function(e,t,n){"use strict";var i=e("base-state"),r={},o={url:"/settings",templateUrl:"routes/form/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.form.formSettings",new i.State(o,r))}])},{"base-state":32}],67:[function(e,t,n){"use strict";var i=e("base-state"),r={},o={url:"/builder",templateUrl:"routes/packet/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Packet Builder)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.packet.packetBuilder",new i.State(o,r))}])},{"base-state":32}],68:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","enumStepAction","ssAsync","ssFormTemplatesApi","ssListSvc","ssDebounce","ssOrganizationSvc","formHlp",function(e,t,n,i,r,o,s,a,l){function c(){var e="filter[name]="+b.search,t="";if("All"!==b.selectedCategory){t="filter[categoryname]="+b.categories.find(function(e){return e.value===b.selectedCategory}).name}return t.length?e+"&"+t:e}function p(){var e=b.sortBy.startsWith("-")?"DESC":"ASC";return"sort["+b.sortBy.replace("-","")+"]="+e}function u(e){var t=e.offset;return r.query({include:"steps,statusHistory",limit:v,offset:t,filter:c(),sort:p(),latestVersion:!0})}function d(e){return e.map(function(e){return e.inPacket=b.packet._formTemplateIds.some(function(t){return t===e.id}),e.formStatusLabel=g.getStatusLabel(e,y.org),e})}function m(e,n){t.added.splice(n,0,t.added.splice(e,1)[0])}var f,v=(t.routeVm,30),g=e.get("segmentPacketBuilderBuilderLogic"),y=t.packetVm;t.added=[]
;var b=t.vm={showInfScroll:!0,loading:!1,loadingPacket:!1,loadingMore:!1,packet:y.packetData,selectedCategory:"All",sortBy:"-changedutc",search:"",sortCriteria:[{name:"Recently Modified",field:"-changedutc"},{name:"Name ASC",field:"name"},{name:"Name DESC",field:"-name"}],stepAction:n,forms:[]};i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.getByExternalId("form.categories");case 3:b.categories=e.sent,b.packet._formTemplateIds.length&&(b.loadingPacket=!0,n=b.packet._formTemplateIds.toString(),r.formTemplatesByIds(b.packet._formTemplateIds,{include:"steps,statusHistory"}).then(function(e){l.sortByOrderField(e,n),t.added=e,b.loadingPacket=!1}).catch(function(e){b.loadingPacket=!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))();var h=i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.loading=!0,e.next=4,a.getActiveOrg();case 4:return f=e.sent,e.next=7,u({offset:b.forms.length});case 7:t=e.sent,b.forms=d(t),n=parseInt(b.forms.$headers["total-results"],10),b.showInfScroll=b.forms.length<n,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),b.loading=!1;case 16:return e.prev=16,b.loading=!1,e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,13,16,19]])}))(),_=s(function(){h=i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.loading=!0,b.forms=[],e.next=5,u({offset:0});case 5:t=e.sent,b.forms=d(t),n=parseInt(t.$headers["total-results"],10),b.showInfScroll=t.length<n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),b.loading=!1;case 14:return e.prev=14,b.loading=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])}))()},350);t.$watchGroup(["vm.search","vm.selectedCategory","vm.sortBy"],function(e,t){e!==t&&(b.loading&&h.$abort(),_())}),t.$watchCollection("added",function(e,t){if(e!==t){var n=e.map(function(e){return e.id});JSON.stringify(n)!==JSON.stringify(b.packet._formTemplateIds)&&(b.packet._formTemplateIds=n)}});t.go={loadData:function(){!b.loadingMore&&b.forms.length&&i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.loadingMore=!0,e.next=4,u({offset:b.forms.length});case 4:t=e.sent,b.forms=b.forms.concat(d(t)),n=parseInt(t.$headers["total-results"],10),b.showInfScroll=b.forms.length<n,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b.loadingMore=!1;case 13:return e.prev=13,b.loadingMore=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,10,13,16]])}))()},add:function(e,n){t.added.push(n),n.inPacket=!0},remove:function(e,n){t.added.splice(e,1);var i=b.forms.find(function(e){return e.id===n.id});i&&(i.inPacket=!1)},dropForm:function(e,n,i,r){var o=t.added.find(function(e){return e.id===r.id});if(o){m(t.added.indexOf(o),n)}else{t.added.splice(n,0,r);var s=b.forms.find(function(e){return e.id===r.id});s&&(s.inPacket=!0)}}}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentPacketBuilderBuilder",function(){return new l("builder")})},{"base-segment":31}],69:[function(e,t,n){"use strict";function i(e){function t(t,n){return e.getLabel(t,n).status}function n(t,n){return e.getLabel(t,n).statusLabel}return{getStatusLabel:n,getStatus:t}}i.$inject=["statusLabelHlp"],angular.module("ec-formbuilder-segment-logic").factory("segmentPacketBuilderBuilderLogic",i)},{}],70:[function(e,t,n){"use strict";var i=e("base-state"),r={},o={url:"/packet/{packetId:[0-9A-Za-z-]+}",templateUrl:"routes/packet/packet.html",resolve:{packet:["$stateParams","ssAsync","ssOrganizationSvc","ssPacketsApi",function(e,t,n,i){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getActiveOrg();case 3:return r.org=t.sent,t.next=6,i.get({id:e.packetId});case 6:r.packetData=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()}],$title:["packet",function(e){return"Frontline Central - "+r.packetData._name}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packetInstances","send")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.packet",new i.State(o,r))}])},{"base-state":32}],71:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentPacketContentLogic");t.packetVm=n;t.vm={},t.packetVm.go=t.go={}}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentPacketContent",function(){return new l("content")})},{"base-segment":31}],72:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentPacketContentLogic",i)},{}],73:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$q","$scope","$timeout","ssAsync","ssEventSvc","rAF","enumFormTemplateStatus",function(e,t,n,i,r,o,s,a){function l(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length>45?45:n.val().length,n.attr("size",e))}var c=n.routeVm,p=e.get("segmentPacketHeaderLogic"),u=n.vm={formTitle:c.packetData._name,editTitle:!1,nothingToSave:!0,autoSaved:!1};n.validator=p.validator;var d=void 0;c.packetData.statusLabel=function(e){var t=null;return t=null==e._statusId?a.byValue(0):a.byValue(e._statusId),t.toLowerCase()}(c.packetData);var m=n.go={editTitle:function(){u.editTitle=!0,u.previousAutoSaved=u.autoSaved,s.raw(function(){l()})},savePacket:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.saving||u.nothingToSave)return t.when();var n=d;return c.saving=!0,r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.editTitle=!1,c.packetData._name=u.formTitle,t.next=5,c.packetData.$save(!0,!e);case 5:n===d&&(u.nothingToSave=!0,u.autoSaved=e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),u.nothingToSave=!1;case 11:return t.prev=11,c.saving=!1,t.finish(11);case 15:case"end":return t.stop()}},t,this,[[0,8,11,15]])}))()},confirmTitleEdit:function(){""!==u.formTitle&&(u.editTitle=!1,u.currentValue=u.formTitle,u.nothingToSave=!1)},cancelTitleEdit:function(){u.editTitle=!1,u.formTitle=u.currentValue,u.autoSaved=u.previousAutoSaved}};c.modelChanged=function(){u.nothingToSave=u.autoSaved=!1,d=Date.now()},o.on("ss-json-api.changedRecord.packets",c.modelChanged,n),c.saveFormTemplate=m.savePacket,n.$watch("vm.formTitle",function(e,t){e===t&&(u.currentValue=t),s.raw(function(){l()})})}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentPacketHeader",function(){return new l("header")})},{"base-segment":31}],74:[function(e,t,n){"use strict";function i(e){return{validator:{required:e.required()}}}i.$inject=["ssValidationHlp"],angular.module("ec-formbuilder-segment-logic").factory("segmentPacketHeaderLogic",i)},{}],75:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("base-segment"),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssFormTemplatesApi","ssValidationHlp","enumStepAction","formHlp",function(e,t,n,i,r,o,s,a){t.routeVm,e.get("segmentPacketSettingsSettingsLogic");t.validate={conditionalRequired:function(e,t){return!l.packet._startupEmail.useStartupEmail||o.required()(e,t)}};var l=t.vm={loading:!0,packet:t.packetVm.packetData,forms:[],stepAction:s};null==l.packet._startupEmail&&(l.packet._startupEmail={}),n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.getByExternalId("form.categories");case 3:l.categories=e.sent,l.packet._formTemplateIds.length&&(t=l.packet._formTemplateIds.toString(),r.formTemplatesByIds(l.packet._formTemplateIds,{include:"steps"}).then(function(e){a.sortByOrderField(e,t),l.forms=e}),l.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==s.formCompleted}),a.sortByOrderField(e.steps,e._stepOrder)})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,l.loading=!1,e.finish(9);case 12:case"end":return e.stop()}},e,this,[[0,7,9,12]])}))(),t.$watch("vm.packet._startupEmail.useStartupEmail",function(e,t){e!==t&&document.getElementById("message-textarea").focus()})}]}]),t}(a.Segment);angular.module("ec-formbuilder-segments").directive("segmentPacketSettingsSettings",function(){return new l("settings")})},{"base-segment":31}],76:[function(e,t,n){"use strict";function i(){return{}}angular.module("ec-formbuilder-segment-logic").factory("segmentPacketSettingsSettingsLogic",i)},{}],77:[function(e,t,n){"use strict";var i=e("base-state"),r={},o={url:"/settings",templateUrl:"routes/packet/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-formbuilder").config(["$stateProvider",function(e){e.state("base.packet.packetSettings",new i.State(o,r))}])},{"base-state":32}]},{},[2]);