!function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){var n=t[o][1][e];return i(n||e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this,i.flUiFormRenderer=e()}}(function(){return function(){function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[a]={exports:{}};n[a][0].call(u.exports,function(e){return s(n[a][1][e]||e)},u,u.exports,t,n,r,i)}return r[a].exports}for(var o="function"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}return t}()({1:[function(e,t,n){"use strict";function r(e,t,n){var r=e.$eval(t),i=n.split("."),s=i.pop(),o=i.join("."),a=o?e.$eval(o):e;a[s]=JSON.parse(r),e.$watch(t,function(e){JSON.stringify(a[s])!==e&&(a[s]=JSON.parse(e))}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}function i(e){if(e._sensitive&&e.step){var t=null!=e.step.formFieldValues[e.id]&&""!==e.step.formFieldValues[e.id];return t&&e.sensitiveRedacted||t&&e.overrideVisibility&&!0===e.overrideVisibility}return!1}function s(){return o}n.fieldTemplateHlp=s,n.bindConfigObject=r;var o={getTag:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(e._fieldType&&e._fieldType.includes("read"))return n;if(i(e)&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),e._fieldType.startsWith("super-")){var r;if(n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),"super-digital-signature"===e._fieldType)r="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"');else if("super-input-radio"===e._fieldType){for(var s=t.findIndex(function(t){return t===e}),o=e.config.name||"",a=e;s--;)"super-input-radio"===t[s]._fieldType&&t[s].config.name===o&&(a=t[s]);r="field.step.formFieldValues['"+a.id+"']"}else r="field.step.formFieldValues['"+e.id+"']";if("super-input-radio"===e._fieldType&&(n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"')),e._required&&!e.disabled){var l=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");"super-digital-signature"===e._fieldType.toLowerCase()?n.push('ss-validate="ignoreValidations || validator.requiredDigitalSignature('+r+", '"+l+"')\""):"super-file-upload"===e._fieldType.toLowerCase()?n.push('ss-validate="ignoreValidations || validator.requiredFileUpload('+r+", '"+l+"')\""):n.push('ss-validate="ignoreValidations || validator.required('+r+", '"+l+"')\"")}n.push('model="'+r+'"')}return e._fieldType.startsWith("cmp-")&&(n.push('field="field"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"')),"link"===e._fieldType&&(n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"')),n.join(" ")},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"instructions":case"readOnlyText":case"readOnlyCredentials":case"readOnlyDate":case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(e,t,n){var r,s="";switch(e._fieldType){case"heading":return"{{field._label}}";case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":return e.step&&e.step.formFieldValues[e.id]?r=e.step.formFieldValues[e.id]||"--":(r=t.$eval(e.config.readOnly,e.primaryParticipant),r=null!=r?r:"--"),i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyDate":return r=e.step&&e.step.formFieldValues[e.id]?e.step.formFieldValues[e.id]:t.$eval(e.config.readOnly,e.primaryParticipant),r=null!=r?n("date")(r,"MM/dd/yyyy"):"--/--/--",i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyCredentials":return null==e.config.readOnly||null!=e.config.populate&&!e.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+e.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":return null!=e.externalSourceOptions?"<"+e._fieldType+'-item ng-repeat="option in field.externalSourceOptions track by $index" value="option.value" label="option.name"></'+e._fieldType+"-item>":"<"+e._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+e._fieldType+"-item>";default:return""}}}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-forms")},{"./includes":22,"./module":23,"./partials.compiled":24}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$stateParams",function(e,t){function n(e){null!=e&&(r.template="super-input-radio"===e?"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'\']"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tname="{{field.id}}"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">":"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'-\' + $index + \'\']"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tname="{{option}}"\n\t\t\t\t\trequired="field._required"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\t></'+e+">")}var r=e.vm={template:"",validate:function(){return!0},isDisabled:e.field.disabled};e.field._required&&!0===e.field.config.multiple&&(r.validate=function(t,n){for(var r=0;r<e.field._options.length;r++)if(!0===t[e.field.id+"-"+r])return!0;return n+" is required."});e.go={};e.$watch("field.config",function(t){e.$watch("field.config.selectType",function(e){n(e)})})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":15}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpCredentialsList",function(){return new c(l,"credentials-list")})},{"base-component":15}],5:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",filter:"=",type:"@",endpoint:"&"},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$state","ssAsync","ssListSvc","$location","ssActiveUserSvc","ssFormInstancesApi","ssEmployeeApi","ssToastHlp","ssStorage","enumFormAdministratorType",function(e,t,n,i,s,o,a,l,c,p,u){function m(){v=0,b=0,T.formsAndPackets=[],d()}function d(){return null!=_&&(_.$abort(),_=null),_=n(regeneratorRuntime.mark(function t(){var n,i,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v=T.isSorting?v:v+1,n=T.isSearching||T.isSorting?0:(v-1)*h,b=T.isSorting?b:b+h,i=e.endpoint(),i.config.limit=T.isSorting?b:h,i.config.offset=n,i.config=Object.assign(i.config,g(T.sortBy)),t.next=10,i.api(i.config);case 10:s=t.sent,y=parseInt(s.$headers["total-results"],10),s=f(s),s=s.filter(function(e){return"inactive"!==e.status}),T.formsAndPackets=T.isSorting?[].concat(r(s)):[].concat(r(T.formsAndPackets),r(s)),o=b-s.length,T.showInfScroll=s.length<y-o,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),T.showInfScroll=!1;case 22:return t.prev=22,T.isLoading=!1,T.isSearching=!1,T.isSorting=!1,_=null,t.finish(22);case 28:case"end":return t.stop()}},t,this,[[0,19,22,28]])}))()}function f(e){return e.forEach(function(e){null!==e._formAdministrator.employeeId?e.adminName=e._formAdministrator.name:e.adminName=u.byValue(e._formAdministrator.formAdministratorType)||"None"}),e}function g(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var y,h=50,v=0,b=0,_=null,w={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},T=e.vm={formsAndPackets:[],showInfScroll:!0,isLoading:!1,isSearching:!1,isSorting:!1,sortCriteria:[{name:"Form Category",value:{field:"categoryname",dir:"asc"}},{name:"Form Administrator Type",value:{field:"formadministratortype",dir:"desc"}},{name:"Form Name (A-Z)",value:{field:"name",dir:"asc"}}]};T.sortBy=T.sortCriteria[0].value;e.go={initiateForm:function(e){e.initiating=!0,n(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getIdentityByType("employee");case 3:if(n=t.sent,1!==e._formAdministrator.formAdministratorType){t.next=6;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 6:return r=angular.copy(w),r.attributes[0].formTemplate.formTemplateId=e.id,r.attributes[0].employee.employeeId=n,t.next=11,a.send(r);case 11:i=t.sent,s.path("/ec-forms/inbox/"+i[0].id),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),e.initiating=!1,c.error(t.t0,"Error",!1);case 19:case"end":return t.stop()}},t,this,[[0,15]])}))()},setInboxDefaultTab:function(){p.save("inboxDefaultTab","EmployeeInitiated",{persistent:!0,expires:null})}};e.$on("$destroy",e.$watch("vm.sortBy",function(e,t){e!==t&&(T.formsAndPackets=[],T.isSorting=!0,T.isLoading=!1,T.isSearching=!1,T.sortBy=e,d())})),e.$on("$destroy",e.$watch("search",function(e,t){e!==t&&(T.isSearching=!0,T.isLoading=!1,T.isSorting=!1,m())})),e.scrollData=function(){T.isLoading=!0,e.filter!==e.type&&v<0||T.showInfScroll&&null==_&&d()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpEmpInitiatedTemplate",function(){return new p(c,"emp-initiated-template")})},{"base-component":15}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={group:"=",ignoreValidations:"=",org:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.group,e.vm={},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFieldGroupRenderer",function(){return new c(l,"field-group-renderer")})},{"base-component":15}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l=e("fl-ui-form-renderer"),c={field:"=",group:"=",ignoreValidations:"=",org:"=?"},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$filter","ssValidationHlp","ssObjectHlp",function(e,t,n,r){function i(n){var r=(0,l.fieldTemplateHlp)().getTag(n),i=(0,l.fieldTemplateHlp)().getProperties(n,a),s=(0,l.fieldTemplateHlp)().getContent(n,e.$root,t);n._updateEmployeeRecord&&n.reviewWidth&&(n.config.width=n.reviewWidth),p.template="<"+r+i+">"+s+"</"+r+">"}var s=r.glean,o=e.field,a=e.group,c=function(e){return e+" is required"},p=e.vm={template:""};e.validator={required:n.required(),requiredDigitalSignature:function(){return n.object({required:!0},[function(e,t){return s(e,function(e){return e.isSigned&&null!=e.name&&""!==e.name.trim()||c(t)},c(t))}])}(),requiredFileUpload:n.string({required:!0})},(0,l.bindConfigObject)(e,"field._configJson","field.config"),e.$watch("ignoreValidations",function(){return Object.assign(e.field,{ignoreValidations:e.ignoreValidations})}),e.$watchGroup(["field._fieldType","field.overrideVisibility"],function(){return i(o)}),e.$watch((0,l.fieldTemplateHlp)().getVisibility(o),function(e){return p.visibility=e})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFieldRenderer",function(){return new p(c,"field-renderer")})},{"base-component":15,"fl-ui-form-renderer":1}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$element","$document","ssAsync","ssEventSvc","ssToastHlp","ssFormTemplatesApi",function(e,t,n,r,i,s,o){function a(){e.$destroy(),e=null,t.remove(),t=null,p.removeClass(c),i.emit("fl-share-form-cancel")}var l=e.vm={formName:e.template._name,org:[],saving:!1},c="shown",p=angular.element(n[0].getElementById("modal-fade"));p.addClass(c);e.go={cancel:a,share:function(){l.saving=!0;var t=l.org[0];r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.shareToOrg(e.template.id,{destinationOrgId:t.Id,destinationTemplateName:l.formName}).then(function(e){if(-1===e.status||e.status>=400)return 422===e.status?s.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):s.error("",'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),void(l.saving=!1);s.success("",'"'+l.formName+'" has been shared to '+t.Name+" ("+t.Id+")"),a()}).catch(function(e){422===e.status?s.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):s.error(e,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),l.saving=!1});case 2:case"end":return n.stop()}},n,this)}))()}};angular.element(document.body).append(t)}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFlShareForm",function(){return new c(l,"fl-share-form")})},{"base-component":15}],9:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",count:"=",filter:"=",type:"@",endpoint:"&"},p={0:"Complete Form",1:"Review Form",2:"Review & Approve",3:"View Form",4:"Review Profile"},u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$filter","$state","rAF","enumStepAction","enumFormStatus","ssAsync","ssObjectHlp","ssDateHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,s,o,a,l,c,u,m){function d(){P=0,k=0,A.formsAndPackets=[],f()}function f(){return A.loading=!0,a(regeneratorRuntime.mark(function t(){var n,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,P=A.sorting?P:P+1,n=(P-1)*S,k=A.sorting?k:k+S,r=e.endpoint(),x=r.config.id,r.config.limit=A.sorting?k:S,r.config.offset=A.sorting?0:n,r.config=Object.assign(r.config,T(A.sortBy)),!r.config.id){t.next=15;break}return t.next=12,r.api(r.config);case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:s=t.t0,e.count=parseInt(s.$headers["total-results"],10),g(s),A.showInfScroll=k<e.count,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),A.showInfScroll=!1;case 25:return t.prev=25,A.loading=!1,A.sorting=!1,t.finish(25);case 29:i(function(){A.loading=!1,e.$emit("forms-inbox.data-loaded")},e);case 30:case"end":return t.stop()}},t,this,[[0,22,25,29]])}))()}function g(e){e.forEach(function(e){e.userIsPrimary=null!==e._employee.employeeId&&e._employee.employeeId===x,h(e),e.formStatus=y(e),e._dueDateUtc&&(e.dueDateStatus=m.dueStatus(e,O.org))});var t=w(e);A.formsAndPackets=A.sorting?[].concat(r(t)):[].concat(r(A.formsAndPackets),r(t))}function y(e){if(!e.currentStep)return"No Workflow";if(!e.isUserStep){if(e.isSubmitted){var t=v(e._steps);return"Submitted "+u.utcIsoToRelativeMoment(e._steps[t]._submittedDtUtc,O.org).format("MM/DD/YY")}if(e.isComplete){return"Completed "+u.utcIsoToRelativeMoment(e._completionDateUtc,O.org).format("MM/DD/YY")}return e.isPending?"Workflow Pending":""}if(e.isRejected){return"Denied "+u.utcIsoToRelativeMoment(e.currentStep._submittedDtUtc,O.org).format("MM/DD/YY")+" "+b(e)}if(e.currentStep._lastModifiedDtUtc&&!e.isSubmitted&&!e.isComplete){return"Progress Saved "+u.utcIsoToRelativeMoment(e.currentStep._lastModifiedDtUtc,O.org).format("MM/DD/YY")}}function h(e){if(e.isUserStep=!1,e.isPending=!1,e.isSubmitted=!1,e.isComplete=!1,e.isRejected=!1,e.rejectedByUser=!1,e.stepActionName="undefined",e.stepActionLabel=null,e.currentStep&&(e.stepActionLabel=null!==e.currentStep._stepAction?p[e.currentStep._stepAction]:p[3],e.currentStep._stepAction===s.formEntry?e.stepActionName="Fill Out Form":e.stepActionName=s.byValue(e.currentStep._stepAction),e.isComplete=e.currentStep._stepAction===s.formCompleted,!e.isComplete)){var t=l.glean(e,function(e){return e.currentStep._meta.permissions.permittedActions.edit},!1),n=e._steps.indexOf(e.currentStep),r=v(e._steps);e.isSubmitted=n>=r&&null!=e._steps[r]._submittedDtUtc&&!c.isForeverPast(e._steps[r]._submittedDtUtc),null!=e.currentStep._stepParticipant&&angular.isArray(e.currentStep._stepParticipant.employeeIds)&&(e.isUserStep=e.currentStep._stepParticipant.employeeIds[0]===x),e.isUserStep&&e._statusId===o.rejected&&(e.isRejected=!0,2===e.currentStep._stepAction&&(e.rejectedByUser=!0)),e.isPending=!e.isUserStep&&!e.isSubmitted&&!t}}function v(e){for(var t=e.length-1;t>=0;t--)if(null!=e[t]._stepParticipant&&angular.isArray(e[t]._stepParticipant.employeeIds)&&e[t]._stepParticipant.employeeIds[0]===x)return e.indexOf(e[t])}function b(e){if(!e.rejectedByUser&&e.isUserStep){var t=e._steps.indexOf(e.currentStep)+1;return"by "+e._steps[t]._stepParticipant.name}return""}function _(e){var t=e.reduce(function(e,t){return e._completionDateUtc>t._completionDateUtc?e:t});return u.utcIsoToRelativeMoment(t._completionDateUtc,O.org).format("MM/DD/YY")}function w(e){var t=new Map;return e.map(function(e,n,r){var i,s,o,a;return e.isPacket=!1,e.isInPacket?(t.has(e._packetInstance.instanceId)||t.set(e._packetInstance.instanceId,{name:e._packetInstance.name,isPacket:!0,isRejected:!1,showDetails:!1,content:[]}),s=e._packetInstance.completeFormInstanceIds.length,o=e._packetInstance.incompleteFormInstanceIds.length,a=s+o,i=t.get(e._packetInstance.instanceId),i.content.push(e),i.dueDateStatus=function(){var e=i.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=i.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),i.formStatus=function(){var e=i.content.filter(function(e){return e.isRejected});return e.length?(i.isRejected=!0,1===e.length?"form denied "+b(e[0]):e.length>1?e.length+" forms denied":void 0):0===o?"Completed "+_(i.content):s+"/"+a+" Forms Completed"}(),i.content.length>1?null:i):e}).filter(function(e){return null!=e})}function T(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var x,O=e.$root.utils.findInParentScope("routeVm",e),P=0,S=50,k=0,D=e.type,A=e.vm={formsAndPackets:[],showInfScroll:!0,loading:!1,refreshing:!1,sorting:!1,sortCriteria:[{name:"Most Recent",value:{field:"recentlysent",dir:"desc"}},{name:"Due Date",value:{field:"duedate",dir:"asc"}},{name:"Form/Packet Name (A-Z)",value:{field:"formname",dir:"asc"}}],type:D};A.sortBy=A.sortCriteria[1].value;e.go={complete:function(e){n.go("base.inboxFormInstance",{formInstanceId:e.id,from:D})},toggleDetails:function(e){e.showDetails=!e.showDetails}};e.$watch("vm.sortBy",function(e,t){e!==t&&null!=A.formsAndPackets&&0!==A.formsAndPackets.length&&(A.sortBy=e,A.sorting=!0,f())}),e.$watch("search",function(e,t){e!==t&&d()}),e.scrollData=function(){e.filter!==e.type&&P<0||A.showInfScroll&&!A.loading&&f()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpFormListGroup",function(){return new u(c,"form-list-group")})},{"base-component":15}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={org:"=",form:"=",batch:"=",onComplete:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","$q","ssFormInstancesApi","$timeout","ssToastHlp","ssStorage","moment","$filter","$sce","ssDateByOrgHlp",function(e,t,n,r,i,s,o,a,l,c,p){function u(){m.inProgress=!1;var t=p.utcIsoToRelativeMoment(m.status._endedAtUtc,e.org),n=t.calendar(null,{sameDay:"[Sent Today at] LT",lastDay:"[Sent Yesterday at] LT",sameElse:"[Sent on] l [at] h:mm a"});m.statusHelperText=c.trustAsHtml(""+n),m.status._numFailed?(m.hasFailures=!0,m.sendStatusText=g+" sent to "+(m.numInBatch-m.numFailed)+" employees",m.progressMessage=m.numFailed+" failed to send",m.progressMessageClass="error",d||s.standard("",'"'+e.form._name+'" sent to '+m.numInBatch+" people, but only "+m.numComplete+" succeeded",!1)):(m.sendStatusText=g+" sent to "+m.numInBatch,m.progressMessage="Success!",m.progressMessageClass="success",d||s.success("",'"'+e.form._name+'" sent successfully to '+m.numInBatch+" "+(m.status._numInBatch>1?"people":"person"),!1),i(function(){y.removeBatch()},3e3))}var m=e.vm={progressMessage:"",status:"",sendStatusText:"",statusHelperText:"",percentComplete:"0%",loading:!0,inProgress:!1,showRemove:!0,loadingMessage:""},d=!1,f=!0,g="FormTemplate"===e.form._objectType?"Form":"Packet";m.formattedRecipientLength=l("number")(e.batch._includedEmployeeIds.length,0),m.sendStatusText="Sending "+g+" to "+m.formattedRecipientLength,m.statusHelperText=c.trustAsHtml("<strong>This may take several minutes.</strong> Sender will be notified and emailed when complete.");var y=e.go={removeBatch:function(){e.onComplete({batch:e.batch})},archiveBatch:function(){m.loadingMessage="Archiving batch...",m.loading=!0,m.status._isArchived=!0,m.status.$save().then(function(){y.removeBatch(),s.success("","Batch successfully archived")}).catch(function(e){console.error(e),s.error("","There was a problem archiving the batch. Please try again")}).finally(function(){m.loadingMessage="",m.loading=!1})}};(function(){function t(){r.getBatchStatus({id:e.batch.id}).then(function(e){switch(m.loading=!1,m.loadingMessage="",m.status=e,m.numInBatch=l("number")(m.status._numInBatch,0),m.numFailed=l("number")(m.status._numFailed,0),m.numComplete=l("number")(m.status._numComplete,0),m.status._status){case 0:m.progressMessage="Preparing to send",m.progressMessageClass="waiting",m.sendStatusText="Preparing "+g+" for "+m.formattedRecipientLength;break;case 1:m.inProgress=!0,m.sendStatusText="Sending "+g+" to "+m.formattedRecipientLength,m.percentComplete=m.status._percentComplete+"%";break;case 3:m.inProgress=!0,m.percentComplete="100%"}3===m.status._status||4===m.status._status||5===m.status._status?(d=f,i(function(){s.resolve()},3e3)):(f=!1,i(t,3e3))})}var s=n.defer();return m.loadingMessage="Preparing batch...",t(),s.promise})().then(function(){u()})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFormSendStatus",function(){return new c(l,"form-send-status")})},{"base-component":15}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){e.checked=!1}function a(e,t){if(e.length>0){var n={};return n["filter["+t+"]"]=e.map(function(e){return e.id}).join(","),n}return null}function l(e,t){var n={};if(null!=e){var r=e.split(" ").join(",");return n["filter["+t+"]"]=r,n}return null}var c=function(){function e(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=e("base-component"),u={label:"@",model:"=",exclusions:"="},m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"controller",value:["$scope","$rootScope","$document","$element","ssAsync","ssListSvc","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","enumEmployeeStatus","ssStringHlp","ssDateByOrgHlp","moment","ssToastHlp",function(e,t,n,r,i,s,c,p,u,m,d,f,g,y,h){function v(t){var n=e.exclusions.map(function(e){return{id:e.id}});return t.filter(function(e){return!n.find(function(t){return t.id===e.id})})}function b(e,t){var n=e.map(function(e){return e.id}),r=t.filter(function(e){return!n.includes(e.id)});r.forEach(function(e){t.splice(t.indexOf(e),1)}),r.length&&h.warn("One or more of the selected exclusions are not members of the current recipient group and have therefore been removed","")}e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var _=y().format("MM/DD/YYYY"),w=null,T=null,x={selected:{},exclusions:[]},O=e.vm={asOf:_,formOpened:!1,filtering:!1,attempted:!1,selected:{location:[],jobType:[],employmentGroup:[],department:[],status:null,hireDateStart:null,hireDateEnd:null},employmentGroupDisabled:!1};i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getAll();case 3:return O.locations=e.sent,e.next=6,p.getAll();case 6:return O.jobTypes=O.jobTypesAll=e.sent,e.next=9,s.getByExternalId("jobtype.employmentgroups");case 9:return O.employmentGroups=e.sent,O.employmentGroups=O.employmentGroups.map(function(e){return{_name:e.name,id:e.value}}),e.next=13,u.getAll();case 13:O.departments=e.sent,O.status=d.getEnums().map(function(e){return{_name:f.toProperCase(e.name.toLowerCase()),id:e.value}}),O.selected.status=[O.status.find(function(e){return e.id===d.active})],e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("ERROR",e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])}))();var P=e.go={cancel:function(){O.formOpened=!1,O.filtering=!1,e.model.length&&(O.selected=angular.copy(x.selected,O.selected),e.exclusions=angular.copy(x.exclusions,e.exclusions))},resetFilters:function(){O.status[1].checked=!0,O.selected.status.push(O.status[1])},clearAllFilters:function(){O.selected.location=[],O.selected.jobType=[],O.selected.employmentGroup=[],O.selected.department=[],O.selected.status=[],O.selected.hireDateStart="",O.selected.hireDateEnd="",O.locations.forEach(o),O.jobTypes.forEach(o),O.employmentGroups.forEach(o),O.departments.forEach(o),O.status.forEach(o),e.exclusions=[],O.attempted=!1,O.filtering=!1},toggleFilter:function(){e.model.length||(P.clearAllFilters(),P.resetFilters()),O.formOpened=!O.formOpened},addGroup:function(){O.filtering=!0;var t=O.selected.hireDateStart&&O.selected.hireDateStart.toISOString()?g.startOfDayRelativeTo(y(O.selected.hireDateStart.toISOString()),e.routeVm.org):null,n=O.selected.hireDateEnd&&O.selected.hireDateEnd.toISOString()?g.endOfDayRelativeTo(y(O.selected.hireDateEnd.toISOString()),e.routeVm.org):null,r=Object.assign({},{fields:"firstname,lastname,id",limit:1e4,asOfTimeUtc:g.safeAsOfDateRelativeTo(y(O.asOf).startOf("day"),e.routeVm.org)},a(O.selected.location,"location"),a(O.selected.jobType,"jobType"),a(O.selected.employmentGroup,"employmentGroup"),a(O.selected.department,"department"),a(O.selected.status,"status"),l(t,"hiredatestart"),l(n,"hiredateend"));w=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.query(r);case 3:T=t.sent,T=T.map(function(e){return{id:e.id}}),O.attempted=!0,b(T,e.exclusions),e.model=v(T),e.model.length&&(O.formOpened=!1,x.exclusions=angular.copy(e.exclusions,x.exclusions),x.selected=angular.copy(O.selected,x.selected)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("error retrieving employees",t.t0);case 14:return t.prev=14,O.filtering=!1,w=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,11,14,18]])}))()}};e.routeVm.removeGroup=function(){O.formOpened&&P.toggleFilter(),e.model=[],P.clearAllFilters(),P.resetFilters()},t.$on("$destroy",t.$on("parentAsOfDate-Change",function(e,t){null==t||null==t.asOf||""===t.asOf.toString()?O.asOf=_:O.asOf=y(t.asOf).format("MM/DD/YYYY")})),e.$on("destroy",e.$watch("vm.selected.jobType.length",function(e,t){e!==t&&(e>0?(O.employmentGroupDisabled=!0,O.selected.employmentGroup=[],O.employmentGroups.forEach(o)):O.employmentGroupDisabled=!1)})),e.$on("destroy",e.$watch("vm.selected.employmentGroup.length",function(e,t){if(e!==t)if(e>0){var n=O.selected.employmentGroup.map(function(e){return e.id}),r=O.jobTypesAll.map(function(e){return e._bargainingUnit.id});O.jobTypes=[];var i=r.filter(function(e){var t=e.split("_")[1];return!0===n.includes(t)});O.jobTypes=O.jobTypesAll.filter(function(e){return!0===i.includes(e._bargainingUnit.id)})}else O.jobTypes=O.jobTypesAll})),e.$on("destroy",e.$watch("vm.selected",function(e,t){e!==t&&w&&(w.$abort(),O.filtering=!1,O.attempted=!1)},!0))}]}]),t}(p.Component);angular.module("ec-forms-components").directive("cmpMultipleEmployeeSearch",function(){return new m(u,"multiple-employee-search")})},{"base-component":15}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"=",org:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$state","$location","buildConfig","ssAsync","ssActiveUserSvc","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","enumFormAdministratorType","ssFormInstancesApi","ssArrayHlp","ssToastHlp","ssEventSvc","ssObjectHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g){function y(e){return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.update({id:e},{statusId:c.inactive});case 2:case"end":return t.stop()}},t,this)}))()}var h=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),v=r.sharedFormsOrg,b=g.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1),_={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},w=e.vm={pendingMessage:"",showShare:!1};e.go={delete:function(e){var t={title:"Delete Form Template",content:"Once deleted, this form template will be removed and cannot be retrieved.",primaryText:"Delete Template",secondaryText:"Cancel"};o.showDestructive(t).then(function(){h.loading=!0,h.loadingMessage='Deleting "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$remove();case 3:return t.next=5,h.loadFormTemplates(!1);case 5:d.success("",'"'+e._name+'" has been deleted'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,h.loading=!1,h.loadingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},sendToSelf:i(regeneratorRuntime.mark(function e(t){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPending=!0,w.pendingMessage='Initiating "'+t._name+'"',e.next=4,s.getIdentityByType("employee");case 4:if(r=e.sent,e.prev=5,t._formAdministrator.formAdministratorType!==p.formPacketSender){e.next=8;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 8:return i=angular.copy(_),i.attributes[0].formTemplate.formTemplateId=t.id,i.attributes[0].employee.employeeId=r,e.next=13,u.send(i);case 13:o=e.sent,n.path("/ec-forms/inbox/"+o[0].id),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(5),d.error(e.t0,"Error",!1),t.isPending=!1,w.pendingMessage="";case 22:case"end":return e.stop()}},e,this,[[5,17]])})),send:function(e){t.go("base.send",{id:e.id,type:"FormTemplate"})},preview:function(e){n.url("/ec-formbuilder/form/"+e.id+"/preview?returnUrl=/ec-forms/")},edit:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};o.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}},copy:function(e){e.isPending=!0,w.pendingMessage='Copying "'+e._name+'"',i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.copy({id:e.id});case 3:return n=t.sent,t.next=6,h.loadFormTemplates(!1);case 6:m.findWhere(h.displayTemplates,{id:n.id}).isHighlighted=!0,d.success("",n._name+" created"),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,w.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()},archive:function(e){var t={title:"Archive Form Template",content:e._name+" will not be deleted, but will be removed from this list.",primaryText:"Archive Template",secondaryText:"Cancel"};o.showDestructive(t).then(function(){e.isPending=!0,w.pendingMessage='Archiving "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.update({id:e.id},{statusId:c.archived,from:(new Date).toISOString()});case 3:return t.next=5,h.loadFormTemplates(!1);case 5:d.success("",'"'+e._name+'" has been archived'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,e.isPending=!1,w.pendingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},deactivate:function(e){var t={title:"Deactivate Form Template",content:"Deactivating this template will disable it from being sent.",primaryText:"Deactivate",secondaryText:"Cancel"};o.showDestructive(t).then(function(){y(e.id).then(function(){h.loadFormTemplates()})})},canShare:function(t){return b&&"active"===t.status&&e.org.id===v},share:function(){w.showShare=!0}};f.on("fl-share-form-cancel",function(){w.showShare=!1},e)}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTemplateListForm",function(){return new c(l,"template-list-form")})},{"base-component":15}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$state","$location","ssAsync","ssPacketsApi","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","ssToastHlp",function(e,t,n,r,i,s,o,a,l,c){var p=e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.go={send:function(e){t.go("base.send",{id:e.id,type:"Packet"})},toggleDetails:function(e){e.detailsOpen||e.contents||(e.loading=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e.id});case 3:return e.contents=t.sent,n=e.contents._formTemplateIds,t.next=7,n.map(function(e){return o.get({include:"steps,statusHistory",id:e})});case 7:e.contents.forms=t.sent,e.contents.forms.forEach(p.extendCommonProps),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()),e.detailsOpen=!e.detailsOpen},editPacket:function(e){var t="/ec-formbuilder/packet/"+e.id+"/builder";n.url(t)},editForm:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};s.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}}}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTemplateListPacket",function(){return new c(l,"template-list-packet")})},{"base-component":15}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={label:"@"},c={transclude:!0},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={label:e.label,hasLabel:!!e.label},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTwoColumnList",function(){return new p(l,"two-column-list",c)})},{"base-component":15}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,i)}},{}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],18:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-forms").run(r)},{}],19:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-forms").config(r)},{}],20:[function(e,t,n){"use strict";function r(){return a}var i=e("fl-ui-form-renderer"),s={_label:"",_active:!0,_configJson:'{"width": "100%"}',_externalData:"",_fieldGroup:null,_fieldType:"super-input-text",_fieldTypeOptions:{},_hideRequired:!1,_options:null,_required:!1,_sensitive:!1},o={legalName:[{_label:"Legal Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"First",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Middle",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Last",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],aliasName:[{_label:"Other Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"First",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName"}',_externalData:"Employee.AliasFirstName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Middle",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName"}',_externalData:"Employee.AliasMiddleName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Last",_configJson:'{"width":"33%", "readOnly":"_aliasLastName"}',_externalData:"Employee.AliasLastName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_label:"Address",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Address 1",_configJson:'{"width":"100%", "readOnly":"address._street1"}',_externalData:"Employee.Addresses.Primary.Street1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Address 2",_configJson:'{"width":"100%", "readOnly":"address._street2"}',_externalData:"Employee.Addresses.Primary.Street2",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"City",_configJson:'{"width":"100%", "readOnly":"address._city"}',_externalData:"Employee.Addresses.Primary.City",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state"}',_externalData:"Employee.Addresses.Primary.State",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip"}',_externalData:"Employee.Addresses.Primary.Zip",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],contact:[{_label:"Contact Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Work Phone",_configJson:'{"width":"50%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Ext.",_configJson:'{"width":"25%","readOnly":"phoneNumbers.workExt"}',_externalData:"Employee.PhoneNumbers.Work.Extension",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.personalIsPrimary"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_label:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_label:"Work Email",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Personal Email",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],personal:[{_label:"Personal",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Birth Date",_configJson:'{"width":"33%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_fieldType:"super-input-datepicker",_fieldTypeOptions:{edit:"super-input-datepicker",view:"readOnlyDate"},_sensitive:!0},{_label:"SSN",_configJson:'{"width":"33%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0},{_label:"External Id",_configJson:'{"width":"33%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],employment:[{_label:"Employment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_fieldType:"readOnlyDate"},{_label:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_fieldType:"readOnlyDate"},{_label:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_fieldType:"readOnlyDate"}],primaryAssignment:[{_label:"Primary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc"}',_fieldType:"readOnlyText"},{_label:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc"}',_fieldType:"readOnlyText"},{_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name"}',_fieldType:"readOnlyText"},{_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name"}',_fieldType:"readOnlyText"},{_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"primaryPosition.name"}',_fieldType:"readOnlyText"},{_label:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name"}',_fieldType:"readOnlyText"},{_label:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name"}',_fieldType:"readOnlyText"},{_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte"}',_fieldType:"readOnlyText"},{_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_fieldType:"readOnlyText"},{_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_fieldType:"readOnlyText"}],assignmentCompensation:[{_label:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name"}',_fieldType:"readOnlyText"},{_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name"}',_fieldType:"readOnlyText"},{_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name"}',_fieldType:"readOnlyText"},{_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_fieldType:"readOnlyText"},{_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency"}',_fieldType:"readOnlyText"},{_label:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency"}',_fieldType:"readOnlyText"}],assignmentBenefits:[{_label:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_fieldType:"readOnlyText"}],secondaryAssignment:[{_label:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_fieldType:"readOnlyText"},{_label:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_fieldType:"readOnlyText"},{_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_fieldType:"readOnlyText"},{_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_fieldType:"readOnlyText"},{_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"earliestOtherPosition.name"}',_fieldType:"readOnlyText"},{_label:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_fieldType:"readOnlyText"},{_label:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_fieldType:"readOnlyText"},{_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_fieldType:"readOnlyText"},{_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_fieldType:"readOnlyText"},{_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_fieldType:"readOnlyText"}],secondaryCompensation:[{_label:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_fieldType:"readOnlyText"},{_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_fieldType:"readOnlyText"},{_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_fieldType:"readOnlyText"},{_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_fieldType:"readOnlyText"},{_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_fieldType:"readOnlyText"},{_label:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_fieldType:"readOnlyText"}],secondaryBenefits:[{_label:"Secondary Benefits",_fieldType:"readOnlyHeading"},{
_fieldType:"instructions",_label:""},{_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_fieldType:"readOnlyText"},{_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_fieldType:"readOnlyText"}],financial:[{_label:"Financial Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Primary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_label:"Banking Name",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Account Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_fieldType:"super-input-text"},{_label:"Secondary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_label:"Banking Name",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Account Number",_configJson:'{"width":"50%"}',_fieldType:"super-input-text"},{_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_fieldType:"super-input-text"}],emergency:[{_label:"Emergency Contacts",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName"}',_externalData:"Employee.EmergencyContacts.Primary.ContactName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],input:[{_label:"",_configJson:'{"width": "50%"}',_fieldType:"super-input-text"}],dropdown:[{_label:"Dropdown",_configJson:'{"width":"50%"}',_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],selectGroup:[{_label:"Multiple Choice",_configJson:'{"width": "100%", "colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true}',_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],signature:[{_label:"Please Sign",_configJson:'{"width":"100%"}',_fieldType:"super-digital-signature"}],date:[{_label:"Date",_configJson:'{"width":"25%"}',_fieldType:"super-input-datepicker"}],fileUpload:[{_label:"Instructions for uploading files...",_configJson:'{"width":"100%"}',_documentCategory:0,_documentSubCategory:8,_fieldType:"super-file-upload"}],fileLink:[{_label:"Link",_configJson:'{"width":"100%", "isValid": false, "location": "", "name":"", "display": "Link will display here" }',_fieldType:"link"}],sectionHead:[{_label:"Section Heading",_configJson:'{"width":"100%"}',_fieldType:"heading"}],text:[{_configJson:'{"width":"100%"}',_fieldType:"text",_label:""}],range:[{_label:"Range",_fieldType:"super-select-text",from:0,to:100}]},a={getFields:function(e,t){return o[e]?o[e].map(function(n,r,i){var o=Object.assign({},s,n),a=JSON.parse(o._configJson);return i.length>1&&Object.assign(o,{_fieldGroup:e}),a.cmp=t,o._configJson=JSON.stringify(a),o}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},bindConfigObject:i.bindConfigObject};angular.module("ec-forms-helpers").factory("fieldsHlp",r)},{"fl-ui-form-renderer":1}],21:[function(e,t,n){"use strict";function r(){return i}var i={sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),r={},i=e.length;i--;){var s=e.pop();r[s.id]=s}n.forEach(function(t){t in r&&(e.push(r[t]),delete r[t])}),Object.keys(r).forEach(function(t){null!=r[t]&&e.push(r[t])})}}};angular.module("ec-forms-helpers").factory("formsHlp",r)},{}],22:[function(e,t,n){"use strict";e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-credentials-list/credentials-list.js"),e("./components/cmp-emp-initiated-template/emp-initiated-template.js"),e("./components/cmp-field-group-renderer/field-group-renderer.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-fl-share-form/fl-share-form.js"),e("./components/cmp-form-list-group/form-list-group.js"),e("./components/cmp-form-send-status/form-send-status.js"),e("./components/cmp-multiple-employee-search/multiple-employee-search.js"),e("./components/cmp-template-list-form/template-list-form.js"),e("./components/cmp-template-list-packet/template-list-packet.js"),e("./components/cmp-two-column-list/two-column-list.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formsHlp/forms.js"),e("./routes/inbox/form-instance/form-instance.state.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.logic.js"),e("./routes/inbox/form-instance/segment-close/close.js"),e("./routes/inbox/form-instance/segment-close/close.logic.js"),e("./routes/inbox/form-instance/segment-form/form.js"),e("./routes/inbox/form-instance/segment-form/form.logic.js"),e("./routes/inbox/form-instance/segment-header/header.js"),e("./routes/inbox/form-instance/segment-header/header.logic.js"),e("./routes/inbox/form-instance/segment-steps/steps.js"),e("./routes/inbox/form-instance/segment-steps/steps.logic.js"),e("./routes/inbox/inbox.state.js"),e("./routes/inbox/segment-content/content.js"),e("./routes/inbox/segment-content/content.logic.js"),e("./routes/inbox/segment-header/header.js"),e("./routes/inbox/segment-header/header.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-content/content.js"),e("./routes/index/segment-content/content.logic.js"),e("./routes/index/segment-header/header.js"),e("./routes/index/segment-header/header.logic.js"),e("./routes/send/segment-content/content.js"),e("./routes/send/segment-content/content.logic.js"),e("./routes/send/segment-header/header.js"),e("./routes/send/segment-header/header.logic.js"),e("./routes/send/send.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-checkbox-group/checkbox-group.js":3,"./components/cmp-credentials-list/credentials-list.js":4,"./components/cmp-emp-initiated-template/emp-initiated-template.js":5,"./components/cmp-field-group-renderer/field-group-renderer.js":6,"./components/cmp-field-renderer/field-renderer.js":7,"./components/cmp-fl-share-form/fl-share-form.js":8,"./components/cmp-form-list-group/form-list-group.js":9,"./components/cmp-form-send-status/form-send-status.js":10,"./components/cmp-multiple-employee-search/multiple-employee-search.js":11,"./components/cmp-template-list-form/template-list-form.js":12,"./components/cmp-template-list-packet/template-list-packet.js":13,"./components/cmp-two-column-list/two-column-list.js":14,"./config/load-config.js":18,"./config/router.js":19,"./helpers/fieldsHlp/fields.js":20,"./helpers/formsHlp/forms.js":21,"./routes/inbox/form-instance/form-instance.state.js":25,"./routes/inbox/form-instance/segment-attachments/attachments.js":26,"./routes/inbox/form-instance/segment-attachments/attachments.logic.js":27,"./routes/inbox/form-instance/segment-close/close.js":28,"./routes/inbox/form-instance/segment-close/close.logic.js":29,"./routes/inbox/form-instance/segment-form/form.js":30,"./routes/inbox/form-instance/segment-form/form.logic.js":31,"./routes/inbox/form-instance/segment-header/header.js":32,"./routes/inbox/form-instance/segment-header/header.logic.js":33,"./routes/inbox/form-instance/segment-steps/steps.js":34,"./routes/inbox/form-instance/segment-steps/steps.logic.js":35,"./routes/inbox/inbox.state.js":36,"./routes/inbox/segment-content/content.js":37,"./routes/inbox/segment-content/content.logic.js":38,"./routes/inbox/segment-header/header.js":39,"./routes/inbox/segment-header/header.logic.js":40,"./routes/index/index.state.js":41,"./routes/index/segment-content/content.js":42,"./routes/index/segment-content/content.logic.js":43,"./routes/index/segment-header/header.js":44,"./routes/index/segment-header/header.logic.js":45,"./routes/send/segment-content/content.js":46,"./routes/send/segment-content/content.logic.js":47,"./routes/send/segment-header/header.js":48,"./routes/send/segment-header/header.logic.js":49,"./routes/send/send.state.js":50}],23:[function(e,t,n){"use strict";angular.module("ec-forms",["super-suit","ec-forms-segments","ec-forms-segment-logic","ec-forms-templates","ec-forms-helpers","ec-forms-components","ec-forms-decorators","ec-forms-filters","ec-forms-services"]),angular.module("ec-forms-segments",[]),angular.module("ec-forms-segment-logic",[]),angular.module("ec-forms-helpers",[]),angular.module("ec-forms-components",[]),angular.module("ec-forms-decorators",[]),angular.module("ec-forms-filters",[]),angular.module("ec-forms-services",[])},{}],24:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group" ss-validate="field.ignoreValidations || vm.validate(field.step.formFieldValues, field._label)"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credentials-list/credentials-list.html",'<div class="cmp-credentials-list"> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-group-renderer/field-group-renderer.html",'<div class="cmp-field-group-renderer"> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="org" ignore-validations="ignoreValidations"></cmp-field-renderer> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-emp-initiated-template/emp-initiated-template.html",'<div class="cmp-emp-initiated-template"> <div class="gd-row form-list-header-group"> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="vm.sortBy" is-disabled="vm.isLoading || vm.isSorting || vm.isSearching"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row gd-100p" ss-pending="vm.isSorting || vm.isSearching"> <ul class="ss-form-panel-list forms-list"> <li class="ss-panel-list-item" ng-class="{\'no-left-margin\': {{$index}} % 5 === 0}" ng-show="vm.formsAndPackets.length > 0" ng-repeat="form in vm.formsAndPackets track by form.id"> <div class="form-list-item-wrapper"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="li-form-e-large" role="img" aria-hidden="true"></figure> </div> <div class="form-name-group"> <h3 class="form-name"> <a href="/ec-formbuilder/form/{{form.id}}/preview?returnUrl=/ec-forms/inbox" ng-click="go.setInboxDefaultTab()" title="{{::form._name}}">{{::form._name}}</a> </h3> </div> <ul class="form-meta"> <li class="form-meta-item form-meta-category"> <label aria-label="category"></label> <p>{{::form._category.name}}</p> </li> <li class="form-meta-item form-meta-admin"> <label>Form Administrator</label> <p>{{::form.adminName}}</p> </li> </ul> <footer class="action-group"> <super-button label="start this form" ss-icon-before="{{form.initiating ? \'spinner\':\'mail-forward\'}}" ng-click="go.initiateForm(form)" ng-class="{\'initiating\': form.initiating}" ng-disabled="form.initiating"> </super-button> </footer> </div> </li> </ul> <p ng-if="vm.formsAndPackets.length < 1 && !vm.isLoading && !vm.isSorting && !vm.isSearching">No Forms or Packets found</p> <div ng-if="vm.showInfScroll" ss-pending="vm.isLoading" infinite-scroll="scrollData()"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer auto-{{ field.id }}" ng-show="vm.visibility" ng-style="{width: field.config.width}" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-list-group/form-list-group.html",'<div class="cmp-form-list-group" ng-class="{\'{{type}}\' : type}"> <div class="gd-row form-list-header-group"> <super-select-list ng-if="vm.formsAndPackets.length > 1" class="gd-100p sort-by-filter" type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-show="vm.formsAndPackets.length > 0" ng-class="{\'pending\': form.isPending && !form.isPacket}" ng-repeat="form in vm.formsAndPackets track by $index"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isRejected}"> <div class="form-item-details" ng-if="!form.isPacket" data-auto-date-modified="{{form._createdUtc}}" data-auto-due-date="{{form._dueDateUtc}}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!form.isPending && !form.rejectedByUser" ng-click="go.complete(form)" ng-bind="form.name"></a> <span ng-if="form.isPending || form.rejectedByUser">{{form.name}}</span> <small class="form-user-name" ng-if="!form.userIsPrimary" ss-icon="user" ng-bind="form._employee.name"></small> </h3> <div class="form-meta" data-auto-due-date="{{ form._dueDateUtc }}"> <ul class="ss-pipe-children" ng-class="{\'items-2\': form.dueDateStatus}"> <li class="form-meta-item" ng-bind="form.stepActionName"></li> <li class="form-meta-item" ng-if="form.dueDateStatus"> <strong class="form-due-date" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}" ng-bind="form.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected && form.isUserStep}" ss-icon="{{form.isRejected && form.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!form.isPending && !form.isSubmitted" label="{{form.stepActionLabel}}" ng-click="go.complete(form)" ng-disabled="form.rejectedByUser"></super-button> </div> </div> <div class="form-item-details" ng-if="form.isPacket"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-packet-e-large\' : \'li-packet-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-click="go.toggleDetails(form)">{{form.name}}&nbsp;<small>-&nbsp;Packet</small></a> </h3> <button type="button" class="packet-toggle" ss-icon-after="{{form.showDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(form)">{{form.showDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button label="{{form.showDetails ? \'Hide\' : \'Show\'}} Details" ng-click="go.toggleDetails(form)"></super-button> </div> </div> </div> <div ng-if="form.isPacket" ng-show="form.showDetails" class="form-packet-details"> <ul class="form-packet-list"> <li class="form-packet-list-item" ng-if="form.content.length < 1"> <p>No Forms are associated with this Package</p> </li> <li class="form-packet-list-item" ng-if="form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" ng-class="{\'pending\': Pform.isPending}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isRejected}"> <div class="form-item-details" data-auto-date-modified="{{ Pform._createdUtc }}" data-auto-due-date="{{ Pform._dueDateUtc }}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{Pform._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-label="form icon"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!Pform.isPending && !Pform.rejectedByUser" ng-click="go.complete(Pform)">{{Pform.name}}</a> <span ng-if="Pform.isPending || Pform.rejectedByUser">{{Pform.name}}</span> <small class="form-user-name" ng-if="!Pform.userIsPrimary" class="form-user-name" ss-icon="user" ng-bind="Pform._employee.name"></small> </h3> <div class="form-meta"> <ul class="gd-row items-2 ss-pipe-children"> <li class="form-meta-item" ng-bind="Pform.stepActionName"></li> <li class="form-meta-item" ng-if="Pform._dueDateUtc"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="Pform.formStatus" ng-class="{\'denied\':Pform.isRejected && Pform.isUserStep}" ss-icon="{{Pform.isRejected && Pform.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isPending" ng-disabled="Pform.rejectedByUser" label="{{Pform.stepActionLabel}}" ng-click="go.complete(Pform)"></super-button> </div> </div> </div> </li> </ul> </div> </li> <li ng-if="vm.showInfScroll" ss-pending="vm.loading" infinite-scroll="scrollData()" infinite-scroll-distance="0.5" infinite-scroll-listen-for-event="forms-inbox.data-loaded"></li> <li class="" ng-if="vm.formsAndPackets.length < 1 && !vm.loading">No Forms or Packets found</li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-fl-share-form/fl-share-form.html",'<div class="cmp-fl-share-form modal"> <button type="button" ng-click="go.cancel()" class="button flat modal-close" ss-icon-before="times"></button> <div class="title">Share Template</div> <div class="content"> <ul class="gd-row org"> <li class="gd-100p"> <super-org-search model="vm.org" label="Organization or ID" limit="1"></super-org-search> </li> </ul> <ul class="gd-row form-name"> <li class="gd-100p"> <super-input-text label="Form Template Name" name="formName" model="vm.formName"></super-input-text> </li> </ul> </div> <div class="modal-button"> <super-button label="Cancel" ng-click="go.cancel()" is-disabled="vm.saving"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" label="Share Template" ng-click="go.share()" is-disabled="!vm.org.length || !vm.formName.length || vm.saving" ss-icon="spinner"></super-button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-send-status/form-send-status.html",'<div class="cmp-form-send-status" ss-pending="vm.loading" ss-pending-status="\'{{vm.loadingMessage}}\'"> <div class="gd-row batch-status-wrapper"> <div class="batch-info-group"> <p><span ng-bind="vm.sendStatusText"></span>&nbsp;<span ng-if="!vm.hasFailures" ng-pluralize count="batch._includedEmployeeIds.length" when="{\'one\' : \'employee\', \'other\' : \'employees\'}"></span>&nbsp;|&nbsp;Sent by <span ng-bind="batch._creator.name"></span></p> <p class="status-helper-text" ng-if="vm.status._status !== 0" ng-bind-html="vm.statusHelperText"></p> </div> <div class="batch-progress-group"> <div class="batch-progress-wrapper"> <div class="progress-text"> <p ng-if="vm.status._status === 0" role="status">{{vm.numInBatch || 0}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;prepared</p> <p ng-if="vm.status._status !== 0" role="status">{{vm.numComplete}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;sent</p> </div> <div class="progress-bar-group"> <div class="progress-bar-container" ng-show="vm.inProgress"><div class="progress-bar" ng-style="{\'width\': vm.percentComplete, \'transition\': \'width 3s\'}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percentComplete}}" aria-label="batch progress bar"></div></div> <em class="progress-message" ng-show="!vm.inProgress"><span ng-class="[vm.progressMessageClass]" ng-bind="vm.progressMessage"></span></em> </div> </div> </div> </div> <button type="button" class="hide-batch-control" ng-if="vm.hasFailures" ng-click="go.archiveBatch()" ss-icon="times" aria-label="clear status message for {{form._name}}" title="clear status message for {{form._name}}"></button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-multiple-employee-search/multiple-employee-search.html",'<div class="cmp-multiple-employee-search"> <super-button ss-icon="users" smp ng-click="go.toggleFilter()" label="{{label}}" is-disabled="model.length > 0" data-qa="add-group-control"></super-button> <div class="multiple-employee-search" ng-class="{\'ss-menu-open\' : vm.formOpened}"> <div class="form-error" ng-if="!model.length && vm.attempted && !vm.filtering" role="alert"><p ss-icon="exclamation-circle">These parameters returned 0 results. Please update and try again.</p></div> <form ng-submit="go.add()"> <div class="form-header"> <h5>Define A Group <span class="effective-date-subheading">Employee information effective as of {{vm.asOf}}</span></h5> <button class="close fa-times-before" ss-icon="times" ng-click="go.toggleFilter()"></button> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-job-type"> <super-multi-filter-list label="With this Job Type" selected="vm.selected.jobType"> <super-multi-filter-list-item ng-repeat="jobType in vm.jobTypes | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-location"> <super-multi-filter-list label="At this Location" selected="vm.selected.location"> <super-multi-filter-list-item ng-repeat="location in vm.locations | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-employment-group"> <super-multi-filter-list label="In this Employment Group" selected="vm.selected.employmentGroup" is-disabled="vm.employmentGroupDisabled"> <super-multi-filter-list-item ng-repeat="group in vm.employmentGroups | orderBy:\'_name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-department"> <super-multi-filter-list label="In this Department" selected="vm.selected.department"> <super-multi-filter-list-item ng-repeat="department in vm.departments | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-status"> <super-multi-filter-list label="With this Status" selected="vm.selected.status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\' track by $index" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p"> <div class="main-label"> <label>Hired within this Date Range</label> </div> <super-input-datepicker class="gd-50p hireDateStart" options="" model="vm.selected.hireDateStart"></super-input-datepicker><span class="gd-5p">–</span> <super-input-datepicker id="hireEndDate" class="gd-45p hireDateEnd" options="vm.endDateOptions" model="vm.selected.hireDateEnd" is-disabled="vm.noStartDate"></super-input-datepicker> </div> </div> <div class="gd-row exclusions"> <div class="main-label"> <label>Exclude these Employees</label> </div> <div> <super-employee-search class="exclusions-search" model="exclusions" use-pill="true"></super-employee-search> </div> </div> <div class="gd-row actions-group"> <div class="gd-50p"> <button type="button" class="clear-all-btn" ng-click="go.clearAllFilters()">Clear All Filters</button> </div> <div class="gd-50p flr"> <super-button data-qa="auto-cancel" label="Cancel" ng-click="go.cancel()" class="close-button" ng-disabled="vm.filtering"></super-button> <super-button data-qa="auto-add-group" ng-if="!model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Add Group"></super-button> <super-button data-qa="auto-update-group" ng-if="model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Update Group"></super-button> </div> </div> </form> </div> <div> <div class="employee-group" ng-show="model.length > 0"> <span ss-icon="users"> <a ng-click="go.toggleFilter()">Employee Group&nbsp;(<span class="users-count" ng-bind="model.length" data-qa="group-total"></span>)</a> <button type="button" class="remove" ss-icon-after="times" ng-click="routeVm.removeGroup()"></button> </span> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-template-list-form/template-list-form.html",'<div class="cmp-template-list-form" ss-pending="template.isPending" ss-pending-status="vm.pendingMessage" ng-class="{\'highlight\': template.isHighlighted}"> <div class="template-details"> <div class="template-icon" ng-if="!template._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="template._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="/ec-formbuilder/form/{{template.id}}/preview?returnUrl=/ec-forms/" ng-bind="template._name"></a> </h3> <div class="form-meta" data-auto-due-date="{{ template._modifiedDt }}"> <ul class="ss-pipe-children"> <li ng-if="template._fromFrontlineLibrary" class="frontline-template" ss-icon="logo-frontline-small">Frontline</li><li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li><li class="form-meta-item" ng-if="template._steps.length"> Workflow (<span ng-bind="template._steps.length"></span> <ng-pluralize count="template._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow Steps</h6> <ul class="popover-step-list" ng-if="template._steps.length"> <li ng-repeat="step in template._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span><span ng-bind="step.stepActionLabel"></span> </li> </ul> <p ng-if="!template._steps.length">No Workflow Steps</p> </div> </super-popover> </li><li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li><li class="form-meta-item" ng-if="template._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status" ng-if="template.status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/FormTemplate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.edit(template)" ss-permitted="formTemplates.edit"></super-button> </li> <li class="template-action-list-item template-action-menu"> <super-button ss-icon-after="angle-down"> <item ng-click="go.preview(template)">Preview Form</item> <item ss-permitted="formTemplates.startForMyself" ng-if="template._isEmployeeInitiated && template.status === \'active\'" ng-click="go.sendToSelf(template)">Start Form (about myself)</item> <item class="menu-separator"></item> <item ng-click="go.edit(template)" ss-permitted="formTemplates.edit">Edit Template</item> <item ng-click="go.copy(template)" ss-permitted="formTemplates.create">Create Copy</item> <item ng-click="go.share()" ng-if="go.canShare(template)">Share Template</item> <item ng-if="template.status === \'active\'" ss-permitted="formTemplates.edit" ng-click="go.deactivate(template)">Deactivate Template</item> <item ng-click="go.archive(template)" ss-permitted="formTemplates.archive">Archive Template</item> <item ng-click="go.delete(template)" ss-permitted="formTemplates.delete">Delete Template</item> </super-button> </li> </ul> </div> </div> <cmp-fl-share-form ss-modal-view ng-if="vm.showShare" template="template"></cmp-fl-share-form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-two-column-list/two-column-list.html",'<div class="cmp-two-column-list gd-row"> <div class="gd-25p"> <h3 ng-bind="vm.label"></h3> <h3 ng-if="!vm.hasLabel">&nbsp;</h3> </div> <div class="gd-75p" ng-transclude></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-packet/template-list-packet.html",'<div class="cmp-template-list-packet"> <div class="template-details"> <div class="template-icon"><i ss-icon-before="li-packet-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a ng-bind="template._name" ng-click="go.toggleDetails(template)"></a> <small> - Packet</small> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li> <li class="form-meta-item" ng-if="template.packetCount">{{template.packetCount}}&nbsp; <ng-pluralize count="template.packetCount" when="{\'1\': \'form\', \'other\': \'forms\'}"></ng-pluralize> </li> <li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li> </ul> </div> <super-button smp class="details-toggle" label="{{template.detailsOpen === false ? \'Show\' : \'Hide\'}} Details" ss-icon-after="{{template.detailsOpen === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(template)"></super-button> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/Packet/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.editPacket(template)" ss-permitted="packets.edit"></super-button> </li> <li class="template-action-list-item template-action-menu" ng-if="template.status !== \'inactive\'" ss-permitted="packets.edit"> <super-button ss-icon-after="angle-down"> <item ng-click="go.editPacket(template)">Edit Packet</item> </super-button> </li> </ul> </div> </div> <div ng-if="template.detailsOpen" ss-pending="template.loading" class="packet-details"> <ul> <li class="packet-details-item" ng-if="template.contents.forms.length < 1 && !template.loading"> <p>No Forms are associated with this Package</p> </li> <li class="packet-details-item" ng-if="template.contents.forms.length > 0 && !template.loading" ng-repeat="form in template.contents.forms"> <div class="template-details"> <div class="template-icon" ng-if="!form._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="form._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="form-meta-item" ng-if="form._category.name.length > 0" ng-bind="form._category.name"></li> <li class="form-meta-item" ng-if="form._steps.length"> Workflow (<span ng-bind="form._steps.length"></span> <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span> <span ng-bind="step.stepActionLabel"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item"> <span>Modified {{form.modifiedText}}</span><span ng-if="form._modifier.name">&nbsp;by&nbsp;<span ng-bind="form._modifier.name"></span></span> </li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status template-status-packet"> <strong ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Edit" ng-click="go.editForm(form)" ss-permitted="formTemplates.edit"></super-button> </li> </ul> </div> </div> </li> </ul> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/inbox.html",'<route folder="/inbox"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/send.html",'<route folder="/send"> <div class="route-wrapper" ss-pending="routeVm.retryLoading" ss-pending-status="\'Please wait...\'"> <form ss-validate-form ng-submit="routeVm.go.send()" autocomplete="off"> <segment name="header"></segment> <segment name="content"></segment> </form> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/form-instance.html",'<route folder="/inbox/form-instance"> <div class="full-screen"> <header class="full-screen-header"> <segment name="close"></segment> <segment name="header"></segment> </header> <section class="full-screen-content"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <div class="gd-65p content"> <segment name="form"></segment> </div> <div class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps"></segment> </div> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="{{routeVm.PDFOverlayUrl}}"></iframe> </div> </div> </section> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-content/content.html",'<div class="segment-inbox-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-header/header.html",'<div class="segment-inbox-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-content/content.html",'<section class="segment-index-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length && !routeVm.loading" ng-repeat="template in routeVm.displayTemplates"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="vm.showInfScroll" infinite-scroll="loadNext()" infinite-scroll-distance="1" infinite-scroll-listen-for-event="list:filtered"></li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-content/content.html",'<div class="segment-send-content"> <section> <cmp-two-column-list label="FORM DETAILS"> <div class="gd-row gd-70p"> <div class="gd-35p form-sender"> <div class="label">Form Sender</div> <div ng-class="{\'pending\' : vm.loadingFormSender}" ng-bind="vm.resolvedFormSender" data-cy="form-sender"></div> </div> <div class="gd-35p form-administrator" ng-if="vm.isForm"> <div class="label">Form Administrator</div> <div ng-bind="vm.formAdministrator"></div> </div> </div> </cmp-two-column-list> </section> <section class="effective-dating"> <cmp-two-column-list label="EFFECTIVE DATE"> <div class="gd-row"> <div class="gd-70p"> <p class="effective-date-instruction">You can use an ‘as-of’ date to determine an employee’s information on a form.<br><em>Example: Employee information (assignment, etc.) for this form should be based on employee record data as of August 1.</em></p> <super-input-checkbox label="Select an effective date to determine employee information" model="vm.useEffectiveDating"></super-input-checkbox> <super-input-datepicker model="vm.asOf" is-disabled="!vm.useEffectiveDating"></super-input-datepicker> <super-button pos label="Export" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length" ng-click="go.export()" ss-pending="vm.exporting"></super-button> </div> </div> </cmp-two-column-list> </section> <section> <cmp-two-column-list label="EMPLOYEE(S)"> <div class="gd-row"> <div class="gd-70p"> <p>"Who" the form is about; information from their employee record will auto-populate certain form fields.</p> <super-employee-search placeholder="Add an employee by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single">Add an employee by name</super-employee-search> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of employees?"></cmp-multiple-employee-search> </div> </div> </cmp-two-column-list> </section> <section> <cmp-two-column-list label="DUE DATE FOR EMPLOYEE(S)"> <div class="gd-70p"> <p ng-if="vm.isForm">This date applies to the <em>Workflow Step </em>assigned to the Employee (whom the form is about). This is not a due date for the form as a whole.</p> <p ng-if="vm.isPacket">This date applies to the Workflow Step (in each form) assigned to Employee (whom the forms are about). This is not a due date for the packet as a whole.</p> <ul> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="false" label="No Due Date"></super-input-radio> </li> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="true" label="Employee submission due by"></super-input-radio> <super-input-datepicker name="submissionDueDate" options="vm.datePickerOptions" model="routeVm.postData.submissionDueDate" is-disabled="vm.hasSubmissionDueDate === \'false\'"></super-input-datepicker> </li> </ul> </div> </cmp-two-column-list> </section> <section ng-if="vm.isPacket"> <cmp-two-column-list label="PACKET EMAIL PREVIEW" class="packet-email-preview"> <div class="gd-70p"> <dl class="packet-email-meta"> <div> <dt>From:&nbsp;</dt> <dd>do-not-reply@frontlineed.com</dd> </div> <div> <dt>Subject:&nbsp;</dt> <dd ng-bind="vm.item._startupEmail.subject || \'A packet is ready for you\'"></dd> </div> </dl> <div class="message-preview-group"> <h5>EMAIL MESSAGE PREVIEW:</h5> <div class="message-container"> <p class="message-prefix" ng-bind="vm.item._startupEmail.notificationPrefix"></p> <div class="form-list-wrapper" ss-pending="vm.loadingPacket" ng-class="{\'add-height\' : vm.loadingPacket}"> <ul class="forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" ng-bind="form._name"></li> </ul> </div> <p class="message" ng-if="vm.item._startupEmail.useStartupEmail" ng-bind="vm.item._startupEmail.message"></p> <small class="message-suffix" ng-bind="vm.item._startupEmail.notificationSuffix"></small> </div> </div> </div> </cmp-two-column-list> </section> <section class="section" ng-if="vm.isForm"> <div class="gd-row"> <div class="gd-25p"> <h3><strong>Form Workflow & Notifications</strong></h3> </div> <div class="gd-75p details"> <ul class="gd-70p form-step-list"> <li class="form-step" ng-repeat="step in vm.item._steps track by $index"> <div class="form-step-group"> <h4 ng-if="!$last">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{::step._name}}</span></h4> <h4 ng-if="$last">Form & Workflow Complete Step</h4> </div> <div class="form-step-group" ng-if="!$last"> <dl class="form-step-meta"> <div> <dt>Step Participant</dt> <dd ng-class="{\'pending\' : step.loadingParticipant}" ng-bind="step.resolvedParticipant" data-cy="step-meta-step-participant"></dd> </div> <div> <dt>Step Action</dt> <dd data-cy="step-meta-step=-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> </div> <div class="form-step-group" ng-if="!$last"> <div class="message-preview-group"> <h5 class="message-header">EMAIL MESSAGE PREVIEW:</h5> <div class="message-container"> <p class="message-prefix" ng-bind="step._notificationPrefix"></p> <p ng-if="step._notificationBody" ng-bind="step._notificationBody"></p> <small class="message-suffix" ng-bind="step._notificationSuffix"></small> </div> </div> </div> <div class="form-step-group" ng-if="!$last && step._stepParticipant.participantType === vm.recipient && vm.hasSubmissionDueDate && routeVm.postData.submissionDueDate != null"> <p class="gd-100p due-date" ss-icon="calendar-o">This step due on {{routeVm.postData.submissionDueDate | date:\'MM/dd/yyyy\'}}</p> </div> <div class="form-step-group" ng-if="$last"> <p>Sender will be notified</p> </div> </li> </ul> </div> </div> </section> <section class="gd-row packet-detail-preview" ng-if="vm.isPacket" data-qa="forms-in-packet"> <div class="gd-25p"> <h3><strong>packet detail review </strong><em>"Form Complete" emails to sender are suppressed for forms in packets.</em></h3> </div> <div class="gd-75p packet-detail-preview-wrapper" ss-pending="vm.loadingPacket" ss-pending-status="\'loading packet...\'"> <ul class="gd-70p forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" data-qa="form-{{ form.id }}"> <h4><a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item">Workflow ({{form.steps.length}} Steps) <super-popover> <div> <h6>Workflow <ng-pluralize count="form.steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} <span ng-if="form._modifier.name">by {{form._modifier.name}}</span></li> </ul> </li> <li class="forms-list-item final-step" ng-if="!vm.loadingPacket"> <h4>Packet Complete</h4> <p>Sender will be notified</p> </li> </ul> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-header/header.html",'<div class="segment-send-header gd-row"> <div class="batch-status-group ss-panel"> <ul class="batch-list" ng-style="vm.batchStyles"> <li class="batch-list-item" ng-repeat="batch in vm.batches"> <cmp-form-send-status org="routeVm.org" form="vm.item" batch="batch" on-complete="go.removeBatch(batch)" data-qa="batch-list-item"></cmp-form-send-status> </li> </ul> </div> <div class="send-control-group"> <div class="form-control-title gd-70p"> <h2 class="form-title" ng-bind="vm.item._name" data-qa="form-name-page-title"></h2> </div> <div class="form-control-actions"> <super-button pri label="Preview Form &amp; Workflow" ng-click="go.preview(vm.item)" ng-if="vm.isForm" data-qa="form-preview-button"></super-button> <super-button pos label="{{vm.isPacket?\'Send Packet\':\'Send Form\'}}" type="submit" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length || vm.isSending" ss-pending="vm.sending" data-qa="send-form-button"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-attachments/attachments.html",'<section class="segment-inbox-form-instance-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content" ss-pending="vm.loading"> <div class="pad-12"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p class="" ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-close/close.html",'<div class="segment-inbox-form-instance-close"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="close"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" ng-if="!routeVm.hasPDFOverlay || !routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-header/header.html",'<div class="segment-inbox-form-instance-header"> <div class="gd-row form-header-wrapper"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" disabled="vm.loading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="Overlay" smp></super-button> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/inbox/form-instance/segment-form/form.html",'<div class="segment-inbox-form-instance-form" ss-pending="vm.loading"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)"> <ul class="fb-steps"> <li class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}"> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </div> <ul class="fb-fields"> <li class="fb-field" ng-repeat="group in step.fieldGroups" ng-click="go.fieldGroupSettings($event, group)"> <cmp-field-group-renderer group="group" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" org="routeVm.org"></cmp-field-group-renderer> </li> </ul> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pos label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </div> </fieldset> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </div> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update <br>Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step._stepAction === vm.employeeProfileReview && routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </div> </fieldset> </li> <li class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <div class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </div> <ul class="fb-fields"> <li class="fb-field">Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</li> </ul> </li> </ul> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-steps/steps.html",'<section class="segment-inbox-form-instance-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content" ss-pending="vm.loading"> <ul class="fb-steps-summary" ng-if="!vm.loading && vm.steps.length"> <li class="fb-summary-step" ng-class="{\n\t\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)"> <h4 class="step-heading">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStep === step" ng-cloak> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </li> <li class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </li> </ul> </main> </section> ')}])}()},{}],25:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1},s={url:"/inbox/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/inbox/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssEmployeeApi","$sce","enumFormStatus",function(e,t,n,r,s,o,a){return i.formInstance=null,i.formTemplate=null,i.hasPDFOverlay=i.showPDFOverlay=!1,t(regeneratorRuntime.mark(function t(){var l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formInstanceId,include:"steps"});case 3:return i.formInstance=t.sent,t.next=6,r.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 6:if(i.formTemplate=t.sent,i.employeePromise=s.get({id:i.formInstance._employee.employeeId,asOfUtc:i.formInstance._asOf,include:"addresses,assignments,emails,emergencyContacts,files,formInstances,jobTypes,paySchedules,phoneNumbers,positions,statusHistory,supervisors",modelStateUtc:i.formInstance._createdUtc},null,!1),i.formInstance._statusId!==a.complete&&i.formInstance._statusId!==a.archived){t.next=15;break}if(!i.formTemplate._printPreviewDefinition||null==i.formTemplate._printPreviewDefinition.templateFileId){t.next=15;break}return t.next=12,n.postFormOverlay({formInstanceid:i.formInstance.id,showSensitive:!1});case 12:l=t.sent,i.PDFOverlayUrl=o.trustAsResourceUrl(l._string),i.hasPDFOverlay=i.showPDFOverlay=!0;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.error("Error getting form data",t.t0);case 20:case"end":return t.stop()}},t,this,[[0,17]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.inboxFormInstance",new r.State(s,i))}])},{"base-state":17}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,s){var o=t.routeVm,a=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.formTemplate._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,s.getFiles({},{ids:t});case 4:n=e.sent,a.files=n.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error getting file records",e.t0);case 11:return e.prev=11,a.loading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":16}],27:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceAttachmentsLogic",r)},{}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$window","$location","rAF","ssAsync","ssToastHlp","ssModalSvc","ssDateHlp","enumFormStatus","ssEnum","ssActiveUserSvc","$q",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f){var g=t.routeVm,y=(e.get("segmentInboxFormInstanceCloseLogic"),t.vm={fromView:n.params.from||"",firstSave:g.formTemplate._isEmployeeInitiated&&p.isForeverPast(g.formInstance._changedUtc),formIsComplete:g.formInstance._statusId===u.complete||g.formInstance._statusId===u.archived,deleting:!1});t.go={save:function(){if(y.firstSave){var e={title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1};c.showStandard(e)}a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.loading=!0,e.prev=1,e.delegateYield(regeneratorRuntime.mark(function e(){var n,r,i,s,o,a,l,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],g.formInstance.currentStep._stepAction===m.stepAction.employeeProfileReview&&(r=g.formInstance._steps.find(function(e){return e._stepAction===m.stepAction.employeeProfileReview}),n=r._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),r._employeeProfileReviewStepFieldValues=r._employeeProfileReviewStepFieldValues.slice()),e.next=4,g.formInstance.$save(!1,!0,!1);case 4:i=!0,s=!1,o=void 0,e.prev=7,a=g.formInstance._steps[Symbol.iterator]();case 9:if(i=(l=a.next()).done){e.next=25;break}if(c=l.value,!c.disabled){e.next=13;break}return e.abrupt("continue",22);case 13:return e.prev=13,e.next=16,c.$save();case 16:p=e.sent,p._stepAction===m.stepAction.employeeProfileReview&&(p._employeeProfileReviewStepFieldValues=p._employeeProfileReviewStepFieldValues.map(function(e){var t=n.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=t.sourceField,e})),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(13);case 22:i=!0,e.next=9;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(7),s=!0,o=e.t1;case 31:e.prev=31,e.prev=32,!i&&a.return&&a.return();case 34:if(e.prev=34,!s){e.next=37;break}throw o;case 37:return e.finish(34);case 38:return e.finish(31);case 39:case"end":return e.stop()}},e,t,[[7,27,31,39],[13,20],[32,,34,38]])})(),"t0",3);case 3:e.next=7;break;case 5:e.prev=5,e.t1=e.catch(1);case 7:return e.prev=7,y.loading=!1,y.firstSave&&(y.firstSave=!1),l.success("","Progress Saved",!1),e.finish(7);case 12:case"end":return e.stop()}},e,this,[[1,5,7,12]])}))()},close:function(){var e=r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=d.getEmployeeSync().id;return g.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}();s.url(e)},print:function(){o(function(){return i.print()},t)},showDelete:function(){var e=g.formInstance._currentStepId===g.formTemplate._stepOrder.split(",")[0];return g.formTemplate._isEmployeeInitiated&&e},deleteForm:function(){y.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};c.showDestructive(e).then(function(){a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.formInstance.$remove();case 3:l.success("",'"'+g.formTemplate._name+'" has been deleted'),n.go("base.inbox",{},{reload:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.error("",'Error deleting form "'+g.formTemplate._name+'"');case 10:return e.prev=10,y.deleting=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}))()}).catch(function(){y.deleting=!1})}}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceClose",function(){return new l("close")})},{"base-segment":16}],29:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceCloseLogic",r)},{}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssJobTypesApi","ssAsync","ssEventSvc","ssFormInstancesApi","ssAssignmentApi","ssEnum","ssActiveUserSvc","fieldsHlp","ssToastHlp","ssListSvc","ssEmployeeAssignmentHlp","ssSaveInterrupterSvc","ssModalSvc","ssPermissionsSvc","ssDateByOrgHlp","formsHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g,y,h,v,b,_,w,T,x,O){function P(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=g.getEmployeeSync().id;return F.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}function S(e){p(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:R.loading=!0,e._stepAction===f.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.reviewWidth,delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){F.formInstance._statusId===f.formStatus.rejected?m.updateStatus({id:F.formInstance.id,newStatus:0}).then(function(){k(e)}):k(e)}).catch(function(e){R.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function k(e){m.post({id:F.formInstance.id,event:R.submissionEvent,stepId:e.id}).then(function(){D().then(function(e){h.success("","form step "+$,!1)}).catch(function(){h.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(P())})}).catch(function(e){})}function D(){function e(){if(++r===n)return void t.reject();p(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.get({id:F.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),R.loading=!1):o(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=a.defer(),n=24,r=0;return e(),t.promise}function A(e){O.sortByOrderField(F.formTemplate._steps,F.formTemplate._stepOrder),F.formTemplate._steps.forEach(function(n,r,s){n.instance=F.formInstance._steps.find(function(e){return e._formTemplateStepId===n.id}),null!=n.instance&&n._stepAction!==f.stepAction.formCompleted&&(C[n.instance.id]=n.instance,y.bindConfigObject(t,"stepValues['"+n.instance.id+"']._formFieldValues","stepValues['"+n.instance.id+"'].formFieldValues"),"string"==typeof n.instance._formFieldValues&&0!==n.instance._formFieldValues.length||(n.instance._formFieldValues="{}"),null==n.instance._lastModifiedDtUtc&&n.instance.$$forceChangedState("formFieldValues"),F.formInstance._currentStepId===n.id&&(R.selectedStep=n,R.selectedStep.currentStep=!0,i(function(){u.emit("form-instance.entry.step-clicked",n.id)},!1)),F.formTemplate._formFields.length&&(n.fields=F.formTemplate._formFields.filter(function(e){return e._step.id===n.id}),O.sortByOrderField(n.fields,n._fieldOrder),n=I.processStep({employee:R.employee,tStep:n,formInstance:F.formInstance,activeUser:e,org:F.org}),n._stepAction===f.stepAction.employeeProfileReview&&n.instance._employeeProfileReviewStepFieldValues.forEach(function(e,n){var i=F.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),e.sourceField.reviewWidth="100%",R.cachedSourceFields[n]=i,t.$watch("vm.cachedSourceFields["+n+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+r+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+n+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),R.steps.push(n)))}),F.formInstance.$$resetChangesDetected(),F.formInstance._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),_.register(F.formInstance)}function j(e,t){return p(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.getAssignment({id:e,assignmentId:t,include:"details",modelStateUtc:F.formInstance._createdUtc});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n,this)}))()}var F=t.routeVm,E=T.isPermittedAction("assignments","view"),I=e.get("segmentInboxFormInstanceFormLogic"),C=t.stepValues={},R=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:f.stepAction.employeeProfileReview,formComplete:f.formStatus.complete,cachedSourceFields:{}},$="";t.go={selectFormObject:function(e,n){R.selectedStep=n,u.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return R.steps.indexOf(e)>R.steps.indexOf(t)},submitForm:function(e){var t=R.steps.findIndex(function(e){return e.currentStep}),n=R.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void S(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===R.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),w.showStandard(r).then(function(){S(e)})},submitStep:function(e){R.submissionEvent="submitStep",$="submitted",R.selectedStep=e},acknowledgeStep:function(e){R.submissionEvent="reviewForm",$="acknowledged",R.selectedStep=e},approveStep:function(e){R.submissionEvent="approveForm",$="approved",R.selectedStep=e},denyStep:function(e){R.submissionEvent="declineForm",$="denied",R.selectedStep=e},reviewProfile:function(e){R.submissionEvent="profileReviewed",$="submitted",R.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};p(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R.loading=!0,t=void 0,e.prev=2,e.next=5,g.getEmployee().catch(function(e){return a.resolve({id:-1,idmAdministrator:!0})});case 5:return t=e.sent,e.next=8,F.employeePromise;case 8:if(R.employee=e.sent,R.employee._sSN=I.formatSsn(R.employee._sSN),null==R.employee._retirementSystem||null==R.employee._retirementSystem.id){e.next=13;break}return e.next=13,v.getByExternalId("employee.retirementsystems").then(function(e){R.employee.retirementSystem=e.find(function(e){return e.value===R.employee._retirementSystem.id})});case 13:if(!E){e.next=22;break}return R.employee.primaryPosition=null,R.employee.primaryAssignment=b.getPrimaryAssignment(R.employee,F.formInstance,F.org),R.employee.primaryAssignment&&(R.employee.primaryPosition=R.employee._positions.find(function(e){return e.id===R.employee.primaryAssignment._positionId})),R.employee.earliestOtherAssignment=b.getEarliestOtherAssignment(R.employee,F.formInstance,F.org),R.employee.earliestOtherPosition=null,R.employee.earliestOtherAssignment&&(R.employee.earliestOtherPosition=R.employee._positions.find(function(e){return e.id===R.employee.earliestOtherAssignment._positionId})),e.next=22,v.getByExternalId("position.types").then(function(e){null!=R.employee.primaryPosition&&(R.employee.primaryPosition.name=v.mapName(R.employee.primaryPosition._name,e)),null!=R.employee.earliestOtherPosition&&(R.employee.earliestOtherPosition.name=v.mapName(R.employee.earliestOtherPosition._name,e))});case 22:if(!E||!R.employee.primaryPosition){e.next=25;break}return e.next=25,j(R.employee.primaryPosition.id,R.employee.primaryAssignment.id).then(function(e){return p(regeneratorRuntime.mark(function t(){var n,r,i,s,o,a,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$permitted.props.details.view,r=e.initialDetails=e._details.find(function(t){return t.id===e._currentDetailsId}),n||(R.employee.primaryPosition.jobType._currentJobTypeDetail=null),!n||!r){t.next=16;break}if(i=R.employee.primaryPosition._jobType.id,!T.isPermittedAction("jobTypes","view")){t.next=16;break}return t.prev=6,t.next=9,c.get({id:i,include:"JobTypeDetails,PaySchedules",modelStateUtc:F.formInstance._createdUtc},null,!1);case 9:e.jobType=t.sent,null!=e.jobType&&(s=e.jobType._jobTypeDetails.find(function(e){return x.isCurrent({obj:e,asOfDate:F.formInstance._asOf,org:F.org})}),o=e.jobType._paySchedules.find(function(e){return x.isCurrent({obj:e,asOfDate:F.formInstance._asOf,org:F.org})}),R.employee.primaryPosition.jobType.paySchedule.name=o._name,a=b.jobTypeValuesForAssignment({paySchedule:o,jobTypeDetails:s,assignmentDetails:r}),R.employee.primaryAssignment.currentDetails=a,l=R.employee.payLane=o._payLanes[a._payLane],l&&(R.employee.payStep=l.paySteps[a._payStep]),p=I.calculateSalaryAndPayPerPeriod(o,s,r),R.employee.salary=p.salary,R.employee.payPerPeriod=p.payPerPeriod),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(6),t.t0;case 16:case"end":return t.stop()}},t,this,[[6,13]])}))()});case 25:if(!E||!R.employee.earliestOtherPosition){e.next=28;break}return e.next=28,j(R.employee.earliestOtherPosition.id,R.employee.earliestOtherAssignment.id).then(function(e){return p(regeneratorRuntime.mark(function t(){var n,r,i,s,o,a,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$permitted.props.details.view,r=e.initialDetails=e._details.find(function(t){return t.id===e._currentDetailsId}),n||(R.employee.earliestOtherPosition.jobType._currentJobTypeDetail=null),!n||!r){t.next=16;break}if(i=R.employee.earliestOtherPosition._jobType.id,!T.isPermittedAction("jobTypes","view")){t.next=16;break}return t.prev=6,t.next=9,c.get({id:i,include:"JobTypeDetails,PaySchedules",modelStateUtc:F.formInstance._createdUtc},null,!1);case 9:e.jobType=t.sent,null!=e.jobType&&(s=e.jobType._jobTypeDetails.find(function(e){return x.isCurrent({obj:e,asOfDate:F.formInstance._asOf,org:F.org})}),o=e.jobType._paySchedules.find(function(e){return x.isCurrent({obj:e,asOfDate:F.formInstance._asOf,org:F.org})}),R.employee.earliestOtherPosition.jobType.paySchedule.name=o._name,a=b.jobTypeValuesForAssignment({paySchedule:o,jobTypeDetails:s,assignmentDetails:r}),R.employee.earliestOtherAssignment.currentDetails=a,l=R.employee.otherPayLane=o._payLanes[a._payLane],l&&(R.employee.otherPayStep=l.paySteps[a._payStep]),p=I.calculateSalaryAndPayPerPeriod(o,s,r),R.employee.otherSalary=p.salary,R.employee.otherPayPerPeriod=p.payPerPeriod),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(6),t.t0;case 16:case"end":return t.stop()}},t,this,[[6,13]])}))()});case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(2);case 32:return e.prev=32,A(t),R.loading=!1,e.finish(32);case 36:case"end":return e.stop()}},e,this,[[2,30,32,36]])}))(),u.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=R.steps.find(function(t){return t.id===e}),r=R.steps.findIndex(function(t){return t.id===e});if(null==n)return void(R.selectedStep=0);R.selectedStep=n,t&&s("fb-step-"+r)},t)}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceForm",function(){return new l("form")})},{"base-segment":16}],31:[function(e,t,n){"use strict";function r(e,t,n,r,i,s,o,a){function l(e){var t=e.employee,r=e.tStep,i=e.formInstance,s=e.activeUser,o=Object.assign({},r);h=i._statusId===n.complete;var a=o.instance._meta.permissions.permittedActions.edit;return o.editMode=!0,o.disabled=!1,a||(o.editMode=!1,o.disabled=!0),h&&(o.editMode=!1,o.disabled=!1),o.instance.editMode=o.editMode,o.instance.disabled=o.disabled,o=c({tStep:o}),p({employee:t,step:o,activeUser:s}),o.fieldGroups=u(o),o}function c(e){var t=e.tStep,n=!1,r=!1,s=!1,o=!1;return!t.currentStep&&t.disabled||h||(n=t._stepAction===i.formEntry,r=t._stepAction===i.reviewForm,s=t._stepAction===i.reviewApproveOrDeny,o=t._stepAction===i.employeeProfileReview),Object.assign({},t,{showFormEntry:n,showReviewForm:r,showReviewApproveOrDeny:s,showEmployeeProfileReview:o})}function p(e){var n=e.employee,r=e.step,i=e.activeUser,s=r.fields.filter(function(e){return"heading"!==e._fieldType&&"instructions"!==e._fieldType&&"readOnlyHeading"!==e._fieldType}),o=y(s,"_fieldGroup");Object.keys(o).forEach(function(e){if("null"!==e&&o[e].length){var t=null,n=o[e][0];if(n&&n._fieldGroup.length){var r=n._fieldGroup.indexOf("-")>0?n._fieldGroup.indexOf("-"):n._fieldGroup.length,i=n._fieldGroup.substring(0,r);t=a.getFields(i,n._configJson.cmp)}o[e].forEach(function(e){var n=t.find(function(t){return e._externalData&&t._externalData?e._label===t._label&&e._externalData===t._externalData:e._label===t._label});n&&!e._fieldTypeOptions&&n._fieldTypeOptions&&(e._fieldTypeOptions=n._fieldTypeOptions)})}}),r.fields.forEach(function(e){if(e.primaryParticipant=n,e.editMode=r.editMode,e.disabled=r.disabled,"super-select-list"===e._fieldType||e._fieldTypeOptions&&"readOnlyText"===e._fieldTypeOptions.view){var s=JSON.parse(e._configJson);null!=s.externalSource&&null!=t[s.externalSource]&&(e.externalSourceOptions=t[s.externalSource].enums)}else if("super-digital-signature"===e._fieldType){e.onBehalf=!1;try{e.onBehalf=!(e.step._stepParticipant&&(e.step._stepParticipant.employeeIds[0]===i.id||i.idmAdministrator))}catch(e){}}e._sensitive&&(h||(e.editMode=r.instance._meta.permissions.permittedActions.editSensitive),e.sensitiveRedacted=!r.instance._meta.permissions.permittedActions.viewSensitive)})}function u(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function m(e,t,n){var r=s.jobTypeValuesForAssignment({paySchedule:e,jobTypeDetails:t,assignmentDetails:n}),i=r._jobTypeValuesForAssignmentAreValid;if(o.isValidPS(e)||i){var a=void 0
;a=s.getPayRate?s.getPayRate({paySchedule:e,currentDetails:n}):s.calculatePayRate({paySchedule:e,currentDetails:n});var l=n._payRate||a,c=r._payRateFrequency,p=s.calculateAnnualSalary({payRateFrequency:c,payRate:l,hoursPerDay:r._hoursPerDay,workDaysPerYear:r._workDaysPerYear}),u=s.calculatePayPerPeriod({calculatedSalary:p,payPeriodsPerYear:r._payPeriodsPerYear});return{salary:f({calculatedSalary:p,foundPayRate:a,validPayRate:l,payRateFrequency:c}),payPerPeriod:u}}return{salary:n._payRate,payPerPeriod:null}}function d(e){if(null==e)return null;var t=/^(\d{3})\s?\-?\s?(\d{2})\s?\-?\s?(\d{4})$/;return e.trim().replace(t,"$1-$2-$3")}function f(e){var t=e.calculatedSalary,n=(e.foundPayRate,e.validPayRate);return e.payRateFrequency===r.hourly?n:t}function g(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}function y(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}var h=!1;return{processStep:l,calculateSalaryAndPayPerPeriod:m,formatSsn:d,mapName:g}}r.$inject=["$filter","ssEnum","enumFormStatus","enumPayRateFrequency","enumStepAction","ssEmployeeAssignmentHlp","ssJobTypeHlp","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceFormLogic",r)},{}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","moment","ssOrganizationSvc","ssDateByOrgHlp","ssFormInstancesApi","$sce",function(e,t,n,r,i,s,o,a){var l=t.routeVm,c=(e.get("segmentInboxFormInstanceHeaderLogic"),null),p=t.vm={hasSensitiveFields:!1};t.go={toggleFormView:function(e){l.showPDFOverlay=e},toggleSensitiveFields:function(e){c.forEach(function(t){t.overrideVisibility=!e}),l.hasPDFOverlay&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.postFormOverlay({formInstanceid:l.formInstance.id,showSensitive:e});case 2:n=t.sent,l.PDFOverlayUrl=a.trustAsResourceUrl(n._string);case 4:case"end":return t.stop()}},t,this)}))()}};n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.utcIsoToRelativeMoment(l.formInstance._createdUtc,l.org),l.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c=l.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),c.forEach(function(e){e.overrideVisibility=!0}),n=l.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),p.hasSensitiveFields=!!c.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceHeader",function(){return new l("header")})},{"base-segment":16}],33:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceHeaderLogic",r)},{}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,s){var o=t.routeVm,a=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(o.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{s.sortByOrderField(l.steps,o.formTemplate._stepOrder);var c=a.buildParticipantList(o.formInstance._steps);l.steps.forEach(function(e){e.instance=o.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=a.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return a.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceSteps",function(){return new l("steps")})},{"base-segment":16}],35:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function r(e){var t=e._permissions.find(function(t){return i(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function i(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:n,getPermissionLabel:r,matchByParticipants:i}}r.$inject=["ssEnum","enumStepParticipantType"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceStepsLogic",r)},{}],36:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/inbox",templateUrl:"routes/inbox/inbox.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.inbox",new r.State(s,i))}])},{"base-state":17}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,s,o,a,l,c,p){function u(){var e=n.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var m=t.routeVm,d=(e.get("segmentInboxContentLogic"),null),f=t.vm={selectedFilter:"current"},g=t.go={filter:function(e){f.selectedFilter=e},getCurrentForms:function(){var e={id:d,include:"steps","filter[search]":m.search};return null!==u()&&(e.resolvemethod=u()),{api:o.queryCurrent,config:e}},getSentForms:function(){return{api:o.querySubmitted,config:{id:d,include:"steps","filter[search]":m.search}}},getCompletedForms:function(){return{api:o.query,config:{id:d,include:"steps","filter[status]":r.formStatus.complete,"filter[search]":m.search}}},getInitiatedForms:function(){return{api:a.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":m.search}}}};i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,s.getIdentityByType("employee");case 4:d=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:"EmployeeInitiated"===l.load("inboxDefaultTab")&&(g.filter("initiate"),l.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),p.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxContent",function(){return new l("content")})},{"base-segment":16}],38:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxContentLogic",r)},{}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentInboxHeaderLogic"),t.vm={};n.search=""}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxHeader",function(){return new l("header")})},{"base-segment":16}],40:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxHeaderLogic",r)},{}],41:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.index",new r.State(s,i))}])},{"base-state":17}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$filter","ssAsync","ssFormLibraryApi","ssPacketsApi","ssListSvc","ssEnum","enumFormTemplateStatus","ssDateByOrgHlp",function(e,t,n,r,i,s,o,a,l,c){function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e&&(f.loading=!0,f.loadingMessage="Loading Form Templates"),h=[],null!=y&&y.$abort(),y=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,f.categories){t.next=5;break}return t.next=4,o.getByExternalId("form.categories");case 4:f.categories=t.sent;case 5:return t.next=7,i.query();case 7:h=t.sent,u(h),d(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("error retrieving forms",t.t0);case 15:return t.prev=15,e&&(f.loading=!1,f.loadingMessage=null),y=null,t.finish(15);case 19:case"end":return t.stop()}},t,this,[[0,12,15,19]])}))()}function u(e){return e.forEach(function(e){e.isForm="FormTemplate"===e._objectType,e.isPacket="Packet"===e._objectType,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),f.extendCommonProps(e)}),e}function m(e){var t,n="";return null==e?"":(t=f.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function d(){var e=n("filter")(h,{searchText:g.search}).filter(function(e){return"All"===g.selectedCategory||(null!=e._category&&null!=e._category.id?e._category.id===g.selectedCategory:void 0)}).filter(function(e){return"All"===g.selectedStatus||(null!=e.status?l.byName(e.status)===g.selectedStatus:void 0)}),r="nameAsc"===g.sortBy?"_name":"_modifiedDt",i="_modifiedDt"===g.sortBy;t.filteredFormTemplates=n("orderBy")(e,r,i),f.displayTemplates=t.filteredFormTemplates}var f=t.routeVm,g=(e.get("segmentIndexContentLogic"),f.vm=t.vm={sortCriteria:[{value:"_modifiedDt",label:"Recently Modified"},{value:"nameAsc",label:"Template Name A-Z"}],statuses:l.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:"",sortBy:"_modifiedDt"}),y=null,h=[];f.displayTemplates=[],p(),f.loadFormTemplates=p,t.loadNext=function(){var e=Math.min(f.displayTemplates.length+10,t.filteredFormTemplates.length);f.displayTemplates=t.filteredFormTemplates.slice(0,e),g.showInfScroll=f.displayTemplates.length<t.filteredFormTemplates.length},f.extendCommonProps=function(e){var t=c.utcIsoToRelativeMoment(e._modifiedDt,f.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=m(e._category.id)),e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":a.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":a.stepAction.byValue(e._stepAction)}))},t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus","vm.sortBy"],function(e,t){e!==t&&d()}),t.$watch("filteredFormTemplates",function(e,n){null!=e&&t.$emit("list:filtered")})}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentIndexContent",function(){return new l("content")})},{"base-segment":16}],43:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexContentLogic",r)},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,s,o,a,l){t.routeVm,e.get("segmentIndexHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},u=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?s:o;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-formbuilder/"+p.form.instanceType+"/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,u.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,u.reset()}},m=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?m.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):m,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentIndexHeader",function(){return new l("header")})},{"base-segment":16}],45:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexHeaderLogic",r)},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$rootScope","$window","ssAsync","ssActiveUserSvc","ssEmployeeApi","ssFormTemplatesApi","enumStepParticipantType","enumFormAdministratorType","enumStepAction","ssStorage","moment","ssDateByOrgHlp","formsHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f){function g(e){e.forEach(function(e){e._stepParticipant.participantType===l.specificPerson&&e._stepParticipant.employeeIds.length?(e.loadingParticipant=!0,e.resolvedParticipant="loading participant",o.get({id:e._stepParticipant.employeeIds[0],fields:"firstname,lastname"}).then(function(t){e.resolvedParticipant=t.fullName,e.loadingParticipant=!1})):e.resolvedParticipant=l.byValue(e._stepParticipant.participantType)})}function y(e){var t=e.type,n=e.recipients;_[t]=n,u.save(b,_)}var h=t.routeVm,v=(e.get("segmentSendContentLogic"),{individual:0,group:1});h.postData={isPacket:"packet"===h.templateType.toLowerCase(),isForm:"formtemplate"===h.templateType.toLowerCase(),recipients:[],bulkRecipients:[],exclusions:[],submissionDueDate:null,asOf:null};var b,_,w=t.vm={loadingFormSender:!0,resolvedFormSender:"loading form sender",useEffectiveDating:!1,asOf:null,recipient:l.recipientChosenWhenSent,hasSubmissionDueDate:"false",isPacket:"Packet"===h.templateType,isForm:"FormTemplate"===h.templateType,item:h.data,datePickerOptions:{minDate:new Date},selectedFilter:"sendDetails",exporting:!1};t.go={export:function(){i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.exporting=!0,t=h.postData.recipients.map(function(e){return e.id}).concat(h.postData.bulkRecipients.map(function(e){return e.id})).filter(function(e,t,n){return n.indexOf(e)===t}),n={organizationId:h.org.id,include:"statusHistory,employmentHistory,addresses,phoneNumbers,emails,emergencyContacts,positions,assignments,locations,jobtypes,payschedules,supervisors"},w.useEffectiveDating&&null!=w.asOf?n.asOfTimeUtc=d.safeAsOfDateRelativeTo(m(w.asOf).startOf("day"),h.org):n.asOfTimeUtc=d.safeAsOfDateRelativeTo(m().startOf("day"),h.org),e.next=6,o.exportEmployeesById(n,{ids:t});case 6:i=e.sent,r.open(i._string,"_blank",""),w.exporting=!1;case 9:case"end":return e.stop()}},e,this)}))()}};!function(){try{b=h.org.id+"_template_"+h.data.id,_=u.load(b),null==_?_={}:(h.postData.recipients=_[v.individual]||[],h.postData.bulkRecipients=_[v.group]||[]),t.$root.isPermitted.activeUser.idmAdministrator?w.resolvedFormSender="You (IDM Administrator)":i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getIdentityByType("employee");case 2:return t=e.sent,e.next=5,o.get({id:t,fields:"id,firstname,lastname"});case 5:n=e.sent,w.resolvedFormSender="You ("+n.fullName+")",w.loadingFormSender=!1;case 8:case"end":return e.stop()}},e,this)}))(),w.isForm?(f.sortByOrderField(w.item._steps,w.item._stepOrder),g(w.item._steps),3===w.item._formAdministrator.formAdministratorType?i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get({id:w.item._formAdministrator.employeeId,fields:"id,firstname,lastname"});case 2:t=e.sent,w.formAdministrator=t.fullName;case 4:case"end":return e.stop()}},e,this)}))():w.formAdministrator=c.byValue(w.item._formAdministrator.formAdministratorType)||"None"):w.isPacket&&i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.item._formTemplateIds&&(w.loadingPacket=!0,t=w.item._formTemplateIds.toString(),a.formTemplatesByIds(w.item._formTemplateIds,{include:"steps"}).then(function(e){f.sortByOrderField(e,t),w.item.forms=e,w.item.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==p.formCompleted}),f.sortByOrderField(e.steps,e._stepOrder)}),w.loadingPacket=!1}).catch(function(e){w.loadingPacket=!1}));case 1:case"end":return e.stop()}},e,this)}))()}catch(e){}}(),t.$watch("vm.hasSubmissionDueDate",function(e,t){e!==t&&null!=e&&"false"===e&&(h.postData.submissionDueDate="")}),n.$on("$stateChangeStart",function(e){y({type:v.individual,recipients:h.postData.recipients}),y({type:v.group,recipients:h.postData.bulkRecipients})}),r.addEventListener("beforeunload",function(){y({type:v.individual,recipients:h.postData.recipients}),y({type:v.group,recipients:h.postData.bulkRecipients})},{capture:!0}),t.$on("destroy",t.$watch("vm.useEffectiveDating",function(e,t){e!==t&&(e&&w.asOf?(h.postData.asOf=w.asOf,n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})):(h.postData.asOf=null,w.asOf="",n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})))})),t.$on("destroy",t.$watch("vm.asOf",function(e,t){e!==t&&(n.$broadcast("parentAsOfDate-Change",{asOf:e}),h.postData.asOf=e)}))}]},{key:"link",value:function(e,t,n){e.$watch("routeVm.postData.recipients.length",function(n,r){e.$emit("ss-validate-field-event",t.find("input").eq(0),"ss-validate-array-field")})}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentSendContent",function(){return new l("content")})},{"base-segment":16}],47:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentSendContentLogic",r)},{}],48:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssFormInstancesApi","ssStatusApi","ssActiveUserSvc","ssToastHlp","ssStorage","ssArrayHlp","ssModalSvc","$location","$q","enumFormTemplateStatus","ssDateByOrgHlp","ssOrganizationSvc",function(e,t,n,i,s,o,a,l,c,p,u,m,d,f,g){var y,h,v=t.routeVm,b=e.get("segmentSendHeaderLogic"),_=t.vm={isPacket:"packet"===v.templateType.toLowerCase(),isForm:"formtemplate"===v.templateType.toLowerCase(),isSending:!1,item:v.data,batches:[],batchStyles:{}},w=(_.isPacket,t.go={preview:b.preview,send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(_.item._isEmployeeInitiated&&1===_.item._formAdministrator.formAdministratorType)return void a.error("An Employee-Initiated form cannot be started when the sender of the form is also the Form Administrator.","",!1);if(_.item._formAdministrator&&(!_.item._formAdministrator.formAdministratorType||_.item._formAdministrator.formAdministratorType<=0))p.showDestructive({title:"Form Administrator Required",content:"You must select a form administrator before sending this form.",primaryText:"Edit",secondaryText:"Cancel"}).then(function(){n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.update({id:_.item.id},{statusId:d.inactive});case 2:u.url("/ec-formbuilder/form/"+_.item.id+"/settings");case 3:case"end":return e.stop()}},e,this)}))()});else{var g={};_.isSending=!0;var w=[].concat(r(e),r(o)),T=[].concat(r(m));Object.assign(g,b.getDefaultBatchObj()),v.postData.asOf&&Object.assign(g,{
asOf:f.safeAsOfDateRelativeTo(moment(v.postData.asOf).startOf("day"),v.org)}),g._dueDateUtc=v.postData.submissionDueDate?f.endOfDayRelativeTo(moment(v.postData.submissionDueDate),v.org):null,g._requestType=_.isPacket?1:0,g._templateId=_.item.id,g._includedEmployeeIds=c.unique(w.map(function(e){return e.id})),g._excludedEmployeeIds=c.unique(T.map(function(e){return e.id})),h=_.isPacket?i.postPacketInstanceBatch:i.postFormInstanceBatch,n(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({organizationId:v.org.id},g);case 3:n=e.sent,_.batches.unshift(n),v.removeGroup(),l.clear(y),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),a.error("",'There was an error sending "'+t.form._name+'"',!1);case 13:return e.prev=13,_.isSending=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,9,13,16]])}))()}},removeBatch:function(e){var t=_.batches.indexOf(e);_.batches.splice(t,1)}});n(regeneratorRuntime.mark(function e(){var n,s,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y=v.org.id+"_template_"+v.data.id,e.next=4,i.getAllBatches({organizationId:v.org.id,"filter[templateid]":_.item.id});case 4:if(n=e.sent,n.length){e.next=7;break}return e.abrupt("return");case 7:return s=n.map(function(e){return i.getBatchStatus({id:e.id})}),e.next=10,m.all(s);case 10:o=e.sent,o=o.filter(function(e){return 3!==e._status&&!e._isArchived||3===e._status&&e._numFailed}),l=n.filter(function(e){return o.find(function(t){return t.id===e.id})}),_.batches=[].concat(r(l)),t.$on("$destroy",t.$watch("vm.batches.length",function(e,t){_.batchStyles=b.getBatchListStyles(_.batches)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),a.error("",'There was an error retrieving current batches for "'+_.item._name+'"');case 20:case"end":return e.stop()}},e,this,[[0,17]])}))(),v.go={send:function(){var e=v.postData.recipients,t=v.postData.bulkRecipients,n=v.postData.exclusions;w.send(e,t,n)}}}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentSendHeader",function(){return new c("header")})},{"base-segment":16}],49:[function(e,t,n){"use strict";function r(e){return{preview:function(t){e.url("/ec-formbuilder/form/"+t.id+"/preview")},buildInstance:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object.assign({},t),s=e.id;if(null!=r&&r.length){if(r.map(function(e){return e.id}).includes(s))return}i.employee={employeeId:s},n.attributes.push(i)},getDefaultBatchObj:function(){return{_requestType:0,_templateId:"",_filters:{},_includedEmployeeIds:[],_excludedEmployeeIds:[]}},getBatchListStyles:function(e){return{height:100*e.length+"px",transition:"height 0.5s","transition-delay":"1s"}}}}r.$inject=["$location"],angular.module("ec-forms-segment-logic").factory("segmentSendHeaderLogic",r)},{}],50:[function(e,t,n){"use strict";var r=e("base-state"),i={retryLoading:!1},s={url:"/send/{type:[A-Za-z]+}/{id:[0-9A-Za-z-]+}",templateUrl:"routes/send/send.html",resolve:{packetFormName:["$stateParams","ssAsync","ssFormTemplatesApi","ssPacketsApi",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.templateType=e.type,"Packet"!==i.templateType){t.next=8;break}return t.next=5,r.get({id:e.id});case 5:i.data=t.sent,t.next=11;break;case 8:return t.next=10,n.get({id:e.id,include:"steps,formFields,statusHistory"});case 10:i.data=t.sent;case 11:return t.abrupt("return",i.data._name);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,this,[[0,14]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["$stateParams","packetFormName",function(e,t){return"Frontline Central - Send "+e.type+" "+t}]},$permissions:function(e){return e.isPermittedAction("formTemplates","send")||e.isPermittedAction("packets","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.send",new r.State(s,i))}])},{"base-state":17}]},{},[2]);